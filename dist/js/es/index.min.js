class t{enterFullScreen(){document.fullscreenElement||document.documentElement.requestFullscreen({navigationUI:"hide"})}exitFullScreen(){document.exitFullscreen&&document.exitFullscreen()}addFullScreenListener(t){document.addEventListener("fullscreenchange",t,!1)}isFullScreen(){return!!document.fullscreenElement}}class e{static async load(t){return(await fetch(t)).arrayBuffer()}}class n{static load(t,e,n=e.LINEAR,i=e.LINEAR,r=!1){return new Promise(((s,a)=>{const o=e.createTexture();if(null===o)return void a("Error creating WebGL texture");const h=new Image;h.src=t,h.onload=()=>{e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,h),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i),!0===r?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)),e.bindTexture(e.TEXTURE_2D,null),h&&h.src&&console.log(`Loaded texture ${t} [${h.width}x${h.height}]`),s(o)},h.onerror=()=>a("Cannot load image")}))}static async loadCubemap(t,e,n="png"){const i=e.createTexture();if(null===i)throw new Error("Error creating WebGL texture");e.bindTexture(e.TEXTURE_CUBE_MAP,i),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.NEAREST);const r=[{type:e.TEXTURE_CUBE_MAP_POSITIVE_X,suffix:`-posx.${n}`},{type:e.TEXTURE_CUBE_MAP_NEGATIVE_X,suffix:`-negx.${n}`},{type:e.TEXTURE_CUBE_MAP_POSITIVE_Y,suffix:`-posy.${n}`},{type:e.TEXTURE_CUBE_MAP_NEGATIVE_Y,suffix:`-negy.${n}`},{type:e.TEXTURE_CUBE_MAP_POSITIVE_Z,suffix:`-posz.${n}`},{type:e.TEXTURE_CUBE_MAP_NEGATIVE_Z,suffix:`-negz.${n}`}].map((n=>new Promise(((r,s)=>{const a=new Image;a.src=t+n.suffix,a.onload=()=>{e.bindTexture(e.TEXTURE_CUBE_MAP,i),e.texImage2D(n.type,0,e.RGB,e.RGB,e.UNSIGNED_BYTE,a),a&&a.src&&console.log(`Loaded texture ${t}${n.suffix} [${a.width}x${a.height}]`),r()},a.onerror=()=>s("Cannot load image")}))));return await Promise.all(r),e.bindTexture(e.TEXTURE_2D,null),i}}class i{constructor(){this.numIndices=0}loadBuffer(t,e,n,i){var r=new Uint8Array(i,0,i.byteLength);t.bindBuffer(n,e),t.bufferData(n,r,t.STATIC_DRAW)}async load(t,n){const[i,r]=await Promise.all([e.load(`${t}-indices.bin`),e.load(`${t}-strides.bin`)]);console.log(`Loaded ${t}-indices.bin (${i.byteLength} bytes)`),console.log(`Loaded ${t}-strides.bin (${r.byteLength} bytes)`),this.bufferIndices=n.createBuffer(),this.loadBuffer(n,this.bufferIndices,n.ELEMENT_ARRAY_BUFFER,i),this.numIndices=i.byteLength/2/3,this.bufferStrides=n.createBuffer(),this.loadBuffer(n,this.bufferStrides,n.ARRAY_BUFFER,r)}bindBuffers(t){t.bindBuffer(t.ARRAY_BUFFER,this.bufferStrides),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.bufferIndices)}getNumIndices(){return this.numIndices}}class r{constructor(t){this.gl=t,this.vertexShaderCode="",this.fragmentShaderCode="",this.fillCode(),this.initShader()}getShader(t,e){const n=this.gl.createShader(t);if(n){if(this.gl.shaderSource(n,e),this.gl.compileShader(n),this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS))return n;console.warn(this.gl.getShaderInfoLog(n))}else console.warn("Error creating shader.")}getUniform(t){if(void 0===this.program)throw new Error("No program for shader.");const e=this.gl.getUniformLocation(this.program,t);if(null!==e)return e;throw new Error(`Cannot get uniform "${t}".`)}getAttrib(t){if(void 0===this.program)throw new Error("No program for shader.");return this.gl.getAttribLocation(this.program,t)}initShader(){const t=this.getShader(this.gl.FRAGMENT_SHADER,this.fragmentShaderCode),e=this.getShader(this.gl.VERTEX_SHADER,this.vertexShaderCode),n=this.gl.createProgram();void 0!==t&&void 0!==e&&null!==n&&(this.gl.attachShader(n,e),this.gl.attachShader(n,t),this.gl.linkProgram(n),this.gl.getProgramParameter(n,this.gl.LINK_STATUS)?console.log(this.constructor.name+": Initialised shader"):console.warn(this.constructor.name+": Could not initialise shader"),this.gl.useProgram(n),this.program=n,this.fillUniformsAttributes())}use(){this.program&&this.gl.useProgram(this.program)}deleteProgram(){this.program&&this.gl.deleteProgram(this.program)}}var s=1e-6,a="undefined"!=typeof Float32Array?Float32Array:Array;function o(){var t=new a(16);return a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function h(t,e,n){var i=e[0],r=e[1],s=e[2],a=e[3],o=e[4],h=e[5],u=e[6],l=e[7],c=e[8],_=e[9],f=e[10],d=e[11],m=e[12],w=e[13],g=e[14],p=e[15],v=n[0],A=n[1],E=n[2],b=n[3];return t[0]=v*i+A*o+E*c+b*m,t[1]=v*r+A*h+E*_+b*w,t[2]=v*s+A*u+E*f+b*g,t[3]=v*a+A*l+E*d+b*p,v=n[4],A=n[5],E=n[6],b=n[7],t[4]=v*i+A*o+E*c+b*m,t[5]=v*r+A*h+E*_+b*w,t[6]=v*s+A*u+E*f+b*g,t[7]=v*a+A*l+E*d+b*p,v=n[8],A=n[9],E=n[10],b=n[11],t[8]=v*i+A*o+E*c+b*m,t[9]=v*r+A*h+E*_+b*w,t[10]=v*s+A*u+E*f+b*g,t[11]=v*a+A*l+E*d+b*p,v=n[12],A=n[13],E=n[14],b=n[15],t[12]=v*i+A*o+E*c+b*m,t[13]=v*r+A*h+E*_+b*w,t[14]=v*s+A*u+E*f+b*g,t[15]=v*a+A*l+E*d+b*p,t}function u(){var t=new a(3);return a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function l(t,e,n){var i=new a(3);return i[0]=t,i[1]=e,i[2]=n,i}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function c(){var t=new a(4);return a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}u(),function(){var t,e=(t=new a(4),a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t)}();var _;u(),l(1,0,0),l(0,1,0),c(),c(),_=new a(9),a!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[5]=0,_[6]=0,_[7]=0),_[0]=1,_[4]=1,_[8]=1,function(){var t=function(){var t=new a(2);return a!=Float32Array&&(t[0]=0,t[1]=0),t}()}();class f{constructor(){this.mMMatrix=o(),this.mVMatrix=o(),this.mMVPMatrix=o(),this.mProjMatrix=o(),this.matOrtho=o(),this.m_boundTick=this.tick.bind(this),this.isWebGL2=!1,this.viewportWidth=0,this.viewportHeight=0}get gl(){if(void 0===this.m_gl)throw new Error("No WebGL context");return this.m_gl}logGLError(){var t=this.gl.getError();t!==this.gl.NO_ERROR&&console.warn(`WebGL error # + ${t}`)}setTexture2D(t,e,n){this.gl.activeTexture(this.gl.TEXTURE0+t),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.uniform1i(n,t)}setTextureCubemap(t,e,n){this.gl.activeTexture(this.gl.TEXTURE0+t),this.gl.bindTexture(this.gl.TEXTURE_CUBE_MAP,e),this.gl.uniform1i(n,t)}setFOV(t,e,n,i,r){const s=Math.tan(e/360*Math.PI)*i,a=s*n;!function(t,e,n,i,r,s,a){var o=1/(n-e),h=1/(r-i),u=1/(s-a);t[0]=2*s*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*h,t[6]=0,t[7]=0,t[8]=(n+e)*o,t[9]=(r+i)*h,t[10]=(a+s)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*s*2*u,t[15]=0}(t,-a,a,-s,s,i,r)}calculateMVPMatrix(t,e,n,i,r,a,o,u,l){!function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(this.mMMatrix),function(t,e,n,i){var r,a,o,h,u,l,c,_,f,d,m,w,g,p,v,A,E,b,T,y,x,R,F,C,S=i[0],M=i[1],N=i[2],$=Math.hypot(S,M,N);$<s||(S*=$=1/$,M*=$,N*=$,r=Math.sin(n),o=1-(a=Math.cos(n)),h=e[0],u=e[1],l=e[2],c=e[3],_=e[4],f=e[5],d=e[6],m=e[7],w=e[8],g=e[9],p=e[10],v=e[11],A=S*S*o+a,E=M*S*o+N*r,b=N*S*o-M*r,T=S*M*o-N*r,y=M*M*o+a,x=N*M*o+S*r,R=S*N*o+M*r,F=M*N*o-S*r,C=N*N*o+a,t[0]=h*A+_*E+w*b,t[1]=u*A+f*E+g*b,t[2]=l*A+d*E+p*b,t[3]=c*A+m*E+v*b,t[4]=h*T+_*y+w*x,t[5]=u*T+f*y+g*x,t[6]=l*T+d*y+p*x,t[7]=c*T+m*y+v*x,t[8]=h*R+_*F+w*C,t[9]=u*R+f*F+g*C,t[10]=l*R+d*F+p*C,t[11]=c*R+m*F+v*C,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]))}(this.mMMatrix,this.mMMatrix,0,[1,0,0]),function(t,e,n){var i,r,s,a,o,h,u,l,c,_,f,d,m=n[0],w=n[1],g=n[2];e===t?(t[12]=e[0]*m+e[4]*w+e[8]*g+e[12],t[13]=e[1]*m+e[5]*w+e[9]*g+e[13],t[14]=e[2]*m+e[6]*w+e[10]*g+e[14],t[15]=e[3]*m+e[7]*w+e[11]*g+e[15]):(i=e[0],r=e[1],s=e[2],a=e[3],o=e[4],h=e[5],u=e[6],l=e[7],c=e[8],_=e[9],f=e[10],d=e[11],t[0]=i,t[1]=r,t[2]=s,t[3]=a,t[4]=o,t[5]=h,t[6]=u,t[7]=l,t[8]=c,t[9]=_,t[10]=f,t[11]=d,t[12]=i*m+o*w+c*g+e[12],t[13]=r*m+h*w+_*g+e[13],t[14]=s*m+u*w+f*g+e[14],t[15]=a*m+l*w+d*g+e[15])}(this.mMMatrix,this.mMMatrix,[t,e,n]),function(t,e,n){var i=n[0],r=n[1],s=n[2];t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}(this.mMMatrix,this.mMMatrix,[o,u,l]),function(t,e,n){var i=Math.sin(n),r=Math.cos(n),s=e[4],a=e[5],o=e[6],h=e[7],u=e[8],l=e[9],c=e[10],_=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*r+u*i,t[5]=a*r+l*i,t[6]=o*r+c*i,t[7]=h*r+_*i,t[8]=u*r-s*i,t[9]=l*r-a*i,t[10]=c*r-o*i,t[11]=_*r-h*i}(this.mMMatrix,this.mMMatrix,i),function(t,e,n){var i=Math.sin(n),r=Math.cos(n),s=e[0],a=e[1],o=e[2],h=e[3],u=e[8],l=e[9],c=e[10],_=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*r-u*i,t[1]=a*r-l*i,t[2]=o*r-c*i,t[3]=h*r-_*i,t[8]=s*i+u*r,t[9]=a*i+l*r,t[10]=o*i+c*r,t[11]=h*i+_*r}(this.mMMatrix,this.mMMatrix,r),function(t,e,n){var i=Math.sin(n),r=Math.cos(n),s=e[0],a=e[1],o=e[2],h=e[3],u=e[4],l=e[5],c=e[6],_=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*r+u*i,t[1]=a*r+l*i,t[2]=o*r+c*i,t[3]=h*r+_*i,t[4]=u*r-s*i,t[5]=l*r-a*i,t[6]=c*r-o*i,t[7]=_*r-h*i}(this.mMMatrix,this.mMMatrix,a),h(this.mMVPMatrix,this.mVMatrix,this.mMMatrix),h(this.mMVPMatrix,this.mProjMatrix,this.mMVPMatrix)}drawScene(){this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}tick(){requestAnimationFrame(this.m_boundTick),this.resizeCanvas(),this.drawScene(),this.animate()}initGL(t){const e=t.getContext("webgl",{alpha:!1});if(null===e)throw new Error("Cannot initialize WebGL context");return e}initGL2(t){let e=t.getContext("webgl2",{alpha:!1});return null===e?(console.warn("Could not initialise WebGL 2, falling back to WebGL 1"),this.initGL(t)):e}generateMipmaps(...t){for(const e of t)this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.generateMipmap(this.gl.TEXTURE_2D)}init(t,e=!1){if(this.onBeforeInit(),this.canvas=document.getElementById(t),null===this.canvas)throw new Error("Cannot find canvas element");this.viewportWidth=this.canvas.width,this.viewportHeight=this.canvas.height,this.m_gl=e?this.initGL2(this.canvas):this.initGL(this.canvas),this.m_gl?(this.resizeCanvas(),this.onAfterInit(),this.initShaders(),this.loadData(),this.m_boundTick()):this.onInitError()}resizeCanvas(){if(void 0===this.canvas)return;const t=window.devicePixelRatio||1,e=Math.floor(this.canvas.clientWidth*t),n=Math.floor(this.canvas.clientHeight*t);this.canvas.width==e&&this.canvas.height==n||(this.canvas.width=e,this.canvas.height=n)}checkGlError(t){let e;for(;(e=this.gl.getError())!==this.gl.NO_ERROR;)console.error(`${t}: glError ${e}`)}unbindBuffers(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null)}getMVPMatrix(){return this.mMVPMatrix}getOrthoMatrix(){return this.matOrtho}getModelMatrix(){return this.mMMatrix}getViewMatrix(){return this.mVMatrix}getProjectionMatrix(){return this.mProjMatrix}}class d{constructor(t){this.gl=t,this.m_textureHandle=null,this.m_depthTextureHandle=null,this.m_framebufferHandle=null,this.m_depthbufferHandle=null}createGLData(t,e){if(this.m_width=t,this.m_height=e,null!==this.m_textureHandle&&this.m_width>0&&this.m_height>0){this.m_framebufferHandle=this.gl.createFramebuffer(),null!==this.m_textureHandle&&(this.gl.bindTexture(this.gl.TEXTURE_2D,this.m_textureHandle),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.m_framebufferHandle),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this.m_textureHandle,0),this.checkGlError("FB")),null===this.m_depthTextureHandle?(this.m_depthbufferHandle=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.m_depthbufferHandle),this.checkGlError("FB - glBindRenderbuffer"),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,this.m_width,this.m_height),this.checkGlError("FB - glRenderbufferStorage"),this.gl.framebufferRenderbuffer(this.gl.FRAMEBUFFER,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,this.m_depthbufferHandle),this.checkGlError("FB - glFramebufferRenderbuffer")):(this.gl.bindTexture(this.gl.TEXTURE_2D,this.m_depthTextureHandle),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.m_framebufferHandle),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.m_depthTextureHandle,0),this.checkGlError("FB depth"));const t=this.gl.checkFramebufferStatus(this.gl.FRAMEBUFFER);t!=this.gl.FRAMEBUFFER_COMPLETE&&console.error(`Error creating framebufer: ${t}`),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,null),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)}}checkGlError(t){let e;for(;(e=this.gl.getError())!==this.gl.NO_ERROR;)console.error(`${t}: glError ${e}`)}get width(){return this.m_width}set width(t){this.m_width=t}get height(){return this.m_height}set height(t){this.m_height=t}get textureHandle(){return this.m_textureHandle}set textureHandle(t){this.m_textureHandle=t}get depthbufferHandle(){return this.m_depthbufferHandle}set depthbufferHandle(t){this.m_depthbufferHandle=t}get framebufferHandle(){return this.m_framebufferHandle}set framebufferHandle(t){this.m_framebufferHandle=t}get depthTextureHandle(){return this.m_depthTextureHandle}set depthTextureHandle(t){this.m_depthTextureHandle=t}}class m{constructor(t){this.gl=t,this.m_textureHandle=null,this.m_depthTextureHandle=null,this.m_framebufferHandle=null,this.m_framebufferMsaaHandle=null,this.m_depthBufferHandle=null,this.m_depthBufferMsaaHandle=null,this.m_colorBufferHandle=null}createGLData(t,e){if(this.m_width=t,this.m_height=e,null!==this.m_textureHandle&&this.m_width>0&&this.m_height>0){this.m_framebufferHandle=this.gl.createFramebuffer(),null!==this.m_textureHandle&&(this.gl.bindTexture(this.gl.TEXTURE_2D,this.m_textureHandle),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.m_framebufferHandle),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this.m_textureHandle,0),this.checkGlError("FB")),null===this.m_depthTextureHandle?(this.m_depthBufferHandle=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.m_depthBufferHandle),this.checkGlError("FB - glBindRenderbuffer"),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,this.m_width,this.m_height),this.checkGlError("FB - glRenderbufferStorage"),this.gl.framebufferRenderbuffer(this.gl.FRAMEBUFFER,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,this.m_depthBufferHandle),this.checkGlError("FB - glFramebufferRenderbuffer")):(this.gl.bindTexture(this.gl.TEXTURE_2D,this.m_depthTextureHandle),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.m_framebufferHandle),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.m_depthTextureHandle,0),this.checkGlError("FB depth"));const t=this.gl.checkFramebufferStatus(this.gl.FRAMEBUFFER);t!=this.gl.FRAMEBUFFER_COMPLETE&&console.error(`Error creating framebufer: ${t}`),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,null),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.m_depthBufferMsaaHandle=this.gl.createRenderbuffer(),this.m_framebufferMsaaHandle=this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.m_framebufferMsaaHandle),this.m_colorBufferHandle=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.m_colorBufferHandle),this.gl.renderbufferStorageMultisample(this.gl.RENDERBUFFER,4,this.gl.RGB8,this.m_width,this.m_height),this.gl.framebufferRenderbuffer(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.RENDERBUFFER,this.m_colorBufferHandle),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.m_depthBufferMsaaHandle),this.gl.renderbufferStorageMultisample(this.gl.RENDERBUFFER,4,this.gl.DEPTH_COMPONENT16,this.m_width,this.m_height),this.checkGlError("FB - glRenderbufferStorage"),this.gl.framebufferRenderbuffer(this.gl.FRAMEBUFFER,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,this.m_depthBufferMsaaHandle);const e=this.gl.checkFramebufferStatus(this.gl.FRAMEBUFFER);e!=this.gl.FRAMEBUFFER_COMPLETE&&console.error(`Error creating MSAA framebufer: ${e}`),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,null),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)}}checkGlError(t){let e;for(;(e=this.gl.getError())!==this.gl.NO_ERROR;)console.error(`${t}: glError ${e}`)}get width(){return this.m_width}set width(t){this.m_width=t}get height(){return this.m_height}set height(t){this.m_height=t}get textureHandle(){return this.m_textureHandle}set textureHandle(t){this.m_textureHandle=t}get depthbufferHandle(){return this.m_depthBufferHandle}set depthbufferHandle(t){this.m_depthBufferHandle=t}get framebufferHandle(){return this.m_framebufferHandle}set framebufferHandle(t){this.m_framebufferHandle=t}get depthTextureHandle(){return this.m_depthTextureHandle}set depthTextureHandle(t){this.m_depthTextureHandle=t}get colorBufferHandle(){return this.m_colorBufferHandle}get framebufferMsaaHandle(){return this.m_framebufferMsaaHandle}}class w{static createNpotTexture(t,e,n,i=!1){const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texParameterf(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameterf(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);let s=null,a=null;return i?(s=t.RGBA,a=t.RGBA):(s=t.RGB,a=t.RGB),t.texImage2D(t.TEXTURE_2D,0,a,e,n,0,s,t.UNSIGNED_BYTE,null),r}static createDepthTexture(t,e,n){const i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i),t.texParameterf(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameterf(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);const r=t.getParameter(t.VERSION)||"",s=t.DEPTH_COMPONENT,a=r.includes("WebGL 2")?t.DEPTH_COMPONENT16:t.DEPTH_COMPONENT,o=t.UNSIGNED_SHORT;return t.texImage2D(t.TEXTURE_2D,0,a,e,n,0,s,o,null),i}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function g(t,e){return t(e={exports:{}},e.exports),e.exports}var p=g((function(t,e){var n,i;void 0===ArrayBuffer.isView&&(ArrayBuffer.isView=function(t){return null!=t&&null!=t.__proto__&&t.__proto__.__proto__===Int8Array.prototype.__proto__}),void 0===Array.prototype.fill&&Object.defineProperty(Array.prototype,"fill",{value:function(t){if(null==this)throw new TypeError("this is null or not defined");for(var e=Object(this),n=e.length>>>0,i=arguments[1]|0,r=i<0?Math.max(n+i,0):Math.min(i,n),s=arguments[2],a=void 0===s?n:s|0,o=a<0?Math.max(n+a,0):Math.min(a,n);r<o;)e[r]=t,r++;return e}}),[Int8Array,Int16Array,Uint16Array,Int32Array,Float32Array,Float64Array].forEach((function(t){void 0===t.prototype.fill&&Object.defineProperty(t.prototype,"fill",{value:Array.prototype.fill})})),void 0===Math.clz32&&(Math.clz32=(n=Math.log,i=Math.LN2,function(t){var e=t>>>0;return 0===e?32:31-(n(e)/i|0)|0})),void 0===Math.imul&&(Math.imul=function(t,e){return(4294901760&t)*(65535&e)+(65535&t)*(0|e)|0}),function(t){var e,n,i,r,s,a,o,h,u,l,c,_,f,d,m,w,g,p,v,A,E,b,T,y,x,R,F,C,S,M,N,$=Math.clz32,k=ArrayBuffer.isView,O=Math.imul;function P(t){var e;t:if(ci(t,Te)&&t.k())e=!0;else{for(var n=t.h();n.o();){var i=n.p();if(null==i||!ci(i,xe)||!this.y3(i)){e=!1;break t}}e=!0}return e}function I(){}function L(){}function D(){}function U(){this.MIN_VALUE=-2147483648,this.MAX_VALUE=2147483647,this.SIZE_BYTES=4,this.SIZE_BITS=32}function B(t){return!(t==t)}function q(t){return 0===t?0:1<<31-$(t)}function z(t){return vr(t)}function j(t){return Fr([t])}function H(t){return t}function V(t){return void 0!==t.toArray?t.toArray():z(t)}function G(t,e,n,i,r){y.f(i,r,t.length);var s=r-i|0;if(y.f(n,n+s|0,e.length),k(e)&&k(t)){var a=t.subarray(i,r);e.set(a,n)}else if(t!==e||n<=i){var o=0;if(o<s)do{var h=o;o=o+1|0,e[n+h|0]=t[i+h|0]}while(o<s)}else{var u=s-1|0;if(0<=u)do{var l=u;u=u+-1|0,e[n+l|0]=t[i+l|0]}while(0<=u)}}function X(){cr.call(this)}function W(t){this.n_1=t,this.l_1=0,this.m_1=-1}function Y(){X.call(this),this.r_1=0}function Z(){gr.call(this),this.y_1=null,this.z_1=null}function K(){X.call(this)}function Q(t){if(!(t>=0))throw Mi(Je("capacity must be non-negative."));return Oe(Array(t),null)}function J(t,e,n){t.fill(null,e,n)}function tt(t,e){return Ei(t,e)}function et(){i=this;var t=this,e=at(0);e.o1_1=!0,t.p1_1=e}function nt(){return null==i&&new et,i}function it(t){var e=[];return lt.call(t,e),t}function rt(){return it(dn(_n(lt)))}function st(t,e){var n=[];if(lt.call(e,n),!(t>=0))throw Mi(Je("Negative initial capacity: "+t));return e}function at(t){return st(t,dn(_n(lt)))}function ot(t,e){var n=V(t);return lt.call(e,n),e}function ht(t){return ot(t,dn(_n(lt)))}function ut(t,e){return y.q1(e,t.g()),e}function lt(t){nt(),Y.call(this),this.n1_1=t,this.o1_1=!1}function ct(t,e){return Z.call(e),wt.call(e),e.x1_1=t,e}function _t(t){return ct(xt(),t),t}function ft(){return _t(dn(_n(wt)))}function dt(t,e,n){return ct(Ct(t,e),n),n}function mt(t,e){return dt(t,1,e),e}function wt(){this.y1_1=null}function gt(t){X.call(this),this.a2_1=t}function pt(t){vt.call(this,t)}function vt(t){K.call(this),this.e2_1=t}function At(t){this.j2_1=t}function Et(t){X.call(this),this.l2_1=t}function bt(t,e){return q(O(me(e,1),3))}function Tt(t,e){return $(e)+1|0}function yt(t){return Rt(8,t),t}function xt(){return yt(dn(_n(Yt)))}function Rt(t,e){return Yt.call(e,Q(t),null,new Int32Array(t),new Int32Array(bt(r,t)),2,0),e}function Ft(t,e,n){if(Rt(t,n),!(e>0))throw Mi(Je("Non-positive load factor: "+e));return n}function Ct(t,e){return Ft(t,e,dn(_n(Yt)))}function St(t){return t.m2_1.length}function Mt(t){return t.p2_1.length}function Nt(t){t.t2_1=t.t2_1+1|0}function $t(t,e){kt(t,e)?Dt(t,Mt(t)):Ot(t,t.r2_1+e|0)}function kt(t,e){var n=St(t)-t.r2_1|0,i=t.r2_1-t.g()|0;return n<e&&(i+n|0)>=e&&i>=(St(t)/4|0)}function Ot(t,e){if(e<0)throw Wi("too many elements");if(e>St(t)){var n=y.w2(St(t),e);t.m2_1=tt(t.m2_1,n);var i=t,s=t.n2_1;i.n2_1=null==s?null:tt(s,n),t.o2_1=Ai(t.o2_1,n);var a=bt(r,n);a>Mt(t)&&Dt(t,a)}}function Pt(t){var e=t.n2_1;if(null!=e)return e;var n=Q(St(t));return t.n2_1=n,n}function It(t,e){return null==e?0:O(en(e),-1640531527)>>>t.s2_1|0}function Lt(t){for(var e=0,n=0,i=t.n2_1;e<t.r2_1;)t.o2_1[e]>=0&&(t.m2_1[n]=t.m2_1[e],null!=i&&(i[n]=i[e]),n=n+1|0),e=e+1|0;J(t.m2_1,n,t.r2_1),null==i||J(i,n,t.r2_1),t.r2_1=n}function Dt(t,e){Nt(t),t.r2_1>t.u2_1&&Lt(t),e!==Mt(t)?(t.p2_1=new Int32Array(e),t.s2_1=Tt(r,e)):pi(t.p2_1,0,0,Mt(t));for(var n=0;n<t.r2_1;){var i=n;if(n=i+1|0,!Ut(t,i))throw Bi("This cannot happen with fixed magic multiplier and grow-only hash array. Have object hashCodes changed?")}}function Ut(t,e){for(var n=It(t,t.m2_1[e]),i=t.q2_1;;){if(0===t.p2_1[n])return t.p2_1[n]=e+1|0,t.o2_1[e]=n,!0;if((i=i-1|0)<0)return!1;var r=n;n=r-1|0,0===r&&(n=Mt(t)-1|0)}}function Bt(t,e){for(var n=It(t,e),i=t.q2_1;;){var r=t.p2_1[n];if(0===r)return-1;if(r>0&&tn(t.m2_1[r-1|0],e))return r-1|0;if((i=i-1|0)<0)return-1;var s=n;n=s-1|0,0===s&&(n=Mt(t)-1|0)}}function qt(t,e){for(var n=t.r2_1;(n=n-1|0)>=0;)if(t.o2_1[n]>=0&&tn(gn(t.n2_1)[n],e))return n;return-1}function zt(t,e){t.r1();t:for(;;)for(var n=It(t,e),i=we(O(t.q2_1,2),Mt(t)/2|0),r=0;;){var s=t.p2_1[n];if(s<=0){if(t.r2_1>=St(t)){$t(t,1);continue t}var a=t.r2_1;t.r2_1=a+1|0;var o=a;return t.m2_1[o]=e,t.o2_1[o]=n,t.p2_1[n]=o+1|0,t.u2_1=t.u2_1+1|0,Nt(t),r>t.q2_1&&(t.q2_1=r),o}if(tn(t.m2_1[s-1|0],e))return 0|-s;if((r=r+1|0)>i){Dt(t,O(Mt(t),2));continue t}var h=n;n=h-1|0,0===h&&(n=Mt(t)-1|0)}}function jt(t,e){return t.u2_1===e.g()&&t.i2(e.j1())}function Ht(){this.x2_1=-1640531527,this.y2_1=8,this.z2_1=2,this.a3_1=-1}function Vt(t){this.b3_1=t,this.c3_1=0,this.d3_1=-1,this.e3_1=this.b3_1.t2_1,this.f3()}function Gt(t){Vt.call(this,t)}function Xt(t){Vt.call(this,t)}function Wt(t,e){this.v3_1=t,this.w3_1=e}function Yt(t,e,n,i,s,a){this.m2_1=t,this.n2_1=e,this.o2_1=n,this.p2_1=i,this.q2_1=s,this.r2_1=a,this.s2_1=Tt(r,Mt(this)),this.t2_1=0,this.u2_1=0,this.v2_1=!1}function Zt(){}function Kt(t){return _t(t),ee.call(t),t}function Qt(){return Kt(dn(_n(ee)))}function Jt(t,e){return mt(t,e),ee.call(e),e}function te(t){return Jt(t,dn(_n(ee)))}function ee(){}function ne(){return jr(Math.random()*Math.pow(2,32)|0)}function ie(t,e){return se(e),e}function re(t){return ie(t,dn(_n(oe)))}function se(t){return oe.call(t,""),t}function ae(){return se(dn(_n(oe)))}function oe(t){this.r3_1=void 0!==t?t:""}function he(t){return ht(Cr(t))}function ue(t,e){return le(t,e)>=0}function le(t,e){if(null==e){var n=0,i=t.length-1|0;if(n<=i)do{var r=n;if(n=n+1|0,null==t[r])return r}while(n<=i)}else{var s=0,a=t.length-1|0;if(s<=a)do{var o=s;if(s=s+1|0,tn(e,t[o]))return o}while(s<=a)}return-1}function ce(t,e,n,i,r,s,a){return e=e===T?", ":e,n=n===T?"":n,i=i===T?"":i,r=r===T?-1:r,s=s===T?"...":s,a=a===T?null:a,_e(t,ae(),e,n,i,r,s,a).toString()}function _e(t,e,n,i,r,s,a,o){n=n===T?", ":n,i=i===T?"":i,r=r===T?"":r,s=s===T?-1:s,a=a===T?"...":a,o=o===T?null:o,e.z3(i);var h=0,u=0,l=t.length;t:for(;u<l;){var c=t[u];if(u=u+1|0,(h=h+1|0)>1&&e.z3(n),!(s<0||h<=s))break t;Zr(e,c,o)}return s>=0&&h>s&&e.z3(a),e.z3(r),e}function fe(t,e,n,i,r,s,a){return e=e===T?", ":e,n=n===T?"":n,i=i===T?"":i,r=r===T?-1:r,s=s===T?"...":s,a=a===T?null:a,de(t,ae(),e,n,i,r,s,a).toString()}function de(t,e,n,i,r,s,a,o){n=n===T?", ":n,i=i===T?"":i,r=r===T?"":r,s=s===T?-1:s,a=a===T?"...":a,o=o===T?null:o,e.z3(i);var h=0,u=t.h();t:for(;u.o();){var l=u.p();if((h=h+1|0)>1&&e.z3(n),!(s<0||h<=s))break t;Zr(e,l,o)}return s>=0&&h>s&&e.z3(a),e.z3(r),e}function me(t,e){return t<e?e:t}function we(t,e){return t>e?e:t}function ge(){return s}function pe(t){return t}function ve(t){return t}function Ae(t){return String.fromCharCode(ve(t))}function Ee(){}function be(){}function Te(){}function ye(){}function xe(){}function Re(){}function Fe(){}function Ce(t,e){this.a4_1=t,this.b4_1=e}function Se(t){var e=null==t?null:Je(t);return null==e?"null":e}function Me(t){for(var e=1,n=[],i=0,r=t.length;i<r;){var s=t[i];i=i+1|0;var a=e,o=s.prototype.$imask$,h=null==o?s.$imask$:o;null!=h&&(n.push(h),a=h.length);var u=s.$metadata$.iid,l=null==u?null:Ne(u);null!=l&&(n.push(l),a=Math.max(a,l.length)),a>e&&(e=a)}return $e(e,n)}function Ne(t){var e=t>>5,n=new Int32Array(e+1|0),i=1<<(31&t);return n[e]=n[e]|i,n}function $e(t,e){for(var n=0,i=new Int32Array(t);n<t;){for(var r=n,s=0,a=0,o=e.length;a<o;){var h=e[a];a=a+1|0,r<h.length&&(s|=h[r])}i[r]=s,n=n+1|0}return i}function ke(t,e){var n=e>>5;if(n>t.length)return!1;var i=1<<(31&e);return!!(t[n]&i)}function Oe(t,e){var n=0,i=t.length-1|0;if(n<=i)do{var r=n;n=n+1|0,t[r]=e}while(r!==i);return t}function Pe(t){return new Ie(t)}function Ie(t){this.h4_1=t,this.g4_1=0}function Le(){return je(),a}function De(){return je(),o}function Ue(){return je(),h}function Be(){return je(),u}function qe(){return je(),l}function ze(t){return je(),(0|t)===t?oi(t):(De()[0]=t,O(Ue()[qe()],31)+Ue()[Be()]|0)}function je(){c||(c=!0,a=new ArrayBuffer(8),o=new Float64Array(Le()),new Float32Array(Le()),h=new Int32Array(Le()),De()[0]=-1,u=0!==Ue()[0]?1:0,l=1-Be()|0)}function He(t){return ce(t,", ","[","]",T,T,Ve)}function Ve(t){return Je(t)}function Ge(t,e){var n;switch(typeof t){case"number":n="number"==typeof e?Xe(t,e):e instanceof xn?Xe(t,e.k4()):We(t,e);break;case"string":case"boolean":n=We(t,e);break;default:n=Ye(t,e)}return n}function Xe(t,e){var n;if(t<e)n=-1;else if(t>e)n=1;else if(t===e){var i;if(0!==t)i=0;else{var r=1/t;i=r===1/e?0:r<0?-1:1}n=i}else n=t!=t?e!=e?0:1:-1;return n}function We(t,e){return t<e?-1:t>e?1:0}function Ye(t,e){return t.f4(e)}function Ze(t){return Ke(t)}function Ke(t){if(!("kotlinHashCodeValue$"in t)){var e=Qe(),n=new Object;n.value=e,n.enumerable=!1,Object.defineProperty(t,"kotlinHashCodeValue$",n)}return t.kotlinHashCodeValue$}function Qe(){return 4294967296*Math.random()|0}function Je(t){return null==t?"null":ui(t)?"[...]":"function"!=typeof t.toString?nn(t):t.toString()}function tn(t,e){if(null==t)return null==e;if(null==e)return!1;if("object"==typeof t&&"function"==typeof t.equals)return t.equals(e);if(t!=t)return e!=e;if("number"==typeof t&&"number"==typeof e){var n;if(t===e)n=0!==t||1/t==1/e;else n=!1;return n}return t===e}function en(t){if(null==t)return 0;var e,n=typeof t;switch(n){case"object":e="function"==typeof t.hashCode?t.hashCode():Ke(t);break;case"function":e=Ke(t);break;case"number":e=ze(t);break;case"boolean":e=rn(t);break;case"string":e=sn(String(t));break;case"bigint":e=an(t);break;case"symbol":e=on(t);break;default:e=function(){throw new Error("Unexpected typeof `"+n+"`")}()}return e}function nn(t){return Object.prototype.toString.call(t)}function rn(t){return t?1231:1237}function sn(t){var e=0,n=0,i=t.length-1|0;if(n<=i)do{var r=n;n=n+1|0;var s=t.charCodeAt(r);e=O(e,31)+s|0}while(r!==i);return e}function an(t){for(var e=BigInt(32),n=BigInt(4294967295),i=t<0?-t:t,r=0,s=t<0?-1:1;0!=i;){var a=Number(i&n);r=O(31,r)+a|0,i>>=e}return O(r,s)}function on(t){var e=hn(t)?un():ln(),n=e.get(t);if(n!==T)return n;var i=Qe();return e.set(t,i),i}function hn(t){return Symbol.keyFor(t)!=T}function un(){return _===T&&(_=new Map),_}function ln(){return f===T&&(f=new WeakMap),f}function cn(t,e){null!=Error.captureStackTrace?Error.captureStackTrace(t,e):t.stack=(new Error).stack}function _n(t){return t.prototype}function fn(t,e,n,i){return Object.defineProperty(t,e,{configurable:!0,get:n,set:i})}function dn(t){return Object.create(t)}function mn(t,e,n){Error.call(t),wn(t,e,n)}function wn(t,e,n){var i=mi(Object.getPrototypeOf(t));if(!(1&i)){var r;if(null==e){var s;if(null!==e){var a=null==n?null:n.toString();s=null==a?T:a}else s=T;r=s}else r=e;t.message=r}2&i||(t.cause=n),t.name=Object.getPrototypeOf(t).constructor.name}function gn(t){var e;return null==t?pn():e=t,e}function pn(){throw sr()}function vn(){throw hr()}function An(t){throw Mi(t)}function En(t,e){for(var n=t.length,i=e.length,r=0,s=e;r<n&&r<i;){var a=r,o=r;r=o+1|0,s[a]=t[o]}return e}function bn(t,e,n){var i=t.slice(0,e);void 0!==t.$type$&&(i.$type$=t.$type$);var r=t.length;if(e>r)for(i.length=e;r<e;){var s=r;r=s+1|0,i[s]=n}return i}function Tn(){d=this,this.l4_1=new xn(0,-2147483648),this.m4_1=new xn(-1,2147483647),this.n4_1=8,this.o4_1=64}function yn(){return null==d&&new Tn,d}function xn(t,e){yn(),L.call(this),this.i4_1=t,this.j4_1=e}function Rn(){return Jn(),m}function Fn(){return Jn(),w}function Cn(){return Jn(),g}function Sn(){return Jn(),p}function Mn(){return Jn(),v}function Nn(){return Jn(),A}function $n(t,e){if(Jn(),Bn(t,e))return 0;var n=Hn(t),i=Hn(e);return n&&!i?-1:!n&&i?1:Hn(On(t,e))?-1:1}function kn(t,e){Jn();var n=t.j4_1>>>16|0,i=65535&t.j4_1,r=t.i4_1>>>16|0,s=65535&t.i4_1,a=e.j4_1>>>16|0,o=65535&e.j4_1,h=e.i4_1>>>16|0,u=0,l=0,c=0,_=0;return u=(u=u+((l=(l=l+((c=(c=c+((_=_+(s+(65535&e.i4_1)|0)|0)>>>16|0)|0)+(r+h|0)|0)>>>16|0)|0)+(i+o|0)|0)>>>16|0)|0)+(n+a|0)|0,new xn((c&=65535)<<16|(_&=65535),(u&=65535)<<16|(l&=65535))}function On(t,e){return Jn(),kn(t,e.s4())}function Pn(t,e){if(Jn(),Vn(t))return Rn();if(Vn(e))return Rn();if(Bn(t,Mn()))return Gn(e)?Mn():Rn();if(Bn(e,Mn()))return Gn(t)?Mn():Rn();if(Hn(t))return Hn(e)?Pn(Xn(t),Xn(e)):Xn(Pn(Xn(t),e));if(Hn(e))return Xn(Pn(t,Xn(e)));if(Wn(t,Nn())&&Wn(e,Nn()))return Yn(Un(t)*Un(e));var n=t.j4_1>>>16|0,i=65535&t.j4_1,r=t.i4_1>>>16|0,s=65535&t.i4_1,a=e.j4_1>>>16|0,o=65535&e.j4_1,h=e.i4_1>>>16|0,u=65535&e.i4_1,l=0,c=0,_=0,f=0;return _=_+((f=f+O(s,u)|0)>>>16|0)|0,f&=65535,c=(c=c+((_=_+O(r,u)|0)>>>16|0)|0)+((_=(_&=65535)+O(s,h)|0)>>>16|0)|0,_&=65535,l=(l=(l=l+((c=c+O(i,u)|0)>>>16|0)|0)+((c=(c&=65535)+O(r,h)|0)>>>16|0)|0)+((c=(c&=65535)+O(s,o)|0)>>>16|0)|0,c&=65535,l=l+(((O(n,u)+O(i,h)|0)+O(r,o)|0)+O(s,a)|0)|0,new xn(_<<16|f,(l&=65535)<<16|c)}function In(t,e){if(Jn(),Vn(e))throw xi("division by zero");if(Vn(t))return Rn();if(Bn(t,Mn())){if(Bn(e,Fn())||Bn(e,Cn()))return Mn();if(Bn(e,Mn()))return Fn();var n=Ln(Dn(t,1).r4(e),1);return Bn(n,Rn())?Hn(e)?Fn():Cn():kn(n,On(t,Pn(e,n)).r4(e))}if(Bn(e,Mn()))return Rn();if(Hn(t))return Hn(e)?Xn(t).r4(Xn(e)):Xn(Xn(t).r4(e));if(Hn(e))return Xn(t.r4(Xn(e)));for(var i=Rn(),r=t;Kn(r,e);){for(var s=Un(r)/Un(e),a=Math.max(1,Math.floor(s)),o=Math.ceil(Math.log(a)/Math.LN2),h=o<=48?1:Math.pow(2,o-48),u=Yn(a),l=Pn(u,e);Hn(l)||Zn(l,r);)l=Pn(u=Yn(a-=h),e);Vn(u)&&(u=Fn()),i=kn(i,u),r=On(r,l)}return i}function Ln(t,e){Jn();var n=63&e;return 0===n?t:n<32?new xn(t.i4_1<<n,t.j4_1<<n|t.i4_1>>>(32-n|0)):new xn(0,t.i4_1<<n-32)}function Dn(t,e){Jn();var n=63&e;return 0===n?t:n<32?new xn(t.i4_1>>>n|t.j4_1<<32-n,t.j4_1>>n):new xn(t.j4_1>>n-32,t.j4_1>=0?0:-1)}function Un(t){return Jn(),4294967296*t.j4_1+Qn(t)}function Bn(t,e){return Jn(),t.j4_1===e.j4_1&&t.i4_1===e.i4_1}function qn(t){return Jn(),t.i4_1^t.j4_1}function zn(t,e){if(Jn(),e<2||36<e)throw xi("radix out of range: "+e);if(Vn(t))return"0";if(Hn(t)){if(Bn(t,Mn())){var n=jn(e),i=t.r4(n),r=On(Pn(i,n),t).u4();return zn(i,e)+r.toString(e)}return"-"+zn(Xn(t),e)}for(var s=2===e?31:e<=10?9:e<=21?7:e<=35?6:5,a=Yn(Math.pow(e,s)),o=t,h="";;){var u=o.r4(a),l=On(o,Pn(u,a)).u4().toString(e);if(Vn(o=u))return l+h;for(;l.length<s;)l="0"+l;h=l+h}}function jn(t){return Jn(),new xn(t,t<0?-1:0)}function Hn(t){return Jn(),t.j4_1<0}function Vn(t){return Jn(),0===t.j4_1&&0===t.i4_1}function Gn(t){return Jn(),!(1&~t.i4_1)}function Xn(t){return Jn(),t.s4()}function Wn(t,e){return Jn(),$n(t,e)<0}function Yn(t){if(Jn(),B(t))return Rn();if(t<=-0x8000000000000000)return Mn();if(t+1>=0x8000000000000000)return Sn();if(t<0)return Xn(Yn(-t));var e=4294967296;return new xn(t%e|0,t/e|0)}function Zn(t,e){return Jn(),$n(t,e)>0}function Kn(t,e){return Jn(),$n(t,e)>=0}function Qn(t){return Jn(),t.i4_1>=0?t.i4_1:4294967296+t.i4_1}function Jn(){E||(E=!0,m=jn(0),w=jn(1),g=jn(-1),p=new xn(-1,2147483647),v=new xn(0,-2147483648),A=jn(16777216))}function ti(t,e,n,i,r){return ei("class",t,e,n,i,r,null)}function ei(t,e,n,i,r,s,a){return{kind:t,simpleName:e,associatedObjectKey:i,associatedObjects:r,suspendArity:s,$kClass$:T,defaultConstructor:n,iid:a}}function ni(t,e,n,i,r,s,a,o,h){null!=i&&(t.prototype=Object.create(i.prototype),t.prototype.constructor=t);var u=n(e,s,a,o,null==h?[]:h);t.$metadata$=u,null!=r&&((null!=u.iid?t:t.prototype).$imask$=Me(r))}function ii(t,e,n,i,r){return ei("interface",t,e,n,i,r,ri())}function ri(){return b===T&&(b=0),b=b+1|0}function si(t,e,n,i,r){return ei("object",t,e,n,i,r,null)}function ai(t){var e=t.length,n=Array(e),i=0,r=e-1|0;if(i<=r)do{var s=i;i=i+1|0;var a=t[s];null!=a&&fi(a)?n[s]=a:n[s]=[].slice.call(a)}while(s!==r);return[].concat.apply([],n)}function oi(t){return t instanceof xn?t.u4():hi(t)}function hi(t){return t>2147483647?2147483647:t<-2147483648?-2147483648:0|t}function ui(t){return!!li(t)||k(t)}function li(t){return Array.isArray(t)}function ci(t,e){return _i(t,e.$metadata$.iid)}function _i(t,e){var n=t.$imask$;return null!=n&&ke(n,e)}function fi(t){return!!li(t)&&!t.$type$}function di(t){return"string"==typeof t||ci(t,I)}function mi(t){var e=t.constructor,n=null==e?null:e.$metadata$,i=null==n?null:n.errorInfo;if(null!=i)return i;var r=0;if(wi(t,"message")&&(r|=1),wi(t,"cause")&&(r|=2),3!==r){var s=gi(t);s!=Error.prototype&&(r|=mi(s))}return null!=n&&(n.errorInfo=r),r}function wi(t,e){return t.hasOwnProperty(e)}function gi(t){return Object.getPrototypeOf(t)}function pi(t,e,n,i){n=n===T?0:n,i=i===T?t.length:i,y.f(n,i,t.length),t.fill(e,n,i)}function vi(t){return new lt(t)}function Ai(t,e){if(!(e>=0))throw Mi(Je("Invalid new array size: "+e+"."));return En(t,new Int32Array(e))}function Ei(t,e){if(!(e>=0))throw Mi(Je("Invalid new array size: "+e+"."));return bn(t,e,null)}function bi(t){return mn(t),Ri.call(t),t}function Ti(){var t=bi(dn(_n(Ri)));return cn(t,Ti),t}function yi(t,e){return mn(e,t),Ri.call(e),e}function xi(t){var e=yi(t,dn(_n(Ri)));return cn(e,xi),e}function Ri(){cn(this,Ri)}function Fi(t){return Vi(t),Ni.call(t),t}function Ci(){var t=Fi(dn(_n(Ni)));return cn(t,Ci),t}function Si(t,e){return Xi(t,e),Ni.call(e),e}function Mi(t){var e=Si(t,dn(_n(Ni)));return cn(e,Mi),e}function Ni(){cn(this,Ni)}function $i(t){return Vi(t),Ii.call(t),t}function ki(){var t=$i(dn(_n(Ii)));return cn(t,ki),t}function Oi(t,e){return Xi(t,e),Ii.call(e),e}function Pi(t){var e=Oi(t,dn(_n(Ii)));return cn(e,Pi),e}function Ii(){cn(this,Ii)}function Li(t){return Vi(t),qi.call(t),t}function Di(){var t=Li(dn(_n(qi)));return cn(t,Di),t}function Ui(t,e){return Xi(t,e),qi.call(e),e}function Bi(t){var e=Ui(t,dn(_n(qi)));return cn(e,Bi),e}function qi(){cn(this,qi)}function zi(t){return Vi(t),Hi.call(t),t}function ji(){var t=zi(dn(_n(Hi)));return cn(t,ji),t}function Hi(){cn(this,Hi)}function Vi(t){return bi(t),Yi.call(t),t}function Gi(){var t=Vi(dn(_n(Yi)));return cn(t,Gi),t}function Xi(t,e){return yi(t,e),Yi.call(e),e}function Wi(t){var e=Xi(t,dn(_n(Yi)));return cn(e,Wi),e}function Yi(){cn(this,Yi)}function Zi(t){return Vi(t),tr.call(t),t}function Ki(){var t=Zi(dn(_n(tr)));return cn(t,Ki),t}function Qi(t,e){return Xi(t,e),tr.call(e),e}function Ji(t){var e=Qi(t,dn(_n(tr)));return cn(e,Ji),e}function tr(){cn(this,tr)}function er(t){return Vi(t),ir.call(t),t}function nr(){var t=er(dn(_n(ir)));return cn(t,nr),t}function ir(){cn(this,ir)}function rr(t){return Vi(t),ar.call(t),t}function sr(){var t=rr(dn(_n(ar)));return cn(t,sr),t}function ar(){cn(this,ar)}function or(t){return Vi(t),ur.call(t),t}function hr(){var t=or(dn(_n(ur)));return cn(t,hr),t}function ur(){cn(this,ur)}function lr(t){return function(e){return e===t?"(this Collection)":Se(e)}}function cr(){}function _r(){this.e_1=2147483639}function fr(t,e){return e===t?"(this Map)":Se(e)}function dr(t,e){var n;t:{for(var i=t.j1().h();i.o();){var r=i.p();if(tn(r.x3(),e)){n=r;break t}}n=null}return n}function mr(){}function wr(t){return function(e){return t.x4(e)}}function gr(){this.d1_1=null,this.e1_1=null}function pr(){}function vr(t){if(t.k())return[];for(var e=t.g(),n=Oe(Array(e),null),i=t.h(),r=0;i.o();){var s=r;r=s+1|0,n[s]=i.p()}return n}function Ar(){return yr()}function Er(t){return t.length>0?vi(t):Ar()}function br(t){return 0===t.length?rt():ht(new xr(t,!0))}function Tr(){R=this,this.y4_1=new xn(-1478467534,-1720727600)}function yr(){return null==R&&new Tr,R}function xr(t,e){this.a5_1=t,this.b5_1=e}function Rr(){}function Fr(t){return 0===t.length?rt():ht(new xr(t,!0))}function Cr(t){return new xr(t,!1)}function Sr(t){return t.length>0?Nr(t,te(H(t.length))):Mr()}function Mr(){var t=kr();return ci(t,Re)?t:vn()}function Nr(t,e){return Or(e,t),e}function $r(){C=this,this.e5_1=new xn(-888910638,1920087921)}function kr(){return null==C&&new $r,C}function Or(t,e){for(var n=0,i=e.length;n<i;){var r=e[n];n=n+1|0;var s=r.j5(),a=r.k5();t.c1(s,a)}}function Pr(){S=this,this.l5_1=new xn(1993859828,793161749)}function Ir(){return null==S&&new Pr,S}function Lr(){M=this,Ur.call(this),this.m5_1=ne()}function Dr(){return null==M&&new Lr,M}function Ur(){Dr()}function Br(t,e){var n;if(!(e>t))throw Mi(Je(zr(t,e)));return n}function qr(t){return 31-$(t)|0}function zr(t,e){return"Random range is empty: ["+Je(t)+", "+Je(e)+")."}function jr(t){return Gr(t,t>>31)}function Hr(t,e){return t>>>(32-e|0)&-e>>31}function Vr(t,e,n){return Yr.call(n,t,e,0,0,~t,t<<10^e>>>4),n}function Gr(t,e){return Vr(t,e,dn(_n(Yr)))}function Xr(){N=this,this.r5_1=new xn(0,0)}function Wr(){return null==N&&new Xr,N}function Yr(t,e,n,i,r,s){if(Wr(),Ur.call(this),this.s5_1=t,this.t5_1=e,this.u5_1=n,this.v5_1=i,this.w5_1=r,this.x5_1=s,!(this.s5_1|this.t5_1|this.u5_1|this.v5_1|this.w5_1))throw Mi(Je("Initial state must have at least one non-zero element."));var a=0;if(a<64)do{a=a+1|0,this.o5()}while(a<64)}function Zr(t,e,n){null!=n?t.z3(n(e)):null==e||di(e)?t.z3(e):e instanceof Ee?t.u3(e.y5_1):t.z3(Se(e))}function Kr(t,e){this.h5_1=t,this.i5_1=e}function Qr(t,e){return new Kr(t,e)}ni(I,"CharSequence",ii),ni(L,"Number",ti),ni(D,"Unit",si),ni(U,"IntCompanionObject",si),ni(Te,"Collection",ii),ni(cr,"AbstractCollection",ti,T,[Te]),ni(X,"AbstractMutableCollection",ti,cr,[cr,Te]),ni(W,"IteratorImpl",ti),ni(be,"List",ii,T,[Te]),ni(Y,"AbstractMutableList",ti,X,[X,be,Te]),ni(Re,"Map",ii),ni(gr,"AbstractMap",ti,T,[Re]),ni(Z,"AbstractMutableMap",ti,gr,[gr,Re]),ni(ye,"Set",ii,T,[Te]),ni(K,"AbstractMutableSet",ti,X,[X,ye,Te]),ni(et,"Companion",si),ni(lt,"ArrayList",ti,Y,[Y,be,Te],rt),ni(wt,"HashMap",ti,Z,[Z,Re],ft),ni(gt,"HashMapValues",ti,X,[Te,X]),ni(vt,"HashMapEntrySetBase",ti,K,[ye,Te,K]),ni(pt,"HashMapEntrySet",ti,vt),ni(At,T,ti),ni(Et,"HashMapValuesDefault",ti,X),ni(Ht,"Companion",si),ni(Vt,"Itr",ti),ni(Gt,"ValuesItr",ti,Vt),ni(Xt,"EntriesItr",ti,Vt),ni(xe,"Entry",ii),ni(Wt,"EntryRef",ti,T,[xe]),ni(Zt,"InternalMap",ii),ni(Yt,"InternalHashMap",ti,T,[Zt],xt),ni(ee,"LinkedHashMap",ti,wt,[wt,Re],Qt),ni(oe,"StringBuilder",ti,T,[I],ae),ni(Ee,"Char",ti),ni(Fe,"Companion",si),ni(Ce,"Enum",ti),ni(Ie,T,ti),ni(Tn,"Companion",si),ni(xn,"Long",ti,L),ni(Ri,"Exception",ti,Error,T,Ti),ni(Yi,"RuntimeException",ti,Ri,T,Gi),ni(Ni,"IllegalArgumentException",ti,Yi,T,Ci),ni(Ii,"IndexOutOfBoundsException",ti,Yi,T,ki),ni(qi,"IllegalStateException",ti,Yi,T,Di),ni(Hi,"UnsupportedOperationException",ti,Yi,T,ji),ni(tr,"NoSuchElementException",ti,Yi,T,Ki),ni(ir,"ConcurrentModificationException",ti,Yi,T,nr),ni(ar,"NullPointerException",ti,Yi,T,sr),ni(ur,"ClassCastException",ti,Yi,T,hr),ni(_r,"Companion",si),ni(mr,"Companion",si),ni(pr,"Companion",si),ni(Tr,"EmptyList",si,T,[be]),ni(xr,"ArrayAsCollection",ti,T,[Te]),ni(Rr,"EmptyIterator",si),ni($r,"EmptyMap",si,T,[Re]),ni(Pr,"EmptySet",si,T,[ye]),ni(Ur,"Random",ti),ni(Lr,"Default",si,Ur),ni(Xr,"Companion",si),ni(Yr,"XorWowRandom",ti,Ur),ni(Kr,"Pair",ti),_n(D).toString=function(){return"kotlin.Unit"},_n(U).a=function(){return this.MIN_VALUE},_n(U).b=function(){return this.MAX_VALUE},_n(U).c=function(){return this.SIZE_BYTES},_n(U).d=function(){return this.SIZE_BITS},_n(X).toJSON=function(){return this.toArray()},_n(W).o=function(){return this.l_1<this.n_1.g()},_n(W).p=function(){if(!this.o())throw Ki();var t=this,e=this.l_1;return this.l_1=e+1|0,t.m_1=e,this.n_1.q(this.m_1)},_n(Y).h=function(){return new W(this)},_n(Y).i=function(t){return this.t(t)>=0},_n(Y).t=function(t){var e;t:{for(var n=0,i=this.h();i.o();){if(tn(i.p(),t)){e=n;break t}n=n+1|0}e=-1}return e},_n(Y).equals=function(t){return t===this||!(null==t||!ci(t,be))&&y.u(this,t)},_n(Y).hashCode=function(){return y.v(this)},_n(Z).a1=function(){return new Et(this)},_n(Z).b1=function(){var t,e=this.z_1;if(null==e){var n=this.a1();this.z_1=n,t=n}else t=e;return t},_n(K).equals=function(t){return t===this||!(null==t||!ci(t,ye))&&x.k1(this,t)},_n(K).hashCode=function(){return x.l1(this)},_n(lt).g=function(){return this.n1_1.length},_n(lt).q=function(t){var e=this.n1_1[ut(this,t)];return null==e||null!=e?e:vn()},_n(lt).s=function(t,e){this.r1(),ut(this,t);var n=this.n1_1[t];return this.n1_1[t]=e,null==n||null!=n?n:vn()},_n(lt).t=function(t){return le(this.n1_1,t)},_n(lt).toString=function(){return He(this.n1_1)},_n(lt).s1=function(){return[].slice.call(this.n1_1)},_n(lt).toArray=function(){return this.s1()},_n(lt).r1=function(){if(this.o1_1)throw ji()},_n(wt).f1=function(t){return this.x1_1.z1(t)},_n(wt).g1=function(t){return this.x1_1.g1(t)},_n(wt).a1=function(){return new gt(this.x1_1)},_n(wt).j1=function(){var t,e=this.y1_1;if(null==e){var n=new pt(this.x1_1);this.y1_1=n,t=n}else t=e;return t},_n(wt).i1=function(t){return this.x1_1.i1(t)},_n(wt).c1=function(t,e){return this.x1_1.c1(t,e)},_n(wt).g=function(){return this.x1_1.g()},_n(gt).g=function(){return this.a2_1.g()},_n(gt).k=function(){return 0===this.a2_1.g()},_n(gt).b2=function(t){return this.a2_1.g1(t)},_n(gt).i=function(t){return(null==t||null!=t)&&this.b2(null==t||null!=t?t:vn())},_n(gt).h=function(){return this.a2_1.c2()},_n(pt).h=function(){return this.e2_1.f2()},_n(vt).g=function(){return this.e2_1.g()},_n(vt).k=function(){return 0===this.e2_1.g()},_n(vt).g2=function(t){return this.e2_1.h2(t)},_n(vt).i=function(t){return!(null==t||!ci(t,xe))&&this.g2(null!=t&&ci(t,xe)?t:vn())},_n(vt).j=function(t){return this.e2_1.i2(t)},_n(At).o=function(){return this.j2_1.o()},_n(At).p=function(){return this.j2_1.p().k2()},_n(Et).b2=function(t){return this.l2_1.g1(t)},_n(Et).i=function(t){return(null==t||null!=t)&&this.b2(null==t||null!=t?t:vn())},_n(Et).h=function(){return new At(this.l2_1.j1().h())},_n(Et).g=function(){return this.l2_1.g()},_n(Vt).f3=function(){for(;this.c3_1<this.b3_1.r2_1&&this.b3_1.o2_1[this.c3_1]<0;)this.c3_1=this.c3_1+1|0},_n(Vt).o=function(){return this.c3_1<this.b3_1.r2_1},_n(Vt).g3=function(){if(this.b3_1.t2_1!==this.e3_1)throw nr()},_n(Gt).p=function(){if(this.g3(),this.c3_1>=this.b3_1.r2_1)throw Ki();var t=this,e=this.c3_1;this.c3_1=e+1|0,t.d3_1=e;var n=gn(this.b3_1.n2_1)[this.d3_1];return this.f3(),n},_n(Xt).p=function(){if(this.g3(),this.c3_1>=this.b3_1.r2_1)throw Ki();var t=this,e=this.c3_1;this.c3_1=e+1|0,t.d3_1=e;var n=new Wt(this.b3_1,this.d3_1);return this.f3(),n},_n(Xt).p3=function(){if(this.c3_1>=this.b3_1.r2_1)throw Ki();var t=this,e=this.c3_1;this.c3_1=e+1|0,t.d3_1=e;var n=this.b3_1.m2_1[this.d3_1],i=null==n?null:en(n),r=null==i?0:i,s=gn(this.b3_1.n2_1)[this.d3_1],a=null==s?null:en(s),o=r^(null==a?0:a);return this.f3(),o},_n(Xt).q3=function(t){if(this.c3_1>=this.b3_1.r2_1)throw Ki();var e=this,n=this.c3_1;this.c3_1=n+1|0,e.d3_1=n;var i=this.b3_1.m2_1[this.d3_1];tn(i,this.b3_1)?t.t3("(this Map)"):t.s3(i),t.u3(pe(61));var r=gn(this.b3_1.n2_1)[this.d3_1];tn(r,this.b3_1)?t.t3("(this Map)"):t.s3(r),this.f3()},_n(Wt).x3=function(){return this.v3_1.m2_1[this.w3_1]},_n(Wt).k2=function(){return gn(this.v3_1.n2_1)[this.w3_1]},_n(Wt).equals=function(t){return!(null==t||!ci(t,xe)||!tn(t.x3(),this.x3()))&&tn(t.k2(),this.k2())},_n(Wt).hashCode=function(){var t=this.x3(),e=null==t?null:en(t),n=null==e?0:e,i=this.k2(),r=null==i?null:en(i);return n^(null==r?0:r)},_n(Wt).toString=function(){return this.x3()+"="+this.k2()},_n(Yt).g=function(){return this.u2_1},_n(Yt).g1=function(t){return qt(this,t)>=0},_n(Yt).i1=function(t){var e=Bt(this,t);return e<0?null:gn(this.n2_1)[e]},_n(Yt).z1=function(t){return Bt(this,t)>=0},_n(Yt).c1=function(t,e){var n=zt(this,t),i=Pt(this);if(n<0){var r=i[(0|-n)-1|0];return i[(0|-n)-1|0]=e,r}return i[n]=e,null},_n(Yt).equals=function(t){return t===this||!(null==t||!ci(t,Re))&&jt(this,t)},_n(Yt).hashCode=function(){for(var t=0,e=this.f2();e.o();)t=t+e.p3()|0;return t},_n(Yt).toString=function(){var t=re(2+O(this.u2_1,3)|0);t.t3("{");for(var e=0,n=this.f2();n.o();)e>0&&t.t3(", "),n.q3(t),e=e+1|0;return t.t3("}"),t.toString()},_n(Yt).r1=function(){if(this.v2_1)throw ji()},_n(Yt).h2=function(t){var e=Bt(this,t.x3());return!(e<0)&&tn(gn(this.n2_1)[e],t.k2())},_n(Yt).y3=function(t){return this.h2(ci(t,xe)?t:vn())},_n(Yt).c2=function(){return new Gt(this)},_n(Yt).f2=function(){return new Xt(this)},_n(oe).u3=function(t){return this.r3_1=this.r3_1+Ae(t),this},_n(oe).z3=function(t){return this.r3_1=this.r3_1+Se(t),this},_n(oe).s3=function(t){return this.r3_1=this.r3_1+Se(t),this},_n(oe).t3=function(t){var e=this,n=this.r3_1;return e.r3_1=n+(null==t?"null":t),this},_n(oe).toString=function(){return this.r3_1},_n(Ce).c4=function(){return this.a4_1},_n(Ce).d4=function(){return this.b4_1},_n(Ce).e4=function(t){return Ge(this.b4_1,t.b4_1)},_n(Ce).f4=function(t){return this.e4(t instanceof Ce?t:vn())},_n(Ce).equals=function(t){return this===t},_n(Ce).hashCode=function(){return Ze(this)},_n(Ce).toString=function(){return this.a4_1},_n(Ie).o=function(){return!(this.g4_1===this.h4_1.length)},_n(Ie).p=function(){if(this.g4_1===this.h4_1.length)throw Ji(""+this.g4_1);var t=this.g4_1;return this.g4_1=t+1|0,this.h4_1[t]},_n(xn).p4=function(t){return $n(this,t)},_n(xn).f4=function(t){return this.p4(t instanceof xn?t:vn())},_n(xn).q4=function(t){return kn(this,t)},_n(xn).r4=function(t){return In(this,t)},_n(xn).s4=function(){return this.t4().q4(new xn(1,0))},_n(xn).t4=function(){return new xn(~this.i4_1,~this.j4_1)},_n(xn).u4=function(){return this.i4_1},_n(xn).k4=function(){return Un(this)},_n(xn).valueOf=function(){return this.k4()},_n(xn).equals=function(t){return t instanceof xn&&Bn(this,t)},_n(xn).hashCode=function(){return qn(this)},_n(xn).toString=function(){return zn(this,10)},_n(cr).i=function(t){var e;t:if(ci(this,Te)&&this.k())e=!1;else{for(var n=this.h();n.o();)if(tn(n.p(),t)){e=!0;break t}e=!1}return e},_n(cr).j=function(t){var e;t:if(ci(t,Te)&&t.k())e=!0;else{for(var n=t.h();n.o();){var i=n.p();if(!this.i(i)){e=!1;break t}}e=!0}return e},_n(cr).k=function(){return 0===this.g()},_n(cr).toString=function(){return fe(this,", ","[","]",T,T,lr(this))},_n(cr).toArray=function(){return z(this)},_n(_r).q1=function(t,e){if(t<0||t>=e)throw Pi("index: "+t+", size: "+e)},_n(_r).f=function(t,e,n){if(t<0||e>n)throw Pi("fromIndex: "+t+", toIndex: "+e+", size: "+n);if(t>e)throw Mi("fromIndex: "+t+" > toIndex: "+e)},_n(_r).w2=function(t,e){var i=t+(t>>1)|0;return(i-e|0)<0&&(i=e),(i-2147483639|0)>0&&(i=e>2147483639?n.MAX_VALUE:2147483639),i},_n(_r).v=function(t){for(var e=1,n=t.h();n.o();){var i=n.p(),r=O(31,e),s=null==i?null:en(i);e=r+(null==s?0:s)|0}return e},_n(_r).u=function(t,e){if(t.g()!==e.g())return!1;for(var n=e.h(),i=t.h();i.o();)if(!tn(i.p(),n.p()))return!1;return!0},_n(gr).f1=function(t){return!(null==dr(this,t))},_n(gr).g1=function(t){var e;t:{var n=this.j1();if(ci(n,Te)&&n.k())e=!1;else{for(var i=n.h();i.o();)if(tn(i.p().k2(),t)){e=!0;break t}e=!1}}return e},_n(gr).h1=function(t){if(null==t||!ci(t,xe))return!1;var e=t.x3(),n=t.k2(),i=(ci(this,Re)?this:vn()).i1(e);return!(!tn(n,i)||null==i&&!(ci(this,Re)?this:vn()).f1(e))},_n(gr).equals=function(t){if(t===this)return!0;if(null==t||!ci(t,Re))return!1;if(this.g()!==t.g())return!1;var e;t:{var n=t.j1();if(ci(n,Te)&&n.k())e=!0;else{for(var i=n.h();i.o();){var r=i.p();if(!this.h1(r)){e=!1;break t}}e=!0}}return e},_n(gr).i1=function(t){var e=dr(this,t);return null==e?null:e.k2()},_n(gr).hashCode=function(){return en(this.j1())},_n(gr).k=function(){return 0===this.g()},_n(gr).g=function(){return this.j1().g()},_n(gr).toString=function(){return fe(this.j1(),", ","{","}",T,T,wr(this))},_n(gr).x4=function(t){return fr(this,t.x3())+"="+fr(this,t.k2())},_n(pr).l1=function(t){for(var e=0,n=t.h();n.o();){var i=n.p(),r=e,s=null==i?null:en(i);e=r+(null==s?0:s)|0}return e},_n(pr).k1=function(t,e){return t.g()===e.g()&&t.j(e)},_n(Tr).equals=function(t){return!(null==t||!ci(t,be))&&t.k()},_n(Tr).hashCode=function(){return 1},_n(Tr).toString=function(){return"[]"},_n(Tr).g=function(){return 0},_n(Tr).k=function(){return!0},_n(Tr).z4=function(t){return t.k()},_n(Tr).j=function(t){return this.z4(t)},_n(Tr).q=function(t){throw Pi("Empty list doesn't contain element at index "+t+".")},_n(Tr).h=function(){return F},_n(xr).g=function(){return this.a5_1.length},_n(xr).k=function(){return 0===this.a5_1.length},_n(xr).c5=function(t){return ue(this.a5_1,t)},_n(xr).d5=function(t){var e;t:if(ci(t,Te)&&t.k())e=!0;else{for(var n=t.h();n.o();){var i=n.p();if(!this.c5(i)){e=!1;break t}}e=!0}return e},_n(xr).j=function(t){return this.d5(t)},_n(xr).h=function(){return Pe(this.a5_1)},_n(Rr).o=function(){return!1},_n(Rr).p=function(){throw Ki()},_n($r).equals=function(t){return!(null==t||!ci(t,Re))&&t.k()},_n($r).hashCode=function(){return 0},_n($r).toString=function(){return"{}"},_n($r).g=function(){return 0},_n($r).k=function(){return!0},_n($r).f5=function(t){return!1},_n($r).f1=function(t){return(null==t||null!=t)&&this.f5(null==t||null!=t?t:vn())},_n($r).g5=function(t){return null},_n($r).i1=function(t){return null!=t&&null==t?null:this.g5(null==t||null!=t?t:vn())},_n($r).j1=function(){return Ir()},_n(Pr).equals=function(t){return!(null==t||!ci(t,ye))&&t.k()},_n(Pr).hashCode=function(){return 0},_n(Pr).toString=function(){return"[]"},_n(Pr).g=function(){return 0},_n(Pr).k=function(){return!0},_n(Pr).z4=function(t){return t.k()},_n(Pr).j=function(t){return this.z4(t)},_n(Pr).h=function(){return F},_n(Lr).n5=function(t){return this.m5_1.n5(t)},_n(Lr).o5=function(){return this.m5_1.o5()},_n(Lr).p5=function(t,e){return this.m5_1.p5(t,e)},_n(Lr).q5=function(){return this.m5_1.q5()},_n(Ur).o5=function(){return this.n5(32)},_n(Ur).p5=function(t,e){Br(t,e);var i=e-t|0;if(i>0||i===n.MIN_VALUE){var r;if((i&-i)===i){var s=qr(i);r=this.n5(s)}else{var a;do{var o=this.o5()>>>1|0;a=o%i|0}while(((o-a|0)+(i-1|0)|0)<0);r=a}return t+r|0}for(;;){var h=this.o5();if(t<=h&&h<e)return h}},_n(Ur).q5=function(){return this.n5(24)/16777216},_n(Yr).o5=function(){var t=this.s5_1;t^=t>>>2,this.s5_1=this.t5_1,this.t5_1=this.u5_1,this.u5_1=this.v5_1;var e=this.w5_1;return this.v5_1=e,t=t^t<<1^e^e<<4,this.w5_1=t,this.x5_1=this.x5_1+362437|0,t+this.x5_1|0},_n(Yr).n5=function(t){return Hr(this.o5(),t)},_n(Kr).toString=function(){return"("+this.h5_1+", "+this.i5_1+")"},_n(Kr).j5=function(){return this.h5_1},_n(Kr).k5=function(){return this.i5_1},_n(Kr).hashCode=function(){var t=null==this.h5_1?0:en(this.h5_1);return t=O(t,31)+(null==this.i5_1?0:en(this.i5_1))|0},_n(Kr).equals=function(t){if(this===t)return!0;if(!(t instanceof Kr))return!1;var e=t instanceof Kr?t:vn();return!!tn(this.h5_1,e.h5_1)&&!!tn(this.i5_1,e.i5_1)},_n(Yt).i2=P,e=new D,n=new U,r=new Ht,s=3.141592653589793,y=new _r,x=new pr,F=new Rr,t.$_$=t.$_$||{},t.$_$.a=ai,t.$_$.b=T,t.$_$.c=rt,t.$_$.d=Qt,t.$_$.e=xi,t.$_$.f=Mi,t.$_$.g=Dr,t.$_$.h=e,t.$_$.i=be,t.$_$.j=G,t.$_$.k=j,t.$_$.l=Er,t.$_$.m=Sr,t.$_$.n=br,t.$_$.o=he,t.$_$.p=ti,t.$_$.q=fn,t.$_$.r=tn,t.$_$.s=Oe,t.$_$.t=rn,t.$_$.u=ze,t.$_$.v=en,t.$_$.w=ci,t.$_$.x=oi,t.$_$.y=dn,t.$_$.z=si,t.$_$.a1=_n,t.$_$.b1=ni,t.$_$.c1=Je,t.$_$.d1=ge,t.$_$.e1=Ce,t.$_$.f1=vn,t.$_$.g1=An,t.$_$.h1=gn,t.$_$.i1=Qr}(t.exports)})),v=g((function(t,e){!function(t,e){var n,i,r,s,a,o,h,u,l,c,_,f,d,m,w,g,p,v,A,E,b,T,y,x,R,F,C,S,M,N,$,k,O,P,I,L,D,U,B,q,z,j,H,V,G,X,W,Y,Z,K,Q,J,tt,et,nt,it,rt,st,at,ot,ht,ut,lt,ct,_t,ft,dt,mt,wt,gt,pt,vt,At,Et,bt,Tt,yt,xt,Rt,Ft,Ct,St,Mt,Nt,$t,kt,Ot,Pt,It,Lt,Dt,Ut,Bt,qt,zt,jt,Ht,Vt,Gt,Xt,Wt,Yt,Zt,Kt,Qt,Jt,te,ee,ne,ie,re,se,ae,oe,he,ue,le,ce,_e,fe,de,me,we,ge,pe,ve,Ae,Ee,be,Te,ye,xe,Re,Fe,Ce,Se,Me,Ne,$e,ke,Oe,Pe,Ie,Le,De,Ue,Be,qe,ze,je,He,Ve,Ge,Xe,We,Ye,Ze,Ke,Qe,Je,tn,en,nn,rn,sn,an,on,hn,un,ln,cn,_n,fn,dn,mn,wn,gn,pn,vn=Math.imul,An=e.$_$.g1,En=e.$_$.h,bn=e.$_$.e1,Tn=e.$_$.a1,yn=e.$_$.q,xn=e.$_$.p,Rn=e.$_$.b1,Fn=e.$_$.b,Cn=e.$_$.y,Sn=e.$_$.c,Mn=e.$_$.j,Nn=e.$_$.f1,$n=e.$_$.v,kn=e.$_$.r,On=e.$_$.x,Pn=e.$_$.e,In=e.$_$.h1,Ln=e.$_$.z,Dn=e.$_$.d1,Un=e.$_$.o,Bn=e.$_$.g,qn=e.$_$.c1,zn=e.$_$.f,jn=e.$_$.u,Hn=e.$_$.d;function Vn(){return[Yn(),Zn()]}function Gn(t){switch(t){case"OPENGL":return Yn();case"METAL":return Zn();default:Xn(),An("No enum constant value.")}}function Xn(){if(r)return En;r=!0,n=new Wn("OPENGL",0),i=new Wn("METAL",1)}function Wn(t,e,n){bn.call(this,t,e)}function Yn(){return Xn(),n}function Zn(){return Xn(),i}function Kn(){return xi(),s}function Qn(){return[oi(),hi(),ui()]}function Jn(t){switch(t){case"ADD":return oi();case"SUBTRACT":return hi();case"REVERSE_SUBTRACT":return ui();default:ti(),An("No enum constant value.")}}function ti(){if(u)return En;u=!0,a=new ei("ADD",0),o=new ei("SUBTRACT",1),h=new ei("REVERSE_SUBTRACT",2)}function ei(t,e,n){bn.call(this,t,e)}function ni(){return[li(),ci(),_i(),fi(),di(),mi(),wi(),gi(),pi(),vi(),Ai(),Ei(),bi(),Ti(),yi()]}function ii(t){switch(t){case"ZERO":return li();case"ONE":return ci();case"SRC_COLOR":return _i();case"ONE_MINUS_SRC_COLOR":return fi();case"DST_COLOR":return di();case"ONE_MINUS_DST_COLOR":return mi();case"SRC_ALPHA":return wi();case"ONE_MINUS_SRC_ALPHA":return gi();case"DST_ALPHA":return pi();case"ONE_MINUS_DST_ALPHA":return vi();case"CONSTANT_COLOR":return Ai();case"ONE_MINUS_CONSTANT_COLOR":return Ei();case"CONSTANT_ALPHA":return bi();case"ONE_MINUS_CONSTANT_ALPHA":return Ti();case"SRC_ALPHA_SATURATE":return yi();default:ri(),An("No enum constant value.")}}function ri(){if(x)return En;x=!0,l=new si("ZERO",0),c=new si("ONE",1),_=new si("SRC_COLOR",2),f=new si("ONE_MINUS_SRC_COLOR",3),d=new si("DST_COLOR",4),m=new si("ONE_MINUS_DST_COLOR",5),w=new si("SRC_ALPHA",6),g=new si("ONE_MINUS_SRC_ALPHA",7),p=new si("DST_ALPHA",8),v=new si("ONE_MINUS_DST_ALPHA",9),A=new si("CONSTANT_COLOR",10),E=new si("ONE_MINUS_CONSTANT_COLOR",11),b=new si("CONSTANT_ALPHA",12),T=new si("ONE_MINUS_CONSTANT_ALPHA",13),y=new si("SRC_ALPHA_SATURATE",14)}function si(t,e,n){bn.call(this,t,e)}function ai(){this.enabled=!1,this.isSeparateAlpha=!1,this.equationAlpha=oi(),this.equationColor=oi(),this.sourceFactorAlpha=li(),this.destinationFactorAlpha=li(),this.sourceFactorColor=li(),this.destinationFactorColor=li()}function oi(){return ti(),a}function hi(){return ti(),o}function ui(){return ti(),h}function li(){return ri(),l}function ci(){return ri(),c}function _i(){return ri(),_}function fi(){return ri(),f}function di(){return ri(),d}function mi(){return ri(),m}function wi(){return ri(),w}function gi(){return ri(),g}function pi(){return ri(),p}function vi(){return ri(),v}function Ai(){return ri(),A}function Ei(){return ri(),E}function bi(){return ri(),b}function Ti(){return ri(),T}function yi(){return ri(),y}function xi(){if(!R){R=!0;var t=new ai;t.enabled=!1,s=t}}function Ri(){return[Mi(),Ni(),$i(),ki()]}function Fi(t){switch(t){case"FRONT":return Mi();case"BACK":return Ni();case"FRONT_AND_BACK":return $i();case"DISABLED":return ki();default:Ci(),An("No enum constant value.")}}function Ci(){if(N)return En;N=!0,F=new Si("FRONT",0),C=new Si("BACK",1),S=new Si("FRONT_AND_BACK",2),M=new Si("DISABLED",3)}function Si(t,e,n){bn.call(this,t,e)}function Mi(){return Ci(),F}function Ni(){return Ci(),C}function $i(){return Ci(),S}function ki(){return Ci(),M}function Oi(){return Li(),$}function Pi(){return Li(),k}function Ii(t,e){t=t!==Fn&&t,e=e!==Fn&&e,this.depthTest=t,this.depthWrite=e}function Li(){O||(O=!0,new Ii(!1,!1),$=new Ii(!0,!0),k=new Ii(!0,!1),new Ii(!1,!0))}function Di(t){return zi.call(t),t}function Ui(){return Di(Cn(Tn(zi)))}function Bi(t,e,n){return e=e===Fn?null:e,Di(n),n.name=t,n.fileName=t,n.attributes=e,n}function qi(t,e){return Bi(t,e,Cn(Tn(zi)))}function zi(){this.name="",this.id=0,this.fileName="",this.loaded=!1,this.attributes=null}function ji(t,e,n,i,r,s){var a,o=n/360*3.1415925,h=Math.tan(o)*r;a=h*i,xh().r7(e,0,-a,a,-h,h,r,s)}function Hi(){this.lastFrameTime=0,this.viewportWidth=0,this.viewportHeight=0,this.matView=new Float32Array(16),this.useExternalViewMatrix=!1,this.matProjection=new Float32Array(16),this.matModel=new Float32Array(16),this.matMVP=new Float32Array(16),this.zoom=0,this.ZOOM_FOV=10,this.FOV_LANDSCAPE=0,this.FOV_PORTRAIT=0,this.Z_NEAR=0,this.Z_FAR=0,this.backendMode=Yn(),this.s7_1=!1,this.t7_1=Sn(),this.u7_1=Sn(),this.v7_1=Sn(),this.w7_1=Sn()}function Vi(t){t=t===Fn?"":t,this.name=t,this.id=-1}function Gi(){return[ur(),lr(),cr(),_r(),fr(),dr()]}function Xi(t){switch(t){case"NEAREST":return ur();case"LINEAR":return lr();case"NEAREST_MIPMAP_NEAREST":return cr();case"LINEAR_MIPMAP_NEAREST":return _r();case"NEAREST_MIPMAP_LINEAR":return fr();case"LINEAR_MIPMAP_LINEAR":return dr();default:Wi(),An("No enum constant value.")}}function Wi(){if(q)return En;q=!0,P=new Yi("NEAREST",0),I=new Yi("LINEAR",1),L=new Yi("NEAREST_MIPMAP_NEAREST",2),D=new Yi("LINEAR_MIPMAP_NEAREST",3),U=new Yi("NEAREST_MIPMAP_LINEAR",4),B=new Yi("LINEAR_MIPMAP_LINEAR",5)}function Yi(t,e,n){bn.call(this,t,e)}function Zi(){return[mr(),wr(),gr()]}function Ki(t){switch(t){case"CLAMP_TO_EDGE":return mr();case"MIRRORED_REPEAT":return wr();case"REPEAT":return gr();default:Qi(),An("No enum constant value.")}}function Qi(){if(V)return En;V=!0,z=new Ji("CLAMP_TO_EDGE",0),j=new Ji("MIRRORED_REPEAT",1),H=new Ji("REPEAT",2)}function Ji(t,e,n){bn.call(this,t,e)}function tr(){return[pr(),vr(),Ar(),Er(),br(),Tr(),yr()]}function er(t){switch(t){case"RGBA8":return pr();case"RGB8":return vr();case"RGB16F":return Ar();case"RGB32F":return Er();case"RGBA16F":return br();case"RGBA32F":return Tr();case"ASTC":return yr();default:nr(),An("No enum constant value.")}}function nr(){if(J)return En;J=!0,G=new ir("RGBA8",0),X=new ir("RGB8",1),W=new ir("RGB16F",2),Y=new ir("RGB32F",3),Z=new ir("RGBA16F",4),K=new ir("RGBA32F",5),Q=new ir("ASTC",6)}function ir(t,e,n){bn.call(this,t,e)}function rr(){return[xr(),Rr(),Fr(),Cr()]}function sr(t){switch(t){case"TEX_1D":return xr();case"TEX_2D":return Rr();case"TEX_3D":return Fr();case"CUBEMAP":return Cr();default:ar(),An("No enum constant value.")}}function ar(){if(rt)return En;rt=!0,tt=new or("TEX_1D",0),et=new or("TEX_2D",1),nt=new or("TEX_3D",2),it=new or("CUBEMAP",3)}function or(t,e,n){bn.call(this,t,e)}function hr(){this.type=Rr(),this.name="",this.fileName="",this.id=0,this.loaded=!1,this.width=0,this.height=0,this.minFilter=lr(),this.magFilter=lr(),this.wrapping=gr(),this.mipmaps=0,this.format=pr(),this.anisotropy=0}function ur(){return Wi(),P}function lr(){return Wi(),I}function cr(){return Wi(),L}function _r(){return Wi(),D}function fr(){return Wi(),U}function dr(){return Wi(),B}function mr(){return Qi(),z}function wr(){return Qi(),j}function gr(){return Qi(),H}function pr(){return nr(),G}function vr(){return nr(),X}function Ar(){return nr(),W}function Er(){return nr(),Y}function br(){return nr(),Z}function Tr(){return nr(),K}function yr(){return nr(),Q}function xr(){return ar(),tt}function Rr(){return ar(),et}function Fr(){return ar(),nt}function Cr(){return ar(),it}function Sr(){}function Mr(t,e){return Sr.call(e),$r.call(e),e.value=t,e}function Nr(t){return Mr(t,Cn(Tn($r)))}function $r(){}function kr(t,e){return Sr.call(e),Pr.call(e),e.value=t,e}function Or(t){return kr(t,Cn(Tn(Pr)))}function Pr(){}function Ir(t){Sr.call(this),this.value=t}function Lr(t,e){var n=(t instanceof $r?t:Nn()).value,i=e.length;Mn(e,n,0,0,i)}function Dr(t,e,n,i,r){var s=t instanceof $r?t:Nn();s.value[0]=e,s.value[1]=n,s.value[2]=i,s.value[3]=r}function Ur(t,e,n){var i=t instanceof $r?t:Nn();i.value[0]=e,i.value[1]=n}function Br(t,e){(t instanceof $r?t:Nn()).value[0]=e}function qr(t,e){(t instanceof Pr?t:Nn()).value[0]=e}function zr(t,e){var n=t instanceof $r?t:Nn();n.value[0]=e.x,n.value[1]=e.y,n.value[2]=e.z}function jr(){return[es(),ns(),is(),rs(),ss(),as(),os(),hs(),us(),ls(),cs(),_s(),fs(),ds(),ms(),ws(),gs(),ps(),vs(),As(),Es(),bs(),Ts(),ys(),xs(),Rs(),Fs(),Cs(),Ss(),Ms(),Ns(),$s(),ks(),Os(),Ps(),Is(),Ls(),Ds(),Us(),Bs(),qs(),zs(),js(),Hs(),Vs(),Gs(),Xs(),Ws(),Ys(),Zs()]}function Hr(t){switch(t){case"UBYTE":return es();case"UBYTE2":return ns();case"UBYTE3":return is();case"UBYTE4":return rs();case"BYTE":return ss();case"BYTE2":return as();case"BYTE3":return os();case"BYTE4":return hs();case"UBYTE_NORMALIZED":return us();case"UBYTE2_NORMALIZED":return ls();case"UBYTE3_NORMALIZED":return cs();case"UBYTE4_NORMALIZED":return _s();case"BYTE_NORMALIZED":return fs();case"BYTE2_NORMALIZED":return ds();case"BYTE3_NORMALIZED":return ms();case"BYTE4_NORMALIZED":return ws();case"USHORT":return gs();case"USHORT2":return ps();case"USHORT3":return vs();case"USHORT4":return As();case"SHORT":return Es();case"SHORT2":return bs();case"SHORT3":return Ts();case"SHORT4":return ys();case"USHORT_NORMALIZED":return xs();case"USHORT2_NORMALIZED":return Rs();case"USHORT3_NORMALIZED":return Fs();case"USHORT4_NORMALIZED":return Cs();case"SHORT_NORMALIZED":return Ss();case"SHORT2_NORMALIZED":return Ms();case"SHORT3_NORMALIZED":return Ns();case"SHORT4_NORMALIZED":return $s();case"HALF":return ks();case"HALF2":return Os();case"HALF3":return Ps();case"HALF4":return Is();case"FLOAT":return Ls();case"FLOAT2":return Ds();case"FLOAT3":return Us();case"FLOAT4":return Bs();case"UINT":return qs();case"UINT2":return zs();case"UINT3":return js();case"UINT4":return Hs();case"INT":return Vs();case"INT2":return Gs();case"INT3":return Xs();case"INT4":return Ws();case"INT_1010102_NORMALIZED":return Ys();case"UINT_1010102_NORMALIZED":return Zs();default:Vr(),An("No enum constant value.")}}function Vr(){if(ee)return En;ee=!0,st=new Gr("UBYTE",0),at=new Gr("UBYTE2",1),ot=new Gr("UBYTE3",2),ht=new Gr("UBYTE4",3),ut=new Gr("BYTE",4),lt=new Gr("BYTE2",5),ct=new Gr("BYTE3",6),_t=new Gr("BYTE4",7),ft=new Gr("UBYTE_NORMALIZED",8),dt=new Gr("UBYTE2_NORMALIZED",9),mt=new Gr("UBYTE3_NORMALIZED",10),wt=new Gr("UBYTE4_NORMALIZED",11),gt=new Gr("BYTE_NORMALIZED",12),pt=new Gr("BYTE2_NORMALIZED",13),vt=new Gr("BYTE3_NORMALIZED",14),At=new Gr("BYTE4_NORMALIZED",15),Et=new Gr("USHORT",16),bt=new Gr("USHORT2",17),Tt=new Gr("USHORT3",18),yt=new Gr("USHORT4",19),xt=new Gr("SHORT",20),Rt=new Gr("SHORT2",21),Ft=new Gr("SHORT3",22),Ct=new Gr("SHORT4",23),St=new Gr("USHORT_NORMALIZED",24),Mt=new Gr("USHORT2_NORMALIZED",25),Nt=new Gr("USHORT3_NORMALIZED",26),$t=new Gr("USHORT4_NORMALIZED",27),kt=new Gr("SHORT_NORMALIZED",28),Ot=new Gr("SHORT2_NORMALIZED",29),Pt=new Gr("SHORT3_NORMALIZED",30),It=new Gr("SHORT4_NORMALIZED",31),Lt=new Gr("HALF",32),Dt=new Gr("HALF2",33),Ut=new Gr("HALF3",34),Bt=new Gr("HALF4",35),qt=new Gr("FLOAT",36),zt=new Gr("FLOAT2",37),jt=new Gr("FLOAT3",38),Ht=new Gr("FLOAT4",39),Vt=new Gr("UINT",40),Gt=new Gr("UINT2",41),Xt=new Gr("UINT3",42),Wt=new Gr("UINT4",43),Yt=new Gr("INT",44),Zt=new Gr("INT2",45),Kt=new Gr("INT3",46),Qt=new Gr("INT4",47),Jt=new Gr("INT_1010102_NORMALIZED",48),te=new Gr("UINT_1010102_NORMALIZED",49)}function Gr(t,e,n){bn.call(this,t,e)}function Xr(t,e,n,i){this.type=t,this.index=e,this.format=n,this.offset=i}function Wr(t,e){this.attributes=t,this.stride=e}function Yr(){return[Ks(),Qs(),Js(),ta(),ea(),na(),ia(),ra(),sa(),aa(),oa(),ha(),ua(),la(),ca(),_a(),fa()]}function Zr(t){switch(t){case"VERTEX":return Ks();case"NORMAL":return Qs();case"COLOR":return Js();case"UV0":return ta();case"UV1":return ea();case"UV2":return na();case"AO":return ia();case"CUSTOM0":return ra();case"CUSTOM1":return sa();case"CUSTOM2":return aa();case"CUSTOM3":return oa();case"U0":return ha();case"V0":return ua();case"U1":return la();case"V1":return ca();case"U2":return _a();case"V2":return fa();default:Kr(),An("No enum constant value.")}}function Kr(){if(ve)return En;ve=!0,ne=new Qr("VERTEX",0),ie=new Qr("NORMAL",1),re=new Qr("COLOR",2),se=new Qr("UV0",3),ae=new Qr("UV1",4),oe=new Qr("UV2",5),he=new Qr("AO",6),ue=new Qr("CUSTOM0",7),le=new Qr("CUSTOM1",8),ce=new Qr("CUSTOM2",9),_e=new Qr("CUSTOM3",10),fe=new Qr("U0",11),de=new Qr("V0",12),me=new Qr("U1",13),we=new Qr("V1",14),ge=new Qr("U2",15),pe=new Qr("V2",16)}function Qr(t,e,n){bn.call(this,t,e)}function Jr(t,e,n){this.type=t,this.format=e,this.offset=n}function ts(t,e){this.attributes=t,this.stride=e}function es(){return Vr(),st}function ns(){return Vr(),at}function is(){return Vr(),ot}function rs(){return Vr(),ht}function ss(){return Vr(),ut}function as(){return Vr(),lt}function os(){return Vr(),ct}function hs(){return Vr(),_t}function us(){return Vr(),ft}function ls(){return Vr(),dt}function cs(){return Vr(),mt}function _s(){return Vr(),wt}function fs(){return Vr(),gt}function ds(){return Vr(),pt}function ms(){return Vr(),vt}function ws(){return Vr(),At}function gs(){return Vr(),Et}function ps(){return Vr(),bt}function vs(){return Vr(),Tt}function As(){return Vr(),yt}function Es(){return Vr(),xt}function bs(){return Vr(),Rt}function Ts(){return Vr(),Ft}function ys(){return Vr(),Ct}function xs(){return Vr(),St}function Rs(){return Vr(),Mt}function Fs(){return Vr(),Nt}function Cs(){return Vr(),$t}function Ss(){return Vr(),kt}function Ms(){return Vr(),Ot}function Ns(){return Vr(),Pt}function $s(){return Vr(),It}function ks(){return Vr(),Lt}function Os(){return Vr(),Dt}function Ps(){return Vr(),Ut}function Is(){return Vr(),Bt}function Ls(){return Vr(),qt}function Ds(){return Vr(),zt}function Us(){return Vr(),jt}function Bs(){return Vr(),Ht}function qs(){return Vr(),Vt}function zs(){return Vr(),Gt}function js(){return Vr(),Xt}function Hs(){return Vr(),Wt}function Vs(){return Vr(),Yt}function Gs(){return Vr(),Zt}function Xs(){return Vr(),Kt}function Ws(){return Vr(),Qt}function Ys(){return Vr(),Jt}function Zs(){return Vr(),te}function Ks(){return Kr(),ne}function Qs(){return Kr(),ie}function Js(){return Kr(),re}function ta(){return Kr(),se}function ea(){return Kr(),ae}function na(){return Kr(),oe}function ia(){return Kr(),he}function ra(){return Kr(),ue}function sa(){return Kr(),le}function aa(){return Kr(),ce}function oa(){return Kr(),_e}function ha(){return Kr(),fe}function ua(){return Kr(),de}function la(){return Kr(),me}function ca(){return Kr(),we}function _a(){return Kr(),ge}function fa(){return Kr(),pe}function da(t,e,n){this.hb_1=t,this.ib_1=n,this.jb_1=1/this.hb_1*.5;var i=this,r=e/this.hb_1,s=Math.ceil(r);i.mb_1=vn(On(s),this.ib_1+1|0),this.kb_1=1/this.mb_1*.5,this.lb_1=1/this.mb_1;var a=this,o=e/this.hb_1;a.nb_1=1/Math.ceil(o)}function ma(t){var e=t.ub_1[t.sb_1];t.qb_1.setMinDuration(t.minDuration*t.vb_1),t.qb_1.setPosition(e),t.qb_1.reset()}function wa(t,e,n,i){i=i!==Fn&&i,this.speed=t,this.minDuration=e,this.transitionDuration=n,this.enabled=!0,this.qb_1=new ba(i),this.rb_1=!1,this.sb_1=0,this.tb_1=Ca(),this.ub_1=[],this.vb_1=1,this.wb_1=0,this.qb_1.speed=this.speed,this.qb_1.setMinDuration(this.minDuration*this.vb_1)}function ga(t,e){this.sc_1=t,this.tc_1=e}function pa(t){if(null==t.xb_1)throw Pn("position is not set");var e=In(t.xb_1).uc_1.sc_1,n=In(t.xb_1).vc_1.sc_1,i=n.x-e.x,r=Math.pow(i,2),s=n.y-e.y,a=r+Math.pow(s,2),o=n.z-e.z,h=a+Math.pow(o,2);return Math.sqrt(h)}function va(t){if(null==t.xb_1)throw Pn("position is not set");var e=t.timer;t.isSmooth&&(e=gn.xc(0,1,t.timer));var n=t.reverse?In(t.xb_1).vc_1:In(t.xb_1).uc_1,i=t.reverse?In(t.xb_1).uc_1:In(t.xb_1).vc_1;t.cc_1.x=n.sc_1.x+e*(i.sc_1.x-n.sc_1.x),t.cc_1.y=n.sc_1.y+e*(i.sc_1.y-n.sc_1.y),t.cc_1.z=n.sc_1.z+e*(i.sc_1.z-n.sc_1.z),t.dc_1.x=n.tc_1.x+e*(i.tc_1.x-n.tc_1.x),t.dc_1.y=n.tc_1.y+e*(i.tc_1.y-n.tc_1.y),t.dc_1.z=n.tc_1.z+e*(i.tc_1.z-n.tc_1.z),xh().g9(t.matrix,0),xh().i9(t.matrix,0,57.2958*(t.dc_1.x-1.5707964),1,0,0),xh().i9(t.matrix,0,57.2958*t.dc_1.y,0,0,1),xh().i9(t.matrix,0,57.2958*t.dc_1.z,0,1,0),xh().h9(t.matrix,0,-t.cc_1.x,-t.cc_1.y,-t.cc_1.z)}function Aa(){this.yc_1=1.5707964}function Ea(){return Ae}function ba(t){t=t!==Fn&&t,this.isSmooth=t,this.xb_1=null,this.speed=0,this.yb_1=0,this.zb_1=3e3,this.ac_1=0,this.timer=0,this.bc_1=0,this.reverse=!1,this.cc_1=new Fh(0,0,0),this.dc_1=new Fh(0,0,0),this.matrix=new Float32Array(16)}function Ta(t,e,n){n=n===Fn?1:n,this.uc_1=t,this.vc_1=e,this.wc_1=n}function ya(){return[Ca(),Sa()]}function xa(t){switch(t){case"ANIMATING":return Ca();case"TRANSITIONING":return Sa();default:Ra(),An("No enum constant value.")}}function Ra(){if(Te)return En;Te=!0,Ee=new Fa("ANIMATING",0,0),be=new Fa("TRANSITIONING",1,1)}function Fa(t,e,n){bn.call(this,t,e),this.value=n}function Ca(){return Ra(),Ee}function Sa(){return Ra(),be}function Ma(t,e,n){ka.call(n),n.jd_1=e?$a(n,t):t;var i=t.length;n.kd_1=new Float64Array(i);var r=new Float64Array(i),s=1,a=i-1|0;if(s<a)do{var o=s;s=s+1|0,n.kd_1[o]=-1/(4+n.kd_1[o-1|0]),r[o]=(6*(t[o+1|0]-2*t[o]+t[o-1|0])-r[o-1|0])/(4+n.kd_1[o-1|0])}while(s<a);var h=i-2|0;if(0<=h)do{var u=h;h=h+-1|0,n.kd_1[u]=n.kd_1[u]*n.kd_1[u+1|0]+r[u]}while(0<=h);return n}function Na(t,e){return Ma(t,e,Cn(Tn(ka)))}function $a(t,e){return e[0]=e[e.length-4|0],e[1]=e[e.length-3|0],e[e.length-2|0]=e[2],e[e.length-1|0]=e[3],e}function ka(){}function Oa(t,e,n,i,r){return Ia.call(r),r.od_1=Na(e,t),r.pd_1=Na(n,t),r.qd_1=Na(i,t),r.rd_1=new Fh,r.sd_1=new Fh,r}function Pa(t,e,n,i){return Oa(t,e,n,i,Cn(Tn(Ia)))}function Ia(){}function La(){return[ja(),Ha(),Va(),Ga()]}function Da(t){switch(t){case"KERNEL_5":return ja();case"KERNEL_4":return Ha();case"KERNEL_3":return Va();case"KERNEL_2":return Ga();default:Ua(),An("No enum constant value.")}}function Ua(){if(Ce)return En;Ce=!0,ye=new Ba("KERNEL_5",0),xe=new Ba("KERNEL_4",1),Re=new Ba("KERNEL_3",2),Fe=new Ba("KERNEL_2",3)}function Ba(t,e){bn.call(this,t,e)}function qa(){rh(this),this.xd_1=fo(),this.minSize=200,this.brightness=1,this.blurSize=Ha(),this.additionalBlur=!1,this.id=0}function za(){no.call(this),this.ge_1=mo(),this.blending=Kn(),this.id=0}function ja(){return Ua(),ye}function Ha(){return Ua(),xe}function Va(){return Ua(),Re}function Ga(){return Ua(),Fe}function Xa(){no.call(this),this.je_1=uo(),this.color=new Ch(0,0,0,0)}function Wa(){return[Ja(),to(),eo()]}function Ya(t){switch(t){case"COLOR":return Ja();case"DEPTH":return to();case"COLOR_AND_DEPTH":return eo();default:Za(),An("No enum constant value.")}}function Za(){if($e)return En;$e=!0,Se=new Ka("COLOR",0),Me=new Ka("DEPTH",1),Ne=new Ka("COLOR_AND_DEPTH",2)}function Ka(t,e,n){bn.call(this,t,e)}function Qa(){no.call(this),this.oe_1=lo(),this.clearType=eo()}function Ja(){return Za(),Se}function to(){return Za(),Me}function eo(){return Za(),Ne}function no(){this.enabled=!0,this.name=""}function io(){return[oo(),ho(),uo(),lo(),co(),_o(),fo(),mo(),wo(),go(),po()]}function ro(t){switch(t){case"NOOP":return oo();case"GROUP":return ho();case"CLEAR_COLOR":return uo();case"CLEAR":return lo();case"VIGNETTE":return co();case"DRAW_MESH":return _o();case"BLURRED_PASS":return fo();case"DRAW_BLURRED":return mo();case"RENDER_PASS":return wo();case"MAIN_PASS":return go();case"CUSTOM":return po();default:so(),An("No enum constant value.")}}function so(){if(He)return En;He=!0,ke=new ao("NOOP",0,0),Oe=new ao("GROUP",1,1),Pe=new ao("CLEAR_COLOR",2,2),Ie=new ao("CLEAR",3,3),Le=new ao("VIGNETTE",4,4),De=new ao("DRAW_MESH",5,5),Ue=new ao("BLURRED_PASS",6,6),Be=new ao("DRAW_BLURRED",7,7),qe=new ao("RENDER_PASS",8,8),ze=new ao("MAIN_PASS",9,9),je=new ao("CUSTOM",10,10)}function ao(t,e,n){bn.call(this,t,e),this.value=n}function oo(){return so(),ke}function ho(){return so(),Oe}function uo(){return so(),Pe}function lo(){return so(),Ie}function co(){return so(),Le}function _o(){return so(),De}function fo(){return so(),Ue}function mo(){return so(),Be}function wo(){return so(),qe}function go(){return so(),ze}function po(){return so(),je}function vo(t,e,n,i,r){this.shader=t,this.blending=e,this.depthMode=n,this.culling=i,this.vertexAttributes=r}function Ao(){return[xo(),Ro(),Fo()]}function Eo(t){switch(t){case"TRIANGLES":return xo();case"TRIANGLE_STRIP":return Ro();case"POINTS":return Fo();default:bo(),An("No enum constant value.")}}function bo(){if(We)return En;We=!0,Ve=new To("TRIANGLES",0),Ge=new To("TRIANGLE_STRIP",1),Xe=new To("POINTS",2)}function To(t,e,n){bn.call(this,t,e)}function yo(t,e,n,i,r){i=i===Fn?xo():i,r=r===Fn?-1:r,no.call(this),this.mesh=t,this.uniforms=e,this.state=n,this.primitiveType=i,this.primitiveCount=r,this.q9_1=_o(),this.hints=Sn()}function xo(){return bo(),Ve}function Ro(){return bo(),Ge}function Fo(){return bo(),Xe}function Co(t,e,n,i,r,s,a,o,h){r=r===Fn?0:r,s=s===Fn?-1:s,a=a===Fn?-1:a,o=o===Fn?-1:o,h=h===Fn?xo():h,yo.call(this,t,e,n,h),this.transform=i,this.indexUniformMvp=r,this.indexUniformModel=s,this.indexUniformView=a,this.indexUniformProjection=o}function So(t,e,n,i,r,s,a,o,h,u){return r=r===Fn?0:r,s=s===Fn?-1:s,a=a===Fn?-1:a,o=o===Fn?-1:o,h=h===Fn?xo():h,Co.call(u,t,e,n,i,r,s,a,o,h),No.call(u),xh().g9(u.modelMatrix,0),xh().h9(u.modelMatrix,0,i.l9_1.x,i.l9_1.y,i.l9_1.z),xh().i9(u.modelMatrix,0,i.m9_1.x,1,0,0),xh().i9(u.modelMatrix,0,i.m9_1.y,0,1,0),xh().i9(u.modelMatrix,0,i.m9_1.z,0,0,1),xh().j9(u.modelMatrix,0,i.n9_1.x,i.n9_1.y,i.n9_1.z),u}function Mo(t,e,n,i,r,s,a,o,h){return So(t,e,n,i,r,s,a,o,h,Cn(Tn(No)))}function No(){this.modelMatrix=new Float32Array(16)}function $o(t,e,n){t=t===Fn?new Fh(0,0,0):t,e=e===Fn?new Fh(0,0,0):e,n=n===Fn?new Fh(1,1,1):n,this.l9_1=t,this.m9_1=e,this.n9_1=n}function ko(t,e,n){return Po.call(n),n.enabled=t,n.commands=Un(e),n}function Oo(t,e){return ko(t,e,Cn(Tn(Po)))}function Po(){no.call(this),this.commands=Sn()}function Io(){return Ko(),Ye}function Lo(){return Ko(),Ze}function Do(){return Ko(),Ke}function Uo(){}function Bo(){return[Vo(),Go(),Xo(),Wo(),Yo(),Zo()]}function qo(t){switch(t){case"SHADING_RATE_1X1":return Vo();case"SHADING_RATE_1X2":return Go();case"SHADING_RATE_2X1":return Xo();case"SHADING_RATE_2X2":return Wo();case"SHADING_RATE_4X2":return Yo();case"SHADING_RATE_4X4":return Zo();default:zo(),An("No enum constant value.")}}function zo(){if(sn)return En;sn=!0,Qe=new jo("SHADING_RATE_1X1",0,38566),Je=new jo("SHADING_RATE_1X2",1,38567),tn=new jo("SHADING_RATE_2X1",2,38568),en=new jo("SHADING_RATE_2X2",3,38569),nn=new jo("SHADING_RATE_4X2",4,38572),rn=new jo("SHADING_RATE_4X4",5,38574)}function jo(t,e,n){bn.call(this,t,e),this.value=n}function Ho(t){Uo.call(this),this.shadingRate=t}function Vo(){return zo(),Qe}function Go(){return zo(),Je}function Xo(){return zo(),tn}function Wo(){return zo(),en}function Yo(){return zo(),nn}function Zo(){return zo(),rn}function Ko(){an||(an=!0,Ye=new Ho(Vo()),new Ho(Go()),new Ho(Xo()),Ze=new Ho(Wo()),new Ho(Yo()),Ke=new Ho(Zo()))}function Qo(t){return rh(t),nh.call(t),t}function Jo(){return Qo(Cn(Tn(nh)))}function th(t,e,n){return ah(t,e.slice(),n),nh.call(n),n}function eh(t,e){return th(t,e,Cn(Tn(nh)))}function nh(){this.dg_1=go()}function ih(){no.call(this)}function rh(t){return Po.call(t),hh.call(t),t}function sh(){return rh(Cn(Tn(hh)))}function ah(t,e,n){return ko(t,e.slice(),n),hh.call(n),n}function oh(t,e){return ah(t,e,Cn(Tn(hh)))}function hh(){this.eg_1=wo()}function uh(){no.call(this),this.fg_1=co(),this.color0=new Ch(0,0,0,1),this.color1=new Ch(0,0,0,1)}function lh(){return[dh(),mh(),wh(),gh(),ph(),vh(),Ah(),Eh(),bh()]}function ch(t){switch(t){case"Normal":return dh();case"Grayscale":return mh();case"Sepia":return wh();case"HighContrast":return gh();case"LowContrast":return ph();case"BlackAndWhite":return vh();case"IsolatedColor":return Ah();case"Crosshatch":return Eh();case"LimitedColors":return bh();default:_h(),An("No enum constant value.")}}function _h(){if(wn)return En;wn=!0,on=new fh("Normal",0),hn=new fh("Grayscale",1),un=new fh("Sepia",2),ln=new fh("HighContrast",3),cn=new fh("LowContrast",4),_n=new fh("BlackAndWhite",5),fn=new fh("IsolatedColor",6),dn=new fh("Crosshatch",7),mn=new fh("LimitedColors",8)}function fh(t,e){bn.call(this,t,e)}function dh(){return _h(),on}function mh(){return _h(),hn}function wh(){return _h(),un}function gh(){return _h(),ln}function ph(){return _h(),cn}function vh(){return _h(),_n}function Ah(){return _h(),fn}function Eh(){return _h(),dn}function bh(){return _h(),mn}function Th(){}function yh(){pn=this,this.k7_1=new Float32Array(32),this.l7_1=new Float32Array(16),this.m7_1=new Float32Array(16),this.n7_1=new Float32Array(16),this.o7_1=new Float32Array(4),this.p7_1=new Float32Array(16),this.q7_1=new Float32Array(4)}function xh(){return null==pn&&new yh,pn}function Rh(t,e){t=t===Fn?0:t,e=e===Fn?0:e,this.vg_1=t,this.wg_1=e}function Fh(t,e,n){t=t===Fn?0:t,e=e===Fn?0:e,n=n===Fn?0:n,this.gh_1=t,this.hh_1=e,this.ih_1=n}function Ch(t,e,n,i){t=t===Fn?0:t,e=e===Fn?0:e,n=n===Fn?0:n,i=i===Fn?0:i,this.oh_1=t,this.ph_1=e,this.qh_1=n,this.rh_1=i}function Sh(t,e,n){this.xh_1=t,this.yh_1=e,this.zh_1=n}function Mh(){this.ai_1=Hn(),this.bi_1=0}function Nh(t){var e,n;(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).BackendMode=Wn,s.BackendMode.values=Vn,s.BackendMode.valueOf=Gn,yn(s.BackendMode,"OPENGL",Yn),yn(s.BackendMode,"METAL",Zn),(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).BlendingEquation=ei,s.BlendingEquation.values=Qn,s.BlendingEquation.valueOf=Jn,yn(s.BlendingEquation,"ADD",oi),yn(s.BlendingEquation,"SUBTRACT",hi),yn(s.BlendingEquation,"REVERSE_SUBTRACT",ui),s.BlendingFactor=si,s.BlendingFactor.values=ni,s.BlendingFactor.valueOf=ii,yn(s.BlendingFactor,"ZERO",li),yn(s.BlendingFactor,"ONE",ci),yn(s.BlendingFactor,"SRC_COLOR",_i),yn(s.BlendingFactor,"ONE_MINUS_SRC_COLOR",fi),yn(s.BlendingFactor,"DST_COLOR",di),yn(s.BlendingFactor,"ONE_MINUS_DST_COLOR",mi),yn(s.BlendingFactor,"SRC_ALPHA",wi),yn(s.BlendingFactor,"ONE_MINUS_SRC_ALPHA",gi),yn(s.BlendingFactor,"DST_ALPHA",pi),yn(s.BlendingFactor,"ONE_MINUS_DST_ALPHA",vi),yn(s.BlendingFactor,"CONSTANT_COLOR",Ai),yn(s.BlendingFactor,"ONE_MINUS_CONSTANT_COLOR",Ei),yn(s.BlendingFactor,"CONSTANT_ALPHA",bi),yn(s.BlendingFactor,"ONE_MINUS_CONSTANT_ALPHA",Ti),yn(s.BlendingFactor,"SRC_ALPHA_SATURATE",yi),s.Blending=ai,(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).CullFace=Si,s.CullFace.values=Ri,s.CullFace.valueOf=Fi,yn(s.CullFace,"FRONT",Mi),yn(s.CullFace,"BACK",Ni),yn(s.CullFace,"FRONT_AND_BACK",$i),yn(s.CullFace,"DISABLED",ki),(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).DepthMode=Ii,(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).Mesh=zi,s.Mesh.MeshConstructor1=Ui,s.Mesh.MeshConstructor2=qi,(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).Scene=Hi,(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).Shader=Vi,(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).TextureFiltering=Yi,s.TextureFiltering.values=Gi,s.TextureFiltering.valueOf=Xi,yn(s.TextureFiltering,"NEAREST",ur),yn(s.TextureFiltering,"LINEAR",lr),yn(s.TextureFiltering,"NEAREST_MIPMAP_NEAREST",cr),yn(s.TextureFiltering,"LINEAR_MIPMAP_NEAREST",_r),yn(s.TextureFiltering,"NEAREST_MIPMAP_LINEAR",fr),yn(s.TextureFiltering,"LINEAR_MIPMAP_LINEAR",dr),s.TextureWrapping=Ji,s.TextureWrapping.values=Zi,s.TextureWrapping.valueOf=Ki,yn(s.TextureWrapping,"CLAMP_TO_EDGE",mr),yn(s.TextureWrapping,"MIRRORED_REPEAT",wr),yn(s.TextureWrapping,"REPEAT",gr),s.TextureFormat=ir,s.TextureFormat.values=tr,s.TextureFormat.valueOf=er,yn(s.TextureFormat,"RGBA8",pr),yn(s.TextureFormat,"RGB8",vr),yn(s.TextureFormat,"RGB16F",Ar),yn(s.TextureFormat,"RGB32F",Er),yn(s.TextureFormat,"RGBA16F",br),yn(s.TextureFormat,"RGBA32F",Tr),yn(s.TextureFormat,"ASTC",yr),s.TextureType=or,s.TextureType.values=rr,s.TextureType.valueOf=sr,yn(s.TextureType,"TEX_1D",xr),yn(s.TextureType,"TEX_2D",Rr),yn(s.TextureType,"TEX_3D",Fr),yn(s.TextureType,"CUBEMAP",Cr),s.Texture=hr,(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).UniformValue=Sr,s.UniformFloatValue=$r,s.UniformFloatValue.UniformFloatValueWithArray=Nr,s.UniformIntValue=Pr,s.UniformIntValue.UniformIntValueWithArray=Or,s.UniformTextureValue=Ir,(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).VertexFormat=Gr,s.VertexFormat.values=jr,s.VertexFormat.valueOf=Hr,yn(s.VertexFormat,"UBYTE",es),yn(s.VertexFormat,"UBYTE2",ns),yn(s.VertexFormat,"UBYTE3",is),yn(s.VertexFormat,"UBYTE4",rs),yn(s.VertexFormat,"BYTE",ss),yn(s.VertexFormat,"BYTE2",as),yn(s.VertexFormat,"BYTE3",os),yn(s.VertexFormat,"BYTE4",hs),yn(s.VertexFormat,"UBYTE_NORMALIZED",us),yn(s.VertexFormat,"UBYTE2_NORMALIZED",ls),yn(s.VertexFormat,"UBYTE3_NORMALIZED",cs),yn(s.VertexFormat,"UBYTE4_NORMALIZED",_s),yn(s.VertexFormat,"BYTE_NORMALIZED",fs),yn(s.VertexFormat,"BYTE2_NORMALIZED",ds),yn(s.VertexFormat,"BYTE3_NORMALIZED",ms),yn(s.VertexFormat,"BYTE4_NORMALIZED",ws),yn(s.VertexFormat,"USHORT",gs),yn(s.VertexFormat,"USHORT2",ps),yn(s.VertexFormat,"USHORT3",vs),yn(s.VertexFormat,"USHORT4",As),yn(s.VertexFormat,"SHORT",Es),yn(s.VertexFormat,"SHORT2",bs),yn(s.VertexFormat,"SHORT3",Ts),yn(s.VertexFormat,"SHORT4",ys),yn(s.VertexFormat,"USHORT_NORMALIZED",xs),yn(s.VertexFormat,"USHORT2_NORMALIZED",Rs),yn(s.VertexFormat,"USHORT3_NORMALIZED",Fs),yn(s.VertexFormat,"USHORT4_NORMALIZED",Cs),yn(s.VertexFormat,"SHORT_NORMALIZED",Ss),yn(s.VertexFormat,"SHORT2_NORMALIZED",Ms),yn(s.VertexFormat,"SHORT3_NORMALIZED",Ns),yn(s.VertexFormat,"SHORT4_NORMALIZED",$s),yn(s.VertexFormat,"HALF",ks),yn(s.VertexFormat,"HALF2",Os),yn(s.VertexFormat,"HALF3",Ps),yn(s.VertexFormat,"HALF4",Is),yn(s.VertexFormat,"FLOAT",Ls),yn(s.VertexFormat,"FLOAT2",Ds),yn(s.VertexFormat,"FLOAT3",Us),yn(s.VertexFormat,"FLOAT4",Bs),yn(s.VertexFormat,"UINT",qs),yn(s.VertexFormat,"UINT2",zs),yn(s.VertexFormat,"UINT3",js),yn(s.VertexFormat,"UINT4",Hs),yn(s.VertexFormat,"INT",Vs),yn(s.VertexFormat,"INT2",Gs),yn(s.VertexFormat,"INT3",Xs),yn(s.VertexFormat,"INT4",Ws),yn(s.VertexFormat,"INT_1010102_NORMALIZED",Ys),yn(s.VertexFormat,"UINT_1010102_NORMALIZED",Zs),s.VertexAttribute=Xr,s.VertexAttributesDescriptor=Wr,s.AttributeType=Qr,s.AttributeType.values=Yr,s.AttributeType.valueOf=Zr,yn(s.AttributeType,"VERTEX",Ks),yn(s.AttributeType,"NORMAL",Qs),yn(s.AttributeType,"COLOR",Js),yn(s.AttributeType,"UV0",ta),yn(s.AttributeType,"UV1",ea),yn(s.AttributeType,"UV2",na),yn(s.AttributeType,"AO",ia),yn(s.AttributeType,"CUSTOM0",ra),yn(s.AttributeType,"CUSTOM1",sa),yn(s.AttributeType,"CUSTOM2",aa),yn(s.AttributeType,"CUSTOM3",oa),yn(s.AttributeType,"U0",ha),yn(s.AttributeType,"V0",ua),yn(s.AttributeType,"U1",la),yn(s.AttributeType,"V1",ca),yn(s.AttributeType,"U2",_a),yn(s.AttributeType,"V2",fa),s.MeshAttribute=Jr,s.MeshAttributes=ts,(e=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).camera||(s.camera={})).CameraPathAnimator=wa,(e=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).camera||(s.camera={})).CameraPositionInterpolator=ba,yn(e.CameraPositionInterpolator,"Companion",Ea),(e=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).camera||(s.camera={})).CameraState=Fa,e.CameraState.values=ya,e.CameraState.valueOf=xa,yn(e.CameraState,"ANIMATING",Ca),yn(e.CameraState,"TRANSITIONING",Sa),(n=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).commands||(s.commands={})).BlurSize=Ba,n.BlurSize.values=La,n.BlurSize.valueOf=Da,yn(n.BlurSize,"KERNEL_5",ja),yn(n.BlurSize,"KERNEL_4",Ha),yn(n.BlurSize,"KERNEL_3",Va),yn(n.BlurSize,"KERNEL_2",Ga),n.BlurredPassCommand=qa,n.DrawBlurredCommand=za,(n=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).commands||(s.commands={})).ClearColorCommand=Xa,(n=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).commands||(s.commands={})).ClearCommandClearType=Ka,n.ClearCommandClearType.values=Wa,n.ClearCommandClearType.valueOf=Ya,yn(n.ClearCommandClearType,"COLOR",Ja),yn(n.ClearCommandClearType,"DEPTH",to),yn(n.ClearCommandClearType,"COLOR_AND_DEPTH",eo),n.ClearCommand=Qa,(n=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).commands||(s.commands={})).Command=no,(n=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).commands||(s.commands={})).CommandType=ao,n.CommandType.values=io,n.CommandType.valueOf=ro,yn(n.CommandType,"NOOP",oo),yn(n.CommandType,"GROUP",ho),yn(n.CommandType,"CLEAR_COLOR",uo),yn(n.CommandType,"CLEAR",lo),yn(n.CommandType,"VIGNETTE",co),yn(n.CommandType,"DRAW_MESH",_o),yn(n.CommandType,"BLURRED_PASS",fo),yn(n.CommandType,"DRAW_BLURRED",mo),yn(n.CommandType,"RENDER_PASS",wo),yn(n.CommandType,"MAIN_PASS",go),yn(n.CommandType,"CUSTOM",po),(n=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).commands||(s.commands={})).DrawMeshState=vo,n.PrimitiveType=To,n.PrimitiveType.values=Ao,n.PrimitiveType.valueOf=Eo,yn(n.PrimitiveType,"TRIANGLES",xo),yn(n.PrimitiveType,"TRIANGLE_STRIP",Ro),yn(n.PrimitiveType,"POINTS",Fo),n.DrawMeshCommand=yo,(n=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).commands||(s.commands={})).DrawTransformedMeshCommand=Co,n.DrawStaticMeshCommand=No,n.DrawStaticMeshCommand.DrawStaticMeshCommandConstructor=Mo,(n=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).commands||(s.commands={})).GroupCommand=Po,n.GroupCommand.GroupCommandArr=Oo,(n=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).commands||(s.commands={})).Hint=Uo,n.ShadingRate=jo,n.ShadingRate.values=Bo,n.ShadingRate.valueOf=qo,yn(n.ShadingRate,"SHADING_RATE_1X1",Vo),yn(n.ShadingRate,"SHADING_RATE_1X2",Go),yn(n.ShadingRate,"SHADING_RATE_2X1",Xo),yn(n.ShadingRate,"SHADING_RATE_2X2",Wo),yn(n.ShadingRate,"SHADING_RATE_4X2",Yo),yn(n.ShadingRate,"SHADING_RATE_4X4",Zo),n.VrsHint=Ho,(n=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).commands||(s.commands={})).MainPassCommand=nh,n.MainPassCommand.MainPassCommandConstructor=Jo,n.MainPassCommand.MainPassCommandArr=eh,(n=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).commands||(s.commands={})).NoopCommand=ih,(n=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).commands||(s.commands={})).RenderPassCommand=hh,n.RenderPassCommand.RenderPassCommandConstructor=sh,n.RenderPassCommand.RenderPassCommandArr=oh,(n=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).commands||(s.commands={})).VignetteCommand=uh;var i,r,s,a=(s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).common||(s.common={});a.ColorMode=fh,a.ColorMode.values=lh,a.ColorMode.valueOf=ch,yn(a.ColorMode,"Normal",dh),yn(a.ColorMode,"Grayscale",mh),yn(a.ColorMode,"Sepia",wh),yn(a.ColorMode,"HighContrast",gh),yn(a.ColorMode,"LowContrast",ph),yn(a.ColorMode,"BlackAndWhite",vh),yn(a.ColorMode,"IsolatedColor",Ah),yn(a.ColorMode,"Crosshatch",Eh),yn(a.ColorMode,"LimitedColors",bh),((s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).math||(s.math={})).Vec2=Rh,((s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).math||(s.math={})).Vec3=Fh,((s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).engine||(r.engine={})).math||(s.math={})).Vec4=Ch}Rn(Wn,"BackendMode",xn,bn),Rn(ei,"BlendingEquation",xn,bn),Rn(si,"BlendingFactor",xn,bn),Rn(ai,"Blending",xn,Fn,Fn,ai),Rn(Si,"CullFace",xn,bn),Rn(Ii,"DepthMode",xn,Fn,Fn,Ii),Rn(zi,"Mesh",xn,Fn,Fn,Ui),Rn(Hi,"Scene",xn),Rn(Vi,"Shader",xn,Fn,Fn,Vi),Rn(Yi,"TextureFiltering",xn,bn),Rn(Ji,"TextureWrapping",xn,bn),Rn(ir,"TextureFormat",xn,bn),Rn(or,"TextureType",xn,bn),Rn(hr,"Texture",xn,Fn,Fn,hr),Rn(Sr,"UniformValue",xn,Fn,Fn,Sr),Rn($r,"UniformFloatValue",xn,Sr),Rn(Pr,"UniformIntValue",xn,Sr),Rn(Ir,"UniformTextureValue",xn,Sr),Rn(Gr,"VertexFormat",xn,bn),Rn(Xr,"VertexAttribute",xn),Rn(Wr,"VertexAttributesDescriptor",xn),Rn(Qr,"AttributeType",xn,bn),Rn(Jr,"MeshAttribute",xn),Rn(ts,"MeshAttributes",xn),Rn(da,"TextureAnimationChunked",xn),Rn(wa,"CameraPathAnimator",xn),Rn(ga,"CameraPosition",xn),Rn(Aa,"Companion",Ln),Rn(ba,"CameraPositionInterpolator",xn,Fn,Fn,ba),Rn(Ta,"CameraPositionPair",xn),Rn(Fa,"CameraState",xn,bn),Rn(ka,"Spline",xn),Rn(Ia,"Spline3D",xn),Rn(Ba,"BlurSize",xn,bn),Rn(no,"Command",xn),Rn(Po,"GroupCommand",xn,no,Fn,Po),Rn(hh,"RenderPassCommand",xn,Po,Fn,sh),Rn(qa,"BlurredPassCommand",xn,hh,Fn,qa),Rn(za,"DrawBlurredCommand",xn,no,Fn,za),Rn(Xa,"ClearColorCommand",xn,no,Fn,Xa),Rn(Ka,"ClearCommandClearType",xn,bn),Rn(Qa,"ClearCommand",xn,no,Fn,Qa),Rn(ao,"CommandType",xn,bn),Rn(vo,"DrawMeshState",xn),Rn(To,"PrimitiveType",xn,bn),Rn(yo,"DrawMeshCommand",xn,no),Rn(Co,"DrawTransformedMeshCommand",xn,yo),Rn(No,"DrawStaticMeshCommand",xn,Co),Rn($o,"AffineTranformation",xn,Fn,Fn,$o),Rn(Uo,"Hint",xn),Rn(jo,"ShadingRate",xn,bn),Rn(Ho,"VrsHint",xn,Uo),Rn(nh,"MainPassCommand",xn,hh,Fn,Jo),Rn(ih,"NoopCommand",xn,no,Fn,ih),Rn(uh,"VignetteCommand",xn,no,Fn,uh),Rn(fh,"ColorMode",xn,bn),Rn(Th,"MathUtils",Ln),Rn(yh,"Matrix",Ln),Rn(Rh,"Vec2",xn,Fn,Fn,Rh),Rn(Fh,"Vec3",xn,Fn,Fn,Fh),Rn(Ch,"Vec4",xn,Fn,Fn,Ch),Rn(Sh,"TimerParams",xn),Rn(Mh,"TimersMap",xn,Fn,Fn,Mh),Tn(ai).f6=function(t){this.enabled=t},Tn(ai).g6=function(){return this.enabled},Tn(ai).h6=function(t){this.isSeparateAlpha=t},Tn(ai).i6=function(){return this.isSeparateAlpha},Tn(ai).j6=function(t){this.equationAlpha=t},Tn(ai).k6=function(){return this.equationAlpha},Tn(ai).l6=function(t){this.equationColor=t},Tn(ai).m6=function(){return this.equationColor},Tn(ai).n6=function(t){this.sourceFactorAlpha=t},Tn(ai).o6=function(){return this.sourceFactorAlpha},Tn(ai).p6=function(t){this.destinationFactorAlpha=t},Tn(ai).q6=function(){return this.destinationFactorAlpha},Tn(ai).r6=function(t){this.sourceFactorColor=t},Tn(ai).s6=function(){return this.sourceFactorColor},Tn(ai).t6=function(t){this.destinationFactorColor=t},Tn(ai).u6=function(){return this.destinationFactorColor},Tn(Ii).x6=function(t){this.depthTest=t},Tn(Ii).y6=function(){return this.depthTest},Tn(Ii).z6=function(t){this.depthWrite=t},Tn(Ii).a7=function(){return this.depthWrite},Tn(zi).b7=function(t){this.name=t},Tn(zi).c4=function(){return this.name},Tn(zi).c7=function(t){this.id=t},Tn(zi).d7=function(){return this.id},Tn(zi).e7=function(t){this.fileName=t},Tn(zi).f7=function(){return this.fileName},Tn(zi).g7=function(t){this.loaded=t},Tn(zi).h7=function(){return this.loaded},Tn(zi).i7=function(t){this.attributes=t},Tn(zi).j7=function(){return this.attributes},Tn(Hi).x7=function(t){this.lastFrameTime=t},Tn(Hi).y7=function(){return this.lastFrameTime},Tn(Hi).z7=function(t){this.viewportWidth=t},Tn(Hi).a8=function(){return this.viewportWidth},Tn(Hi).b8=function(t){this.viewportHeight=t},Tn(Hi).c8=function(){return this.viewportHeight},Tn(Hi).d8=function(){return this.matView},Tn(Hi).e8=function(t){this.useExternalViewMatrix=t},Tn(Hi).f8=function(){return this.useExternalViewMatrix},Tn(Hi).g8=function(){return this.matProjection},Tn(Hi).h8=function(){return this.matModel},Tn(Hi).i8=function(){return this.matMVP},Tn(Hi).j8=function(t){this.zoom=t},Tn(Hi).k8=function(){return this.zoom},Tn(Hi).l8=function(t){this.ZOOM_FOV=t},Tn(Hi).m8=function(){return this.ZOOM_FOV},Tn(Hi).n8=function(t){this.FOV_LANDSCAPE=t},Tn(Hi).o8=function(){return this.FOV_LANDSCAPE},Tn(Hi).p8=function(t){this.FOV_PORTRAIT=t},Tn(Hi).q8=function(){return this.FOV_PORTRAIT},Tn(Hi).r8=function(t){this.Z_NEAR=t},Tn(Hi).s8=function(){return this.Z_NEAR},Tn(Hi).t8=function(t){this.Z_FAR=t},Tn(Hi).u8=function(){return this.Z_FAR},Tn(Hi).v8=function(t){this.backendMode=t},Tn(Hi).w8=function(){return this.backendMode},Tn(Hi).g7=function(t){this.s7_1=t},Tn(Hi).h7=function(){return this.s7_1},Tn(Hi).x8=function(t){this.t7_1=t},Tn(Hi).y8=function(){return this.t7_1},Tn(Hi).z8=function(t){this.u7_1=t},Tn(Hi).a9=function(){return this.u7_1},Tn(Hi).b9=function(t){this.v7_1=t},Tn(Hi).c9=function(){return this.v7_1},Tn(Hi).d9=function(t){this.w7_1=t},Tn(Hi).e9=function(){return this.w7_1},Tn(Hi).updateTimers=function(t){this.lastFrameTime=t},Tn(Hi).updateViewportSize=function(t,e){this.viewportWidth=t,this.viewportHeight=e},Tn(Hi).f9=function(t,e,n){var i=n>0?e/n:1,r=e>=n?this.FOV_LANDSCAPE*t:this.FOV_PORTRAIT*t;if(r+=this.zoom*this.ZOOM_FOV,ji(this,this.matProjection,r,i,this.Z_NEAR,this.Z_FAR),this.backendMode.equals(Zn())){var s=this.Z_FAR/(this.Z_NEAR-this.Z_FAR);this.matProjection[10]=s,this.matProjection[14]=s*this.Z_NEAR}},Tn(Hi).calculateProjection=function(t,e,n,i){return t=t===Fn?1:t,e=e===Fn?this.viewportWidth:e,n=n===Fn?this.viewportHeight:n,this.f9(t,e,n)},Tn(Hi).calculateMVPMatrix=function(t,e,n,i,r,s,a,o,h){xh().g9(this.matModel,0),xh().h9(this.matModel,0,t,e,n),xh().i9(this.matModel,0,i,1,0,0),xh().i9(this.matModel,0,r,0,1,0),xh().i9(this.matModel,0,s,0,0,1),xh().j9(this.matModel,0,a,o,h),xh().k9(this.matMVP,0,this.matView,0,this.matModel,0),xh().k9(this.matMVP,0,this.matProjection,0,this.matMVP,0)},Tn(Hi).calculateMVPMatrixFromModelMatrix=function(t){xh().k9(this.matMVP,0,this.matView,0,t,0),xh().k9(this.matMVP,0,this.matProjection,0,this.matMVP,0)},Tn(Hi).setMvpUniform=function(t,e,n,i,r,s,a,o,h,u){this.calculateMVPMatrix(e,n,i,r,s,a,o,h,u),Lr(t,this.matMVP)},Tn(Hi).updateMeshTransformations=function(t){for(var e=t.h();e.o();){var n=e.p();if(n.enabled&&(n instanceof Po&&this.updateMeshTransformations(n.commands),n instanceof Co)){if(n instanceof No){this.calculateMVPMatrixFromModelMatrix(n.modelMatrix);var i=n.modelMatrix,r=this.matModel,s=i.length;Mn(i,r,0,0,s)}else this.calculateMVPMatrix(n.transform.l9_1.x,n.transform.l9_1.y,n.transform.l9_1.z,n.transform.m9_1.x,n.transform.m9_1.y,n.transform.m9_1.z,n.transform.n9_1.x,n.transform.n9_1.y,n.transform.n9_1.z);n.indexUniformMvp>=0&&Lr(n.uniforms.q(n.indexUniformMvp),this.matMVP),n.indexUniformModel>=0&&Lr(n.uniforms.q(n.indexUniformModel),this.matModel),n.indexUniformView>=0&&Lr(n.uniforms.q(n.indexUniformView),this.matView),n.indexUniformProjection>=0&&Lr(n.uniforms.q(n.indexUniformProjection),this.matProjection)}}},Tn(Vi).b7=function(t){this.name=t},Tn(Vi).c4=function(){return this.name},Tn(Vi).c7=function(t){this.id=t},Tn(Vi).d7=function(){return this.id},Tn(hr).z9=function(t){this.type=t},Tn(hr).aa=function(){return this.type},Tn(hr).b7=function(t){this.name=t},Tn(hr).c4=function(){return this.name},Tn(hr).e7=function(t){this.fileName=t},Tn(hr).f7=function(){return this.fileName},Tn(hr).c7=function(t){this.id=t},Tn(hr).d7=function(){return this.id},Tn(hr).g7=function(t){this.loaded=t},Tn(hr).h7=function(){return this.loaded},Tn(hr).ba=function(t){this.width=t},Tn(hr).ca=function(){return this.width},Tn(hr).da=function(t){this.height=t},Tn(hr).ea=function(){return this.height},Tn(hr).fa=function(t){this.minFilter=t},Tn(hr).ga=function(){return this.minFilter},Tn(hr).ha=function(t){this.magFilter=t},Tn(hr).ia=function(){return this.magFilter},Tn(hr).ja=function(t){this.wrapping=t},Tn(hr).ka=function(){return this.wrapping},Tn(hr).la=function(t){this.mipmaps=t},Tn(hr).ma=function(){return this.mipmaps},Tn(hr).na=function(t){this.format=t},Tn(hr).oa=function(){return this.format},Tn(hr).pa=function(t){this.anisotropy=t},Tn(hr).qa=function(){return this.anisotropy},Tn($r).ra=function(t){this.value=t},Tn($r).k2=function(){return this.value},Tn(Pr).sa=function(t){this.value=t},Tn(Pr).k2=function(){return this.value},Tn(Ir).ta=function(t){this.value=t},Tn(Ir).k2=function(){return this.value},Tn(Xr).aa=function(){return this.type},Tn(Xr).wa=function(){return this.index},Tn(Xr).oa=function(){return this.format},Tn(Xr).xa=function(){return this.offset},Tn(Xr).j5=function(){return this.type},Tn(Xr).k5=function(){return this.index},Tn(Xr).ya=function(){return this.format},Tn(Xr).za=function(){return this.offset},Tn(Xr).ab=function(t,e,n,i){return new Xr(t,e,n,i)},Tn(Xr).copy=function(t,e,n,i,r){return t=t===Fn?this.type:t,e=e===Fn?this.index:e,n=n===Fn?this.format:n,i=i===Fn?this.offset:i,this.ab(t,e,n,i)},Tn(Xr).toString=function(){return"VertexAttribute(type="+this.type+", index="+this.index+", format="+this.format+", offset="+this.offset+")"},Tn(Xr).hashCode=function(){var t=this.type.hashCode();return t=vn(t,31)+this.index|0,t=vn(t,31)+this.format.hashCode()|0,t=vn(t,31)+this.offset|0},Tn(Xr).equals=function(t){if(this===t)return!0;if(!(t instanceof Xr))return!1;var e=t instanceof Xr?t:Nn();return!!this.type.equals(e.type)&&this.index===e.index&&!!this.format.equals(e.format)&&this.offset===e.offset},Tn(Wr).j7=function(){return this.attributes},Tn(Wr).bb=function(){return this.stride},Tn(Wr).j5=function(){return this.attributes},Tn(Wr).k5=function(){return this.stride},Tn(Wr).cb=function(t,e){return new Wr(t,e)},Tn(Wr).copy=function(t,e,n){return t=t===Fn?this.attributes:t,e=e===Fn?this.stride:e,this.cb(t,e)},Tn(Wr).toString=function(){return"VertexAttributesDescriptor(attributes="+this.attributes+", stride="+this.stride+")"},Tn(Wr).hashCode=function(){var t=$n(this.attributes);return t=vn(t,31)+this.stride|0},Tn(Wr).equals=function(t){if(this===t)return!0;if(!(t instanceof Wr))return!1;var e=t instanceof Wr?t:Nn();return!!kn(this.attributes,e.attributes)&&this.stride===e.stride},Tn(Jr).aa=function(){return this.type},Tn(Jr).oa=function(){return this.format},Tn(Jr).xa=function(){return this.offset},Tn(Jr).j5=function(){return this.type},Tn(Jr).k5=function(){return this.format},Tn(Jr).ya=function(){return this.offset},Tn(Jr).fb=function(t,e,n){return new Jr(t,e,n)},Tn(Jr).copy=function(t,e,n,i){return t=t===Fn?this.type:t,e=e===Fn?this.format:e,n=n===Fn?this.offset:n,this.fb(t,e,n)},Tn(Jr).toString=function(){return"MeshAttribute(type="+this.type+", format="+this.format+", offset="+this.offset+")"},Tn(Jr).hashCode=function(){var t=this.type.hashCode();return t=vn(t,31)+this.format.hashCode()|0,t=vn(t,31)+this.offset|0},Tn(Jr).equals=function(t){if(this===t)return!0;if(!(t instanceof Jr))return!1;var e=t instanceof Jr?t:Nn();return!!this.type.equals(e.type)&&!!this.format.equals(e.format)&&this.offset===e.offset},Tn(ts).j7=function(){return this.attributes},Tn(ts).bb=function(){return this.stride},Tn(ts).j5=function(){return this.attributes},Tn(ts).k5=function(){return this.stride},Tn(ts).gb=function(t,e){return new ts(t,e)},Tn(ts).copy=function(t,e,n){return t=t===Fn?this.attributes:t,e=e===Fn?this.stride:e,this.gb(t,e)},Tn(ts).toString=function(){return"MeshAttributes(attributes="+this.attributes+", stride="+this.stride+")"},Tn(ts).hashCode=function(){var t=$n(this.attributes);return t=vn(t,31)+this.stride|0},Tn(ts).equals=function(t){if(this===t)return!0;if(!(t instanceof ts))return!1;var e=t instanceof ts?t:Nn();return!!kn(this.attributes,e.attributes)&&this.stride===e.stride},Tn(da).ob=function(t){var e=t<.5?2*t:2*(1-t);return this.lb_1*e*(this.ib_1-1|0)+this.kb_1},Tn(da).pb=function(t){return this.lb_1*t*(this.ib_1-1|0)+this.kb_1},Tn(wa).ec=function(t){this.speed=t},Tn(wa).fc=function(){return this.speed},Tn(wa).gc=function(t){this.minDuration=t},Tn(wa).hc=function(){return this.minDuration},Tn(wa).ic=function(t){this.transitionDuration=t},Tn(wa).jc=function(){return this.transitionDuration},Tn(wa).f6=function(t){this.enabled=t},Tn(wa).g6=function(){return this.enabled},Tn(wa).kc=function(t){this.vb_1=t,ma(this)},Tn(wa).lc=function(){return this.vb_1},Tn(wa).enable=function(){this.enabled=!0},Tn(wa).disable=function(){this.enabled=!1},Tn(wa).mc=function(){return this.qb_1},Tn(wa).nc=function(){return this.qb_1.timer},Tn(wa).oc=function(){return this.tb_1},Tn(wa).pc=function(t,e){this.ub_1=t,this.sb_1=0,ma(this),e&&this.randomCamera()},Tn(wa).setCameras=function(t,e,n){return e=e!==Fn&&e,this.pc(t,e)},Tn(wa).qc=function(){return this.ub_1[this.sb_1]},Tn(wa).nextCamera=function(){if(!this.enabled)return En;this.setCameraState(Sa())},Tn(wa).randomCamera=function(){this.sb_1=gn.rc(this.ub_1.length,this.sb_1),ma(this)},Tn(wa).setCameraState=function(t){if(this.tb_1.equals(t))return En;if(this.tb_1===Ca()&&t===Sa()){this.sb_1=this.sb_1+1|0,this.sb_1=this.sb_1%this.ub_1.length|0;var e=this.ub_1[this.sb_1];this.qb_1.setMinDuration(this.transitionDuration),this.qb_1.setPosition(new Ta(new ga(new Fh(this.qb_1.cameraPosition.x,this.qb_1.cameraPosition.y,this.qb_1.cameraPosition.z),new Fh(this.qb_1.cameraRotation.x,this.qb_1.cameraRotation.y,this.qb_1.cameraRotation.z)),new ga(new Fh((e.vc_1.sc_1.x-e.uc_1.sc_1.x)/2+e.uc_1.sc_1.x,(e.vc_1.sc_1.y-e.uc_1.sc_1.y)/2+e.uc_1.sc_1.y,(e.vc_1.sc_1.z-e.uc_1.sc_1.z)/2+e.uc_1.sc_1.z),new Fh((e.vc_1.tc_1.x-e.uc_1.tc_1.x)/2+e.uc_1.tc_1.x,(e.vc_1.tc_1.y-e.uc_1.tc_1.y)/2+e.uc_1.tc_1.y,(e.vc_1.tc_1.z-e.uc_1.tc_1.z)/2+e.uc_1.tc_1.z)))),this.rb_1=this.qb_1.reverse,this.qb_1.reverse=!1,this.qb_1.reset()}else this.tb_1===Sa()&&t===Ca()&&(ma(this),this.qb_1.reverse=this.rb_1,this.qb_1.setTimer(.5));this.tb_1=t},Tn(wa).animate=function(t){0!==this.wb_1&&(this.qb_1.iterate(t),1===this.qb_1.timer&&(this.tb_1===Ca()?(this.qb_1.reverse=!this.qb_1.reverse,this.qb_1.reset()):this.setCameraState(Ca()))),this.wb_1=t},Tn(wa).changeDirection=function(t){if(this.tb_1===Sa())return En;var e=this.qb_1.reverse;t<0?e&&(this.qb_1.reverse=!1,this.qb_1.setTimer(1-this.qb_1.timer)):e||(this.qb_1.reverse=!0,this.qb_1.setTimer(1-this.qb_1.timer))},Tn(ga).toString=function(){return"CameraPosition(position="+this.sc_1+", rotation="+this.tc_1+")"},Tn(ga).hashCode=function(){var t=this.sc_1.hashCode();return t=vn(t,31)+this.tc_1.hashCode()|0},Tn(ga).equals=function(t){if(this===t)return!0;if(!(t instanceof ga))return!1;var e=t instanceof ga?t:Nn();return!!this.sc_1.equals(e.sc_1)&&!!this.tc_1.equals(e.tc_1)},Tn(ba).zc=function(t){this.isSmooth=t},Tn(ba).ad=function(){return this.isSmooth},Tn(ba).ec=function(t){this.speed=t},Tn(ba).fc=function(){return this.speed},Tn(ba).nc=function(){return this.timer},Tn(ba).bd=function(t){this.reverse=t},Tn(ba).cd=function(){return this.reverse},Tn(ba).dd=function(){return this.matrix},Tn(ba).ed=function(){return this.cc_1},Tn(ba).fd=function(){return this.dc_1},Tn(ba).setMinDuration=function(t){this.zb_1=t},Tn(ba).setPosition=function(t){this.xb_1=t;var e=this,n=pa(this)/this.speed,i=this.zb_1;e.yb_1=Math.max(n,i)},Tn(ba).setTimer=function(t){this.ac_1=t,this.timer=t,va(this)},Tn(ba).iterate=function(t){if(0!==this.bc_1){var e=t-this.bc_1;this.ac_1=this.ac_1+e/this.yb_1,this.ac_1>1&&(this.ac_1=1)}this.timer=this.ac_1,this.bc_1=t,va(this)},Tn(ba).reset=function(){this.bc_1=0,this.ac_1=0,this.timer=0,va(this)},Tn(Fa).k2=function(){return this.value},Tn(ka).ld=function(t,e,n){var i=Math.min(t,n);return Math.max(i,e)},Tn(ka).md=function(t){var e=this.ld(t,0,1);if(0===e)return this.jd_1[2];if(1===e)return this.jd_1[this.jd_1.length-2|0];var n=e*(this.jd_1.length-4|0)+2,i=Math.floor(n),r=On(i),s=e*(this.jd_1.length-4|0)+2-r;return this.nd(r,s)},Tn(ka).nd=function(t,e){return e*this.jd_1[t+1|0]-(e-1)*e*((e-2)*this.kd_1[t]-(e+1)*this.kd_1[t+1|0])/6+this.jd_1[t]-e*this.jd_1[t]},Tn(Ia).md=function(t){return this.rd_1.x=this.od_1.md(t),this.rd_1.y=this.pd_1.md(t),this.rd_1.z=this.qd_1.md(t),this.rd_1},Tn(Ia).td=function(t){this.md(t);var e=t+1e-4;e>1&&(e=1-e);var n=this.od_1.md(e),i=this.pd_1.md(e),r=this.qd_1.md(e),s=In(this.sd_1),a=this.rd_1.z-r,o=this.rd_1.y-i;s.x=180*Math.atan2(a,o)/Dn();var h=In(this.sd_1),u=this.rd_1.z-r,l=this.rd_1.x-n;h.y=180*Math.atan2(u,l)/Dn();var c=In(this.sd_1),_=this.rd_1.y-i,f=this.rd_1.x-n;return c.z=180*Math.atan2(_,f)/Dn(),this.sd_1},Tn(qa).aa=function(){return this.xd_1},Tn(qa).yd=function(t){this.minSize=t},Tn(qa).zd=function(){return this.minSize},Tn(qa).ae=function(t){this.brightness=t},Tn(qa).be=function(){return this.brightness},Tn(qa).ce=function(t){this.blurSize=t},Tn(qa).de=function(){return this.blurSize},Tn(qa).ee=function(t){this.additionalBlur=t},Tn(qa).fe=function(){return this.additionalBlur},Tn(qa).c7=function(t){this.id=t},Tn(qa).d7=function(){return this.id},Tn(za).aa=function(){return this.ge_1},Tn(za).he=function(t){this.blending=t},Tn(za).ie=function(){return this.blending},Tn(za).c7=function(t){this.id=t},Tn(za).d7=function(){return this.id},Tn(Xa).aa=function(){return this.je_1},Tn(Xa).ke=function(t){this.color=t},Tn(Xa).le=function(){return this.color},Tn(Qa).aa=function(){return this.oe_1},Tn(Qa).pe=function(t){this.clearType=t},Tn(Qa).qe=function(){return this.clearType},Tn(no).f6=function(t){this.enabled=t},Tn(no).g6=function(){return this.enabled},Tn(no).b7=function(t){this.name=t},Tn(no).c4=function(){return this.name},Tn(ao).k2=function(){return this.value},Tn(vo).te=function(t){this.shader=t},Tn(vo).ue=function(){return this.shader},Tn(vo).he=function(t){this.blending=t},Tn(vo).ie=function(){return this.blending},Tn(vo).ve=function(t){this.depthMode=t},Tn(vo).we=function(){return this.depthMode},Tn(vo).xe=function(t){this.culling=t},Tn(vo).ye=function(){return this.culling},Tn(vo).ze=function(t){this.vertexAttributes=t},Tn(vo).af=function(){return this.vertexAttributes},Tn(yo).df=function(t){this.mesh=t},Tn(yo).ef=function(){return this.mesh},Tn(yo).ff=function(t){this.uniforms=t},Tn(yo).gf=function(){return this.uniforms},Tn(yo).hf=function(t){this.state=t},Tn(yo).oc=function(){return this.state},Tn(yo).if=function(t){this.primitiveType=t},Tn(yo).jf=function(){return this.primitiveType},Tn(yo).kf=function(t){this.primitiveCount=t},Tn(yo).lf=function(){return this.primitiveCount},Tn(yo).aa=function(){return this.q9_1},Tn(yo).mf=function(t){this.hints=t},Tn(yo).nf=function(){return this.hints},Tn(Co).of=function(t){this.transform=t},Tn(Co).pf=function(){return this.transform},Tn(Co).qf=function(t){this.indexUniformMvp=t},Tn(Co).rf=function(){return this.indexUniformMvp},Tn(Co).sf=function(t){this.indexUniformModel=t},Tn(Co).tf=function(){return this.indexUniformModel},Tn(Co).uf=function(t){this.indexUniformView=t},Tn(Co).vf=function(){return this.indexUniformView},Tn(Co).wf=function(t){this.indexUniformProjection=t},Tn(Co).xf=function(){return this.indexUniformProjection},Tn(No).yf=function(){return this.modelMatrix},Tn($o).toString=function(){return"AffineTranformation(translation="+this.l9_1+", rotation="+this.m9_1+", scale="+this.n9_1+")"},Tn($o).hashCode=function(){var t=this.l9_1.hashCode();return t=vn(t,31)+this.m9_1.hashCode()|0,t=vn(t,31)+this.n9_1.hashCode()|0},Tn($o).equals=function(t){if(this===t)return!0;if(!(t instanceof $o))return!1;var e=t instanceof $o?t:Nn();return!!this.l9_1.equals(e.l9_1)&&!!this.m9_1.equals(e.m9_1)&&!!this.n9_1.equals(e.n9_1)},Tn(Po).aa=function(){return ho()},Tn(Po).x8=function(t){this.commands=t},Tn(Po).y8=function(){return this.commands},Tn(jo).k2=function(){return this.value},Tn(Ho).bg=function(){return this.shadingRate},Tn(nh).aa=function(){return this.dg_1},Tn(ih).aa=function(){return oo()},Tn(hh).aa=function(){return this.eg_1},Tn(uh).aa=function(){return this.fg_1},Tn(uh).gg=function(t){this.color0=t},Tn(uh).hg=function(){return this.color0},Tn(uh).ig=function(t){this.color1=t},Tn(uh).jg=function(){return this.color1},Tn(Th).mg=function(t,e,n){var i=Math.min(t,n);return Math.max(i,e)},Tn(Th).xc=function(t,e,n){var i=this.mg((n-t)/(e-t),0,1);return i*i*(3-2*i)},Tn(Th).ng=function(t,e,n){var i=n;return(i=this.mg((i-t)/(e-t),0,1))*i*i*(i*(6*i-15)+10)},Tn(Th).rc=function(t,e){return((e+1|0)+On(Bn().q5()*(t-2|0))|0)%t|0},Tn(Th).og=function(t){return 57.29578*t},Tn(yh).k9=function(t,e,n,i,r,s){this.pg(t,e,this.l7_1,0,16),this.pg(n,i,this.m7_1,0,16),this.pg(r,s,this.n7_1,0,16),this.qg(this.l7_1,this.m7_1,this.n7_1),this.pg(this.l7_1,0,t,e,16)},Tn(yh).pg=function(t,e,n,i,r){Mn(t,n,i,e,e+r|0)},Tn(yh).rg=function(t,e){return e+vn(4,t)|0},Tn(yh).qg=function(t,e,n){var i=0;if(i<=3)do{var r=i;i=i+1|0;var s=n[this.rg(r,0)],a=e[0]*s,o=e[1]*s,h=e[2]*s,u=e[3]*s,l=1;if(l<=3)do{var c=l;l=l+1|0;var _=n[this.rg(r,c)];a+=e[this.rg(c,0)]*_,o+=e[this.rg(c,1)]*_,h+=e[this.rg(c,2)]*_,u+=e[this.rg(c,3)]*_}while(l<=3);t[this.rg(r,0)]=a,t[this.rg(r,1)]=o,t[this.rg(r,2)]=h,t[this.rg(r,3)]=u}while(i<=3)},Tn(yh).r7=function(t,e,n,i,r,s,a,o){if(n===i)throw zn(qn("left == right"));if(s===r)throw zn(qn("top == bottom"));if(a===o)throw zn(qn("near == far"));if(a<=0)throw zn(qn("near <= 0.0f"));if(o<=0)throw zn(qn("far <= 0.0f"));var h=1/(i-n),u=1/(s-r),l=1/(a-o),c=a*h*2,_=a*u*2,f=(i+n)*h,d=(s+r)*u,m=(o+a)*l,w=o*a*l*2;t[e+0|0]=c,t[e+5|0]=_,t[e+8|0]=f,t[e+9|0]=d,t[e+10|0]=m,t[e+14|0]=w,t[e+11|0]=-1,t[e+1|0]=0,t[e+2|0]=0,t[e+3|0]=0,t[e+4|0]=0,t[e+6|0]=0,t[e+7|0]=0,t[e+12|0]=0,t[e+13|0]=0,t[e+15|0]=0},Tn(yh).sg=function(t,e,n){var i=t*t+e*e+n*n;return Math.sqrt(i)},Tn(yh).g9=function(t,e){var n=0;if(n<=15)do{var i=n;n=n+1|0,t[e+i|0]=0}while(n<=15);for(var r=0;r<16;)t[e+r|0]=1,r=r+5|0},Tn(yh).j9=function(t,e,n,i,r){var s=0;if(s<=3)do{var a=s;s=s+1|0;var o=e+a|0;t[o]=t[o]*n;var h=4+o|0;t[h]=t[h]*i;var u=8+o|0;t[u]=t[u]*r}while(s<=3)},Tn(yh).h9=function(t,e,n,i,r){var s=0;if(s<=3)do{var a=s;s=s+1|0;var o=e+a|0,h=12+o|0;t[h]=t[h]+(t[o]*n+t[4+o|0]*i+t[8+o|0]*r)}while(s<=3)},Tn(yh).i9=function(t,e,n,i,r,s){this.tg(this.k7_1,0,n,i,r,s),this.k9(this.k7_1,16,t,e,this.k7_1,0),this.pg(this.k7_1,16,t,e,16)},Tn(yh).tg=function(t,e,n,i,r,s){var a=n,o=i,h=r,u=s;t[e+3|0]=0,t[e+7|0]=0,t[e+11|0]=0,t[e+12|0]=0,t[e+13|0]=0,t[e+14|0]=0,t[e+15|0]=1;var l=a*=Dn()/180,c=Math.sin(l),_=a,f=Math.cos(_);if(1===o&&0===h&&0===u)t[e+5|0]=f,t[e+10|0]=f,t[e+6|0]=c,t[e+9|0]=-c,t[e+1|0]=0,t[e+2|0]=0,t[e+4|0]=0,t[e+8|0]=0,t[e+0|0]=1;else if(0===o&&1===h&&0===u)t[e+0|0]=f,t[e+10|0]=f,t[e+8|0]=c,t[e+2|0]=-c,t[e+1|0]=0,t[e+4|0]=0,t[e+6|0]=0,t[e+9|0]=0,t[e+5|0]=1;else if(0===o&&0===h&&1===u)t[e+0|0]=f,t[e+5|0]=f,t[e+1|0]=c,t[e+4|0]=-c,t[e+2|0]=0,t[e+6|0]=0,t[e+8|0]=0,t[e+9|0]=0,t[e+10|0]=1;else{var d=this.sg(o,h,u);if(1!==d){var m=1/d;o*=m,h*=m,u*=m}var w=1-f,g=o*h,p=h*u,v=u*o,A=o*c,E=h*c,b=u*c;t[e+0|0]=o*o*w+f,t[e+4|0]=g*w-b,t[e+8|0]=v*w+E,t[e+1|0]=g*w+b,t[e+5|0]=h*h*w+f,t[e+9|0]=p*w-A,t[e+2|0]=v*w-E,t[e+6|0]=p*w+A,t[e+10|0]=u*u*w+f}},Tn(yh).ug=function(t,e,n,i,r,s,a,o,h,u,l){var c=s-n,_=a-i,f=o-r,d=1/this.sg(c,_,f),m=(_*=d)*l-(f*=d)*u,w=f*h-(c*=d)*l,g=c*u-_*h,p=1/this.sg(m,w,g),v=(w*=p)*f-(g*=p)*_,A=g*c-(m*=p)*f,E=m*_-w*c;t[e+0|0]=m,t[e+1|0]=v,t[e+2|0]=-c,t[e+3|0]=0,t[e+4|0]=w,t[e+5|0]=A,t[e+6|0]=-_,t[e+7|0]=0,t[e+8|0]=g,t[e+9|0]=E,t[e+10|0]=-f,t[e+11|0]=0,t[e+12|0]=0,t[e+13|0]=0,t[e+14|0]=0,t[e+15|0]=1,this.h9(t,e,-n,-i,-r)},Tn(Rh).xg=function(t){this.vg_1=t},Tn(Rh).yg=function(){return this.vg_1},Tn(Rh).zg=function(t){this.vg_1=t},Tn(Rh).ah=function(){return this.vg_1},Tn(Rh).bh=function(t){this.wg_1=t},Tn(Rh).ch=function(){return this.wg_1},Tn(Rh).dh=function(t){this.wg_1=t},Tn(Rh).eh=function(){return this.wg_1},Tn(Rh).fh=function(t,e){return new Rh(t,e)},Tn(Rh).copy=function(t,e,n){return t=t===Fn?this.vg_1:t,e=e===Fn?this.wg_1:e,this.fh(t,e)},Tn(Rh).toString=function(){return"Vec2(_x="+this.vg_1+", _y="+this.wg_1+")"},Tn(Rh).hashCode=function(){var t=jn(this.vg_1);return t=vn(t,31)+jn(this.wg_1)|0},Tn(Rh).equals=function(t){if(this===t)return!0;if(!(t instanceof Rh))return!1;var e=t instanceof Rh?t:Nn();return!!kn(this.vg_1,e.vg_1)&&!!kn(this.wg_1,e.wg_1)},Tn(Fh).xg=function(t){this.gh_1=t},Tn(Fh).yg=function(){return this.gh_1},Tn(Fh).zg=function(t){this.gh_1=t},Tn(Fh).ah=function(){return this.gh_1},Tn(Fh).bh=function(t){this.hh_1=t},Tn(Fh).ch=function(){return this.hh_1},Tn(Fh).dh=function(t){this.hh_1=t},Tn(Fh).eh=function(){return this.hh_1},Tn(Fh).jh=function(t){this.ih_1=t},Tn(Fh).kh=function(){return this.ih_1},Tn(Fh).lh=function(t){this.ih_1=t},Tn(Fh).mh=function(){return this.ih_1},Tn(Fh).nh=function(t,e,n){return new Fh(t,e,n)},Tn(Fh).copy=function(t,e,n,i){return t=t===Fn?this.gh_1:t,e=e===Fn?this.hh_1:e,n=n===Fn?this.ih_1:n,this.nh(t,e,n)},Tn(Fh).toString=function(){return"Vec3(_x="+this.gh_1+", _y="+this.hh_1+", _z="+this.ih_1+")"},Tn(Fh).hashCode=function(){var t=jn(this.gh_1);return t=vn(t,31)+jn(this.hh_1)|0,t=vn(t,31)+jn(this.ih_1)|0},Tn(Fh).equals=function(t){if(this===t)return!0;if(!(t instanceof Fh))return!1;var e=t instanceof Fh?t:Nn();return!!kn(this.gh_1,e.gh_1)&&!!kn(this.hh_1,e.hh_1)&&!!kn(this.ih_1,e.ih_1)},Tn(Ch).xg=function(t){this.oh_1=t},Tn(Ch).yg=function(){return this.oh_1},Tn(Ch).zg=function(t){this.oh_1=t},Tn(Ch).ah=function(){return this.oh_1},Tn(Ch).bh=function(t){this.ph_1=t},Tn(Ch).ch=function(){return this.ph_1},Tn(Ch).dh=function(t){this.ph_1=t},Tn(Ch).eh=function(){return this.ph_1},Tn(Ch).jh=function(t){this.qh_1=t},Tn(Ch).kh=function(){return this.qh_1},Tn(Ch).lh=function(t){this.qh_1=t},Tn(Ch).mh=function(){return this.qh_1},Tn(Ch).sh=function(t){this.rh_1=t},Tn(Ch).th=function(){return this.rh_1},Tn(Ch).uh=function(t){this.rh_1=t},Tn(Ch).vh=function(){return this.rh_1},Tn(Ch).wh=function(t,e,n,i){return new Ch(t,e,n,i)},Tn(Ch).copy=function(t,e,n,i,r){return t=t===Fn?this.oh_1:t,e=e===Fn?this.ph_1:e,n=n===Fn?this.qh_1:n,i=i===Fn?this.rh_1:i,this.wh(t,e,n,i)},Tn(Ch).toString=function(){return"Vec4(_x="+this.oh_1+", _y="+this.ph_1+", _z="+this.qh_1+", _w="+this.rh_1+")"},Tn(Ch).hashCode=function(){var t=jn(this.oh_1);return t=vn(t,31)+jn(this.ph_1)|0,t=vn(t,31)+jn(this.qh_1)|0,t=vn(t,31)+jn(this.rh_1)|0},Tn(Ch).equals=function(t){if(this===t)return!0;if(!(t instanceof Ch))return!1;var e=t instanceof Ch?t:Nn();return!!(kn(this.oh_1,e.oh_1)&&kn(this.ph_1,e.ph_1)&&kn(this.qh_1,e.qh_1)&&kn(this.rh_1,e.rh_1))},Tn(Mh).ci=function(t,e){this.ai_1.c1(t,new Sh(0,e,!0))},Tn(Mh).di=function(t,e,n){this.ai_1.c1(t,new Sh(0,e,n))},Tn(Mh).ei=function(t){var e=this.ai_1.i1(t);if(null==e)throw Pn("Timer not found");return e.xh_1},Tn(Mh).fi=function(t,e){var n=this.ai_1.i1(t);if(null==n)throw Pn("Timer not found");n.xh_1=e},Tn(Mh).gi=function(t){var e=this.ai_1.i1(t);if(null==e)throw Pn("Timer not found");return e},Tn(Mh).hi=function(t){for(var e=this.ai_1.b1().h();e.o();){var n=e.p(),i=(t-this.bi_1)/n.yh_1;n.xh_1=n.xh_1+i,n.zh_1?n.xh_1=n.xh_1%1:n.xh_1>1&&(n.xh_1=1)}this.bi_1=t},yn(Tn(Wn),"name",Tn(Wn).c4),yn(Tn(Wn),"ordinal",Tn(Wn).d4),yn(Tn(ei),"name",Tn(ei).c4),yn(Tn(ei),"ordinal",Tn(ei).d4),yn(Tn(si),"name",Tn(si).c4),yn(Tn(si),"ordinal",Tn(si).d4),yn(Tn(Si),"name",Tn(Si).c4),yn(Tn(Si),"ordinal",Tn(Si).d4),yn(Tn(Hi),"loaded",Tn(Hi).h7,Tn(Hi).g7),yn(Tn(Hi),"commands",(function(){return this.y8()}),(function(t){this.x8(t)})),yn(Tn(Hi),"meshes",(function(){return this.a9()}),(function(t){this.z8(t)})),yn(Tn(Hi),"textures",(function(){return this.c9()}),(function(t){this.b9(t)})),yn(Tn(Hi),"shaders",(function(){return this.e9()}),(function(t){this.d9(t)})),yn(Tn(Yi),"name",Tn(Yi).c4),yn(Tn(Yi),"ordinal",Tn(Yi).d4),yn(Tn(Ji),"name",Tn(Ji).c4),yn(Tn(Ji),"ordinal",Tn(Ji).d4),yn(Tn(ir),"name",Tn(ir).c4),yn(Tn(ir),"ordinal",Tn(ir).d4),yn(Tn(or),"name",Tn(or).c4),yn(Tn(or),"ordinal",Tn(or).d4),yn(Tn(Gr),"name",Tn(Gr).c4),yn(Tn(Gr),"ordinal",Tn(Gr).d4),yn(Tn(Qr),"name",Tn(Qr).c4),yn(Tn(Qr),"ordinal",Tn(Qr).d4),yn(Tn(wa),"minDurationCoefficient",Tn(wa).lc,Tn(wa).kc),yn(Tn(wa),"positionInterpolator",Tn(wa).mc),yn(Tn(wa),"timer",Tn(wa).nc),yn(Tn(wa),"state",Tn(wa).oc),yn(Tn(wa),"currentCameraPair",Tn(wa).qc),yn(Tn(ba),"cameraPosition",Tn(ba).ed),yn(Tn(ba),"cameraRotation",Tn(ba).fd),yn(Tn(Fa),"name",Tn(Fa).c4),yn(Tn(Fa),"ordinal",Tn(Fa).d4),yn(Tn(Ba),"name",Tn(Ba).c4),yn(Tn(Ba),"ordinal",Tn(Ba).d4),yn(Tn(no),"type",(function(){return this.aa()})),yn(Tn(Ka),"name",Tn(Ka).c4),yn(Tn(Ka),"ordinal",Tn(Ka).d4),yn(Tn(ao),"name",Tn(ao).c4),yn(Tn(ao),"ordinal",Tn(ao).d4),yn(Tn(To),"name",Tn(To).c4),yn(Tn(To),"ordinal",Tn(To).d4),yn(Tn(jo),"name",Tn(jo).c4),yn(Tn(jo),"ordinal",Tn(jo).d4),yn(Tn(fh),"name",Tn(fh).c4),yn(Tn(fh),"ordinal",Tn(fh).d4),yn(Tn(Rh),"x",Tn(Rh).yg,Tn(Rh).xg),yn(Tn(Rh),"r",Tn(Rh).ah,Tn(Rh).zg),yn(Tn(Rh),"y",Tn(Rh).ch,Tn(Rh).bh),yn(Tn(Rh),"g",Tn(Rh).eh,Tn(Rh).dh),yn(Tn(Fh),"x",Tn(Fh).yg,Tn(Fh).xg),yn(Tn(Fh),"r",Tn(Fh).ah,Tn(Fh).zg),yn(Tn(Fh),"y",Tn(Fh).ch,Tn(Fh).bh),yn(Tn(Fh),"g",Tn(Fh).eh,Tn(Fh).dh),yn(Tn(Fh),"z",Tn(Fh).kh,Tn(Fh).jh),yn(Tn(Fh),"b",Tn(Fh).mh,Tn(Fh).lh),yn(Tn(Ch),"x",Tn(Ch).yg,Tn(Ch).xg),yn(Tn(Ch),"r",Tn(Ch).ah,Tn(Ch).zg),yn(Tn(Ch),"y",Tn(Ch).ch,Tn(Ch).bh),yn(Tn(Ch),"g",Tn(Ch).eh,Tn(Ch).dh),yn(Tn(Ch),"z",Tn(Ch).kh,Tn(Ch).jh),yn(Tn(Ch),"b",Tn(Ch).mh,Tn(Ch).lh),yn(Tn(Ch),"w",Tn(Ch).th,Tn(Ch).sh),yn(Tn(Ch),"a",Tn(Ch).vh,Tn(Ch).uh),Ae=new Aa,gn=new Th,Nh(t),t.$jsExportAll$=Nh,t.$_$=t.$_$||{},t.$_$.a=Sa,t.$_$.b=Va,t.$_$.c=Ha,t.$_$.d=ja,t.$_$.e=eo,t.$_$.f=po,t.$_$.g=Fo,t.$_$.h=dh,t.$_$.i=wh,t.$_$.j=Qs,t.$_$.k=ha,t.$_$.l=ta,t.$_$.m=Ks,t.$_$.n=oi,t.$_$.o=ci,t.$_$.p=wi,t.$_$.q=Ni,t.$_$.r=ki,t.$_$.s=Mi,t.$_$.t=dr,t.$_$.u=lr,t.$_$.v=ur,t.$_$.w=yr,t.$_$.x=br,t.$_$.y=pr,t.$_$.z=Cr,t.$_$.a1=mr,t.$_$.b1=gr,t.$_$.c1=ds,t.$_$.d1=Ds,t.$_$.e1=Us,t.$_$.f1=Os,t.$_$.g1=Ps,t.$_$.h1=ks,t.$_$.i1=ls,t.$_$.j1=us,t.$_$.k1=Pa,t.$_$.l1=Mo,t.$_$.m1=Oo,t.$_$.n1=eh,t.$_$.o1=Ui,t.$_$.p1=qi,t.$_$.q1=Nr,t.$_$.r1=Or,t.$_$.s1=gn,t.$_$.t1=xh,t.$_$.u1=da,t.$_$.v1=wa,t.$_$.w1=Ta,t.$_$.x1=ga,t.$_$.y1=$o,t.$_$.z1=qa,t.$_$.a2=Xa,t.$_$.b2=Qa,t.$_$.c2=no,t.$_$.d2=za,t.$_$.e2=yo,t.$_$.f2=vo,t.$_$.g2=Co,t.$_$.h2=Po,t.$_$.i2=Lo,t.$_$.j2=Do,t.$_$.k2=Io,t.$_$.l2=ih,t.$_$.m2=uh,t.$_$.n2=Fh,t.$_$.o2=Ch,t.$_$.p2=Mh,t.$_$.q2=Kn,t.$_$.r2=ai,t.$_$.s2=Pi,t.$_$.t2=Oi,t.$_$.u2=ts,t.$_$.v2=Jr,t.$_$.w2=Hi,t.$_$.x2=Vi,t.$_$.y2=hr,t.$_$.z2=$r,t.$_$.a3=Ir,t.$_$.b3=Wr,t.$_$.c3=Xr,t.$_$.d3=Br,t.$_$.e3=qr,t.$_$.f3=Ur,t.$_$.g3=Dr,t.$_$.h3=zr}(t.exports,p)})),A=g((function(t,e){!function(t,e,n){var i,r,s,a,o,h,u,l,c,_,f,d,m,w,g,p,v,A,E,b,T,y,x,R,F,C,S,M,N,$,k,O,P,I,L,D,U,B,q,z,j,H,V,G,X,W,Y,Z,K,Q,J,tt,et,nt,it,rt,st,at,ot,ht,ut,lt,ct,_t,ft,dt,mt,wt,gt=Math.imul,pt=e.$_$.a1,vt=e.$_$.p,At=e.$_$.b1,Et=e.$_$.b,bt=n.$_$.n2,Tt=n.$_$.u1,yt=e.$_$.z,xt=n.$_$.x1,Rt=n.$_$.w1,Ft=e.$_$.t,Ct=e.$_$.f1,St=n.$_$.o2,Mt=n.$_$.m,Nt=n.$_$.g1,$t=n.$_$.v2,kt=n.$_$.k,Ot=n.$_$.h1,Pt=e.$_$.l,It=n.$_$.u2,Lt=n.$_$.e1,Dt=n.$_$.l,Ut=n.$_$.f1,Bt=e.$_$.k,qt=n.$_$.j1,zt=n.$_$.d1,jt=n.$_$.p1,Ht=e.$_$.n,Vt=n.$_$.g3,Gt=n.$_$.f3,Xt=n.$_$.d3,Wt=e.$_$.i,Yt=e.$_$.w,Zt=e.$_$.h,Kt=n.$_$.e3,Qt=e.$_$.h1,Jt=n.$_$.w2,te=n.$_$.p2,ee=n.$_$.j2,ne=n.$_$.a3,ie=n.$_$.v1,re=n.$_$.a2,se=n.$_$.q2,ae=n.$_$.t2,oe=n.$_$.q,he=n.$_$.c3,ue=n.$_$.b3,le=n.$_$.f2,ce=n.$_$.y1,_e=n.$_$.q1,fe=n.$_$.l1,de=n.$_$.h2,me=n.$_$.g2,we=n.$_$.r1,ge=n.$_$.m1,pe=n.$_$.b2,ve=n.$_$.e,Ae=n.$_$.m2,Ee=n.$_$.n1,be=n.$_$.z1,Te=n.$_$.c,ye=n.$_$.d2,xe=e.$_$.g,Re=n.$_$.t1,Fe=n.$_$.a,Ce=n.$_$.k1,Se=e.$_$.g1,Me=e.$_$.e1,Ne=e.$_$.q,$e=n.$_$.x2,ke=n.$_$.y2,Oe=n.$_$.y,Pe=n.$_$.v,Ie=n.$_$.a1,Le=n.$_$.u,De=n.$_$.w,Ue=n.$_$.t,Be=n.$_$.x,qe=n.$_$.c2,ze=n.$_$.f,je=n.$_$.k2,He=n.$_$.h,Ve=n.$_$.o1,Ge=n.$_$.d,Xe=n.$_$.r2,We=n.$_$.n,Ye=n.$_$.o,Ze=n.$_$.b,Ke=n.$_$.i2,Qe=n.$_$.i,Je=n.$_$.j,tn=n.$_$.s1,en=n.$_$.s,nn=n.$_$.p,rn=n.$_$.s2,sn=n.$_$.r,an=n.$_$.b1,on=e.$_$.y,hn=e.$_$.s,un=e.$_$.i1,ln=e.$_$.m,cn=n.$_$.l2,_n=n.$_$.e2,fn=e.$_$.c,dn=n.$_$.z2,mn=e.$_$.d1,wn=n.$_$.i1,gn=n.$_$.c1,pn=e.$_$.a,vn=n.$_$.g,An=n.$_$.h3,En=n.$_$.z;function bn(){this.ii_1=0,this.ji_1=0}function Tn(){bn.call(this),this.mi_1=new bt,this.ni_1=new bt}function yn(){bn.call(this),this.qi_1=null}function xn(){i=this,this.ri_1=new Tt(133,133,3),this.si_1=new Tt(341,341,15),this.ti_1=new Tt(238,238,10),this.ui_1=new Tt(263,263,9),this.vi_1=new Tt(263,263,12)}function Rn(){return null==i&&new xn,i}function Fn(){r=this,this.wi_1=[new Rt(new xt(new bt(-20834.791,47426.33,2531.646),new bt(-25922.844,23601.791,886.872)),new xt(new bt(10194.038,-1464.044,886.872),new bt(918.405,-14209.802,886.872)),1),new Rt(new xt(new bt(-4109.569,11284.58,2531.646),new bt(-26652.816,1825.736,886.872)),new xt(new bt(4167.435,9801.106,886.872),new bt(20338.879,-12121.901,886.872)),1),new Rt(new xt(new bt(-1316.869,-26605.557,730.833),new bt(7972.117,-8640.933,156.916)),new xt(new bt(5633.813,-2835.024,590.909),new bt(7054.362,-11628.732,156.916)),1),new Rt(new xt(new bt(1058.602,-6343.349,7252.608),new bt(12343.629,-9785.771,156.916)),new xt(new bt(10627.578,-5523.65,952.352),new bt(7975.851,-12773.571,156.916)),1),new Rt(new xt(new bt(-15084.583,-6685.166,1734.204),new bt(-7877.742,-11902.989,156.916)),new xt(new bt(-5300.519,-8189.871,2864.12),new bt(-14072.867,-12477.64,156.916)),1),new Rt(new xt(new bt(-12847.906,6333.75,388.651),new bt(-9402.603,9611.532,156.916)),new xt(new bt(-7762.645,7800.965,3749.253),new bt(-11462.321,8195.902,156.916)),1),new Rt(new xt(new bt(-22389.021,1075.924,5119.1),new bt(-6829.5,16726.61,3154.788)),new xt(new bt(-23767.002,14537.841,5001.777),new bt(1434.719,1224.992,4490.559)),1),new Rt(new xt(new bt(-35127.016,27564.738,886.872),new bt(-7923.539,14634.557,886.872)),new xt(new bt(-24081.432,-14828.664,886.872),new bt(-7150.61,-5201.194,886.872)),1),new Rt(new xt(new bt(-26917.791,18527.285,3173.479),new bt(-19059.227,11528.038,886.872)),new xt(new bt(1437.67,4945.704,571.601),new bt(6268.789,-4323.603,886.872)),1)]}function Cn(){return null==r&&new Fn,r}function Sn(t,e,n,i,r,s,a,o,h){this.xi_1=t,this.yi_1=e,this.zi_1=n,this.aj_1=i,this.bj_1=r,this.cj_1=s,this.dj_1=a,this.ej_1=o,this.fj_1=h}function Mn(){s=this,this.gj_1=[new Sn(!0,!1,!0,new St(.3137254901960784,.3137254901960784,.3137254901960784,1),new St(.8666666666666667,.9725490196078431,1,.3),new St(.8666666666666667,.9725490196078431,1,.3),new St(.21568627450980393,.6313725490196078,.8274509803921568),new St(.5137254901960784,.8352941176470589,.8901960784313725),new St(1,1,1,.75)),new Sn(!1,!1,!1,new St(1,0,0,1),new St(.058823529411764705,.2627450980392157,.3843137254901961,.3),new St(1,1,1,1),new St(.03529411764705882,.17254901960784313,.3215686274509804),new St(.043137254901960784,.12156862745098039,.2196078431372549),new St(.2627450980392157,.4823529411764706,.611764705882353,.75)),new Sn(!0,!0,!0,new St(.49411764705882355,.42745098039215684,.26666666666666666,1),new St(.9294117647058824,.7490196078431373,.38823529411764707,.3),new St(.8666666666666667,.9725490196078431,1,.3),new St(.592156862745098,.6313725490196078,.5098039215686274),new St(.8509803921568627,.7333333333333333,.5372549019607843),new St(.8980392156862745,.8745098039215686,.7137254901960784,.75)),new Sn(!0,!0,!1,new St(.3686274509803922,.17647058823529413,.20784313725490197,1),new St(.4549019607843137,.2784313725490196,.5019607843137255,.3),new St(1,1,1,1),new St(.0784313725490196,.20784313725490197,.4549019607843137),new St(.25882352941176473,.24313725490196078,.5098039215686274),new St(.8823529411764706,.6745098039215687,.8392156862745098,.75))]}function Nn(){return null==s&&new Mn,s}function $n(){a=this,this.hj_1=new It(Pt([new $t(Mt(),Nt(),0),new $t(kt(),Ot(),6)]),8),this.ij_1=new It(Pt([new $t(Mt(),Lt(),0),new $t(Dt(),Ut(),12)]),16),this.jj_1=new It(Pt([new $t(Mt(),Nt(),0),new $t(Dt(),Ut(),6)]),12),this.kj_1=new It(Bt(new $t(Mt(),Nt(),0)),8),this.lj_1=new It(Bt(new $t(Mt(),Lt(),0)),12),this.mj_1=new It(Pt([new $t(Mt(),Lt(),0),new $t(kt(),qt(),12)]),16),this.nj_1=new It(Bt(new $t(Dt(),zt(),0)),4),this.oj_1=jt("mountains1",this.hj_1),this.pj_1=jt("mountains_distant1",this.hj_1),this.qj_1=jt("sun",this.ij_1),this.rj_1=jt("sun2",this.ij_1),this.sj_1=jt("water_test",this.jj_1),this.tj_1=jt("sky",this.ij_1),this.uj_1=jt("stars",this.lj_1),this.vj_1=jt("clouds",this.mj_1),this.wj_1=jt("bird1"),this.xj_1=jt("ship",this.hj_1),this.yj_1=jt("penguin-idle",this.nj_1),this.zj_1=jt("penguin-idle2",this.nj_1),this.ak_1=jt("seal-idle",this.nj_1),this.bk_1=jt("animals_sleeping",this.ij_1),this.ck_1=Ht([this.qj_1,this.rj_1,this.oj_1,this.pj_1,this.sj_1,this.tj_1,this.uj_1,this.vj_1,this.wj_1,this.xj_1,this.yj_1,this.zj_1,this.ak_1,this.bk_1])}function kn(){return null==a&&new $n,a}function On(){o=this;var t=this,e=new Tn;e.mi_1=new bt(-10793.156,7192.894,37.26),e.ni_1=new bt(0,0,-160),e.ii_1=.88,e.ji_1=.5;var n=e,i=new Tn;i.mi_1=new bt(-10851.307,7243.238,37.26),i.ni_1=new bt(0,0,70),i.ii_1=.75,i.ji_1=.25;var r=i,s=new Tn;s.mi_1=new bt(-10762.938,7258.693,37.26),s.ni_1=new bt(0,0,0),s.ii_1=.65,s.ji_1=.77;var a=s,h=new Tn;h.mi_1=new bt(-10280.157,8529.577,69.556),h.ni_1=new bt(0,0,-20),h.ii_1=.65,h.ji_1=.2;var u=h,l=new Tn;l.mi_1=new bt(-10359.45,8782.093,69.556),l.ni_1=new bt(0,0,70),l.ii_1=.77,l.ji_1=.35;var c=l,_=new Tn;_.mi_1=new bt(-10081.696,8657.917,69.556),_.ni_1=new bt(0,0,-160),_.ii_1=.85,_.ji_1=.75;var f=_,d=new Tn;d.mi_1=new bt(-10150.821,9009.801,69.556),d.ni_1=new bt(0,0,130),d.ii_1=.7,d.ji_1=.66;var m=d,w=new Tn;w.mi_1=new bt(-10006.514,8820.707,69.556),w.ni_1=new bt(0,0,-90),w.ii_1=.8,w.ji_1=.8;var g=w,p=new Tn;p.mi_1=new bt(-9890.24,8932.688,69.556),p.ni_1=new bt(0,0,140),p.ii_1=.85,p.ji_1=.5,t.dk_1=[n,r,a,u,c,f,m,g,p];var v=this,A=new Tn;A.mi_1=new bt(-12338.941,6764.751,33.536),A.ni_1=new bt(0,0,180),A.ii_1=.9,A.ji_1=.2;var E=A,b=new Tn;b.mi_1=new bt(-12192.411,6887.637,33.536),b.ni_1=new bt(0,0,-135),b.ii_1=.8,b.ji_1=.33;var T=b,y=new Tn;y.mi_1=new bt(-12480.681,6825.791,33.536),y.ni_1=new bt(0,0,160),y.ii_1=.75,y.ji_1=.5;var x=y,R=new Tn;R.mi_1=new bt(-10744.105,7007.923,33.536),R.ni_1=new bt(0,0,-160),R.ii_1=.75,R.ji_1=.5;var F=R,C=new Tn;C.mi_1=new bt(-11312.577,8120.395,33.536),C.ni_1=new bt(0,0,50),C.ii_1=.75,C.ji_1=.75;var S=C,M=new Tn;M.mi_1=new bt(-10070.444,7941.108,65.833),M.ni_1=new bt(0,0,155),M.ii_1=.75,M.ji_1=.8,v.ek_1=[E,T,x,F,S,M]}function Pn(){return null==o&&new On,o}function In(t){var e=Nn().gj_1[t.settings.timeOfDay.b4_1].xi_1;t.commandStars.enabled=!e,t.groupBirds.enabled=e,t.groupAnimalsAnimated.enabled=e,t.groupAnimalsSleeping.enabled=!e,t.groupShips.enabled=e}function Ln(t){var e=Nn().gj_1[t.settings.timeOfDay.b4_1];Vt(t.wk_1.q(2),e.fj_1.r,e.fj_1.g,e.fj_1.b,e.fj_1.a),Gt(t.wk_1.q(3),0,1500),Vt(t.yk_1.q(1),e.cj_1.r,e.cj_1.g,e.cj_1.b,e.cj_1.a),Vt(t.zk_1.q(1),e.bj_1.r,e.bj_1.g,e.bj_1.b,e.bj_1.a);var n=t.zk_1.q(2),i=t.timers.ei(gi())*t.PIf*2,r=Math.sin(i);Xt(n,r),t.commandClouds.transform.m9_1.z=360*t.timers.ei(pi())}function Dn(t){var e=Nn().gj_1[t.settings.timeOfDay.b4_1],n=.2,i=80*t.timers.ei(mi())*n%1;i/=n,Xt(t.xk_1.q(2),i),Xt(t.xk_1.q(3),t.timers.ei(wi())),Xt(t.xk_1.q(4),15),Vt(t.xk_1.q(7),e.dj_1.r,e.dj_1.g,e.dj_1.b,e.dj_1.a),Vt(t.xk_1.q(8),e.ej_1.r,e.ej_1.g,e.ej_1.b,e.ej_1.a),Gt(t.xk_1.q(5),1e4,15e3),Vt(t.xk_1.q(6),5e3,2e3,1,t.settings.blurred?100:2e4)}function Un(t){t.uniformPaletteTexture.value=ci().ql_1[t.settings.timeOfDay.b4_1],t.uniformSkyTexture.value=ci().rl_1[t.settings.timeOfDay.b4_1]}function Bn(t){var e=Nn().gj_1[t.settings.timeOfDay.b4_1];t.commandSun.enabled=!e.yi_1,t.commandSunLow.enabled=e.yi_1}function qn(t){var e=t.groupBirds.commands,n=Yt(e,Wt)?e:Ct(),i=t.timers.ei(vi())*t.PIf*2;zn(t,i,0,0,n.q(0).transform.l9_1),zn(t,-i-t.PIf,0,-4e3,n.q(1).transform.l9_1),zn(t,-i-t.PIf,0,3e3,n.q(2).transform.l9_1),zn(t,i,7e3,3e3,n.q(3).transform.l9_1),zn(t,-i-t.PIf,5e3,3e3,n.q(4).transform.l9_1),zn(t,i,-5e3,7e3,n.q(5).transform.l9_1),n.q(0).transform.m9_1.z=57.29578*(-i+t.PIf/2),n.q(1).transform.m9_1.z=57.29578*(i+t.PIf/2),n.q(2).transform.m9_1.z=57.29578*(i+t.PIf/2),n.q(3).transform.m9_1.z=57.29578*(-i+t.PIf/2),n.q(4).transform.m9_1.z=57.29578*(i+t.PIf/2),n.q(5).transform.m9_1.z=57.29578*(-i+t.PIf/2);var r=t.timers.ei(Ai()),s=t.timers.ei(Ei());Hn(t,r,Rn().ri_1,n.q(0).uniforms),Hn(t,s,Rn().ri_1,n.q(1).uniforms),Hn(t,r+.3,Rn().ri_1,n.q(2).uniforms),Hn(t,s+.5,Rn().ri_1,n.q(3).uniforms),Hn(t,r+.5,Rn().ri_1,n.q(4).uniforms),Hn(t,s+.6,Rn().ri_1,n.q(5).uniforms);for(var a=n.h();a.o();){var o=a.p();Vt(o.uniforms.q(1),.1640625,.1484375,.1171875,1)}}function zn(t,e,n,i,r){r.x=Math.sin(e)*t.BIRD_FLIGHT_RADIUS+n,r.y=Math.cos(e)*t.BIRD_FLIGHT_RADIUS+i}function jn(t,e,n,i,r){var s=e%1;Kt(i.q(2),n.hb_1),Xt(i.q(3),1/n.mb_1),Vt(i.q(5),n.hb_1,n.jb_1,r?n.ob(s):n.pb(s),n.nb_1)}function Hn(t,e,n,i,r,s){return jn(t,e,n,i,r=r===Et||r)}function Vn(t){var e=t.groupShips.commands,n=Yt(e,Wt)?e:Ct(),i=t.timers.ei(bi()),r=0,s=ui().sl_1.length;if(r<s)do{var a=r;r=r+1|0;var o=ui().sl_1[a],h=n.q(a),u=o.tl_1.md(i),l=o.tl_1.td(i).z+180;h.transform.l9_1.x=u.x,h.transform.l9_1.y=u.y,h.transform.l9_1.z=u.z,h.transform.m9_1.z=l,h.transform.n9_1.x=o.ul_1,h.transform.n9_1.y=o.ul_1,h.transform.n9_1.z=o.ul_1}while(r<s)}function Gn(t){var e=t.timers.ei(Ti()),n=t.timers.ei(yi()),i=t.timers.ei(xi()),r=t.timers.ei(Ri()),s=t.timers.ei(Fi()),a=t.groupPenguinsIdle.commands,o=Yt(a,Wt)?a:Ct(),h=t.groupPenguinsIdle2.commands,u=Yt(h,Wt)?h:Ct(),l=t.groupSealIdle.commands,c=Yt(l,Wt)?l:Ct(),_=t.groupSealWalking.commands,f=Yt(_,Wt)?_:Ct(),d=0,m=Pn().dk_1.length;if(d<m)do{var w=d;d=d+1|0;var g=o.q(w);Hn(t,e+Pn().dk_1[w].ji_1,Rn().si_1,g.uniforms)}while(d<m);var p=0,v=Pn().ek_1.length;if(p<v)do{var A=p;p=p+1|0;var E=u.q(A);Hn(t,n+Pn().ek_1[A].ji_1,Rn().ti_1,E.uniforms)}while(p<v);var b=0,T=Yn().wl_1.length;if(b<T)do{var y=b;b=b+1|0;var x=c.q(y);jn(t,i+Yn().wl_1[y].ji_1,Rn().ui_1,x.uniforms,!1)}while(b<T);var R=0,F=Yn().xl_1.length;if(R<F)do{var C=R;R=R+1|0;var S=f.q(C),M=Yn().xl_1[C];if(null!=M.qi_1){var N=Qt(M.qi_1).md(s),$=Qt(M.qi_1).td(s).z-90;jn(t,r+M.ji_1,Rn().vi_1,S.uniforms,!1),S.transform.l9_1.x=N.x,S.transform.l9_1.y=N.y,S.transform.l9_1.z=N.z,S.transform.m9_1.z=$,S.transform.n9_1.x=M.ii_1,S.transform.n9_1.y=M.ii_1,S.transform.n9_1.z=M.ii_1}}while(R<F)}function Xn(){Jt.call(this),this.timers=new te,this.kk_1=1e6,this.lk_1=23e3,this.mk_1=2e3,this.FOV_TRANSITION=20,this.uk_1=Ht([ee()]),this.uniformPaletteTexture=new ne(ci().al_1),this.uniformSkyTexture=new ne(ci().el_1),this.BIRD_FLIGHT_RADIUS=19e3,this.PIf=3.1415927,this.meshes=kn().ck_1,this.textures=ci().pl_1,this.shaders=ai().im_1,M.jm(this.timers),this.Z_NEAR=20,this.Z_FAR=115e3,this.FOV_LANDSCAPE=50,this.FOV_PORTRAIT=75;var t=this,e=new ti;e.cameraPeriod=1,e.vignette=!0,e.blurred=!1,e.autoSwitchCameras=!0,e.timeOfDay=ei(),t.settings=e,this.cameraAnimator=new ie(this.kk_1,this.lk_1,this.mk_1,!0),this.cameraAnimator.setCameras(Cn().wi_1),this.cameraAnimator.minDurationCoefficient=this.settings.cameraPeriod;var n=this,i=new re;i.color=new St(1,0,1,1),i.name="clear color",i.enabled=!0,n.rk_1=i;var r=new le(ai().yl_1,se(),ae(),oe(),new ue(Pt([new he(Mt(),0,Nt(),0),new he(kt(),1,Ot(),6)]),8)),s=new le(ai().zl_1,se(),ae(),oe(),new ue(Pt([new he(Mt(),0,Lt(),0),new he(Dt(),1,Ut(),12)]),16)),a=new le(ai().bm_1,se(),ae(),oe(),new ue(Pt([new he(Mt(),0,Nt(),0),new he(Dt(),1,Ut(),6)]),12)),o=new le(ai().am_1,se(),ae(),oe(),new ue(Pt([new he(Mt(),0,Nt(),0),new he(kt(),1,Ot(),6)]),8)),h=new ce(new bt(0,0,0),new bt(0,0,0),new bt(1,1,1)),u=this,l=fe(kn().qj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture]),s,h);l.hints=this.uk_1,u.commandSun=l;var c=this,_=fe(kn().rj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture]),s,h);_.hints=this.uk_1,c.commandSunLow=_;var f=new de;f.name="sun",f.enabled=!0,f.commands=Ht([this.commandSun,this.commandSunLow]);var d=f;this.vk_1=Pt([_e(new Float32Array(16)),this.uniformPaletteTexture]),this.wk_1=Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,_e(new Float32Array(4)),_e(new Float32Array(2))]);var m=new de;m.name="mountains",m.enabled=!0;var w=m,g=fe(kn().oj_1,this.vk_1,r,h);g.hints=this.uk_1;var p=g,v=fe(kn().pj_1,this.wk_1,o,h);v.hints=this.uk_1,w.commands=Ht([p,v]);var A=m;this.xk_1=Pt([_e(new Float32Array(16)),new ne(ci().jl_1),_e(new Float32Array(1)),_e(new Float32Array(1)),_e(new Float32Array(1)),_e(new Float32Array(2)),_e(new Float32Array(4)),_e(new Float32Array(4)),_e(new Float32Array(4))]);var E=fe(kn().sj_1,this.xk_1,a,h),b=new le(ai().cm_1,se(),ae(),oe(),new ue(Pt([new he(Mt(),0,Lt(),0),new he(Dt(),1,Ut(),12)]),16)),T=fe(kn().tj_1,Pt([_e(new Float32Array(16)),this.uniformSkyTexture,new ne(ci().il_1)]),b,h),y=new le(ai().dm_1,se(),ae(),oe(),new ue(Bt(new he(Mt(),0,Lt(),0)),12));this.yk_1=Pt([_e(new Float32Array(16)),_e(new Float32Array(4))]);var x=this,R=fe(kn().uj_1,this.yk_1,y,h);R.hints=this.uk_1,x.commandStars=R;var F=new le(ai().fm_1,se(),ae(),oe(),new ue(Pt([new he(Mt(),0,Lt(),0),new he(kt(),1,qt(),12)]),16));this.zk_1=Pt([_e(new Float32Array(16)),_e(new Float32Array(4)),_e(new Float32Array(1))]);var C=this,S=new me(kn().vj_1,this.zk_1,F,new ce(new bt(0,0,0),new bt(0,0,0),new bt(1,1,1)));S.hints=this.uk_1,C.commandClouds=S;var N=new le(ai().gm_1,se(),ae(),oe(),null),$=this,k=new me(kn().wj_1,Pt([_e(new Float32Array(16)),_e(new Float32Array(4)),we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().kl_1),_e(new Float32Array(4))]),N,new ce(new bt(0,0,1e4),new bt(0,0,0),new bt(6,3,3)));k.hints=this.uk_1;var O=k,P=new me(kn().wj_1,Pt([_e(new Float32Array(16)),_e(new Float32Array(4)),we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().kl_1),_e(new Float32Array(4))]),N,new ce(new bt(0,0,11e3),new bt(0,0,0),new bt(6,3,3)));P.hints=this.uk_1;var I=P,L=new me(kn().wj_1,Pt([_e(new Float32Array(16)),_e(new Float32Array(4)),we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().kl_1),_e(new Float32Array(4))]),N,new ce(new bt(0,0,12e3),new bt(0,0,0),new bt(6,3,3)));L.hints=this.uk_1;var D=L,U=new me(kn().wj_1,Pt([_e(new Float32Array(16)),_e(new Float32Array(4)),we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().kl_1),_e(new Float32Array(4))]),N,new ce(new bt(0,0,13e3),new bt(0,0,0),new bt(6,3,3)));U.hints=this.uk_1;var B=U,q=new me(kn().wj_1,Pt([_e(new Float32Array(16)),_e(new Float32Array(4)),we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().kl_1),_e(new Float32Array(4))]),N,new ce(new bt(0,0,14e3),new bt(0,0,0),new bt(6,3,3)));q.hints=this.uk_1;var z=q,j=new me(kn().wj_1,Pt([_e(new Float32Array(16)),_e(new Float32Array(4)),we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().kl_1),_e(new Float32Array(4))]),N,new ce(new bt(0,0,15e3),new bt(0,0,0),new bt(6,3,3)));j.hints=this.uk_1,$.groupBirds=ge(!0,[O,I,D,B,z,j]);var H=this,V=new me(kn().xj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture]),r,new ce);V.hints=this.uk_1;var G=V,X=new me(kn().xj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture]),r,new ce);X.hints=this.uk_1;var W=X,Y=new me(kn().xj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture]),r,new ce);Y.hints=this.uk_1,H.groupShips=ge(!0,[G,W,Y]);var Z=new le(ai().hm_1,se(),ae(),oe(),new ue(Bt(new he(Dt(),0,Ut(),0)),4)),K=this,Q=fe(kn().yj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ll_1),_e(new Float32Array(4))]),Z,new ce(Pn().dk_1[0].mi_1,Pn().dk_1[0].ni_1,new bt(Pn().dk_1[0].ii_1,Pn().dk_1[0].ii_1,Pn().dk_1[0].ii_1)));Q.hints=this.uk_1;var J=Q,tt=fe(kn().yj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ll_1),_e(new Float32Array(4))]),Z,new ce(Pn().dk_1[1].mi_1,Pn().dk_1[1].ni_1,new bt(Pn().dk_1[1].ii_1,Pn().dk_1[1].ii_1,Pn().dk_1[1].ii_1)));tt.hints=this.uk_1;var et=tt,nt=fe(kn().yj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ll_1),_e(new Float32Array(4))]),Z,new ce(Pn().dk_1[2].mi_1,Pn().dk_1[2].ni_1,new bt(Pn().dk_1[2].ii_1,Pn().dk_1[2].ii_1,Pn().dk_1[2].ii_1)));nt.hints=this.uk_1;var it=nt,rt=fe(kn().yj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ll_1),_e(new Float32Array(4))]),Z,new ce(Pn().dk_1[3].mi_1,Pn().dk_1[3].ni_1,new bt(Pn().dk_1[3].ii_1,Pn().dk_1[3].ii_1,Pn().dk_1[3].ii_1)));rt.hints=this.uk_1;var st=rt,at=fe(kn().yj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ll_1),_e(new Float32Array(4))]),Z,new ce(Pn().dk_1[4].mi_1,Pn().dk_1[4].ni_1,new bt(Pn().dk_1[4].ii_1,Pn().dk_1[4].ii_1,Pn().dk_1[4].ii_1)));at.hints=this.uk_1;var ot=at,ht=fe(kn().yj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ll_1),_e(new Float32Array(4))]),Z,new ce(Pn().dk_1[5].mi_1,Pn().dk_1[5].ni_1,new bt(Pn().dk_1[5].ii_1,Pn().dk_1[5].ii_1,Pn().dk_1[5].ii_1)));ht.hints=this.uk_1;var ut=ht,lt=fe(kn().yj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ll_1),_e(new Float32Array(4))]),Z,new ce(Pn().dk_1[6].mi_1,Pn().dk_1[6].ni_1,new bt(Pn().dk_1[6].ii_1,Pn().dk_1[6].ii_1,Pn().dk_1[6].ii_1)));lt.hints=this.uk_1;var ct=lt,_t=fe(kn().yj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ll_1),_e(new Float32Array(4))]),Z,new ce(Pn().dk_1[7].mi_1,Pn().dk_1[7].ni_1,new bt(Pn().dk_1[7].ii_1,Pn().dk_1[7].ii_1,Pn().dk_1[7].ii_1)));_t.hints=this.uk_1;var ft=_t,dt=fe(kn().yj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ll_1),_e(new Float32Array(4))]),Z,new ce(Pn().dk_1[8].mi_1,Pn().dk_1[8].ni_1,new bt(Pn().dk_1[8].ii_1,Pn().dk_1[8].ii_1,Pn().dk_1[8].ii_1)));dt.hints=this.uk_1,K.groupPenguinsIdle=ge(!0,[J,et,it,st,ot,ut,ct,ft,dt]);var mt=this,wt=fe(kn().zj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ml_1),_e(new Float32Array(4))]),Z,new ce(Pn().ek_1[0].mi_1,Pn().ek_1[0].ni_1,new bt(Pn().ek_1[0].ii_1,Pn().ek_1[0].ii_1,Pn().ek_1[0].ii_1)));wt.hints=this.uk_1;var gt=wt,pt=fe(kn().zj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ml_1),_e(new Float32Array(4))]),Z,new ce(Pn().ek_1[1].mi_1,Pn().ek_1[1].ni_1,new bt(Pn().ek_1[1].ii_1,Pn().ek_1[1].ii_1,Pn().ek_1[1].ii_1)));pt.hints=this.uk_1;var vt=pt,At=fe(kn().zj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ml_1),_e(new Float32Array(4))]),Z,new ce(Pn().ek_1[2].mi_1,Pn().ek_1[2].ni_1,new bt(Pn().ek_1[2].ii_1,Pn().ek_1[2].ii_1,Pn().ek_1[2].ii_1)));At.hints=this.uk_1;var Et=At,Tt=fe(kn().zj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ml_1),_e(new Float32Array(4))]),Z,new ce(Pn().ek_1[3].mi_1,Pn().ek_1[3].ni_1,new bt(Pn().ek_1[3].ii_1,Pn().ek_1[3].ii_1,Pn().ek_1[3].ii_1)));Tt.hints=this.uk_1;var yt=Tt,xt=fe(kn().zj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ml_1),_e(new Float32Array(4))]),Z,new ce(Pn().ek_1[4].mi_1,Pn().ek_1[4].ni_1,new bt(Pn().ek_1[4].ii_1,Pn().ek_1[4].ii_1,Pn().ek_1[4].ii_1)));xt.hints=this.uk_1;var Rt=xt,Ft=fe(kn().zj_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ml_1),_e(new Float32Array(4))]),Z,new ce(Pn().ek_1[5].mi_1,Pn().ek_1[5].ni_1,new bt(Pn().ek_1[5].ii_1,Pn().ek_1[5].ii_1,Pn().ek_1[5].ii_1)));Ft.hints=this.uk_1,mt.groupPenguinsIdle2=ge(!0,[gt,vt,Et,yt,Rt,Ft]);var Ct=this,$t=fe(kn().ak_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().nl_1),_e(new Float32Array(4))]),Z,new ce(Yn().wl_1[0].mi_1,Yn().wl_1[0].ni_1,new bt(Yn().wl_1[0].ii_1,Yn().wl_1[0].ii_1,Yn().wl_1[0].ii_1)));$t.hints=this.uk_1;var It=$t,zt=fe(kn().ak_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().nl_1),_e(new Float32Array(4))]),Z,new ce(Yn().wl_1[1].mi_1,Yn().wl_1[1].ni_1,new bt(Yn().wl_1[1].ii_1,Yn().wl_1[1].ii_1,Yn().wl_1[1].ii_1)));zt.hints=this.uk_1;var jt=zt,Vt=fe(kn().ak_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().nl_1),_e(new Float32Array(4))]),Z,new ce(Yn().wl_1[2].mi_1,Yn().wl_1[2].ni_1,new bt(Yn().wl_1[2].ii_1,Yn().wl_1[2].ii_1,Yn().wl_1[2].ii_1)));Vt.hints=this.uk_1;var Gt=Vt,Xt=fe(kn().ak_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().nl_1),_e(new Float32Array(4))]),Z,new ce(Yn().wl_1[3].mi_1,Yn().wl_1[3].ni_1,new bt(Yn().wl_1[3].ii_1,Yn().wl_1[3].ii_1,Yn().wl_1[3].ii_1)));Xt.hints=this.uk_1;var Wt=Xt,Yt=fe(kn().ak_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().nl_1),_e(new Float32Array(4))]),Z,new ce(Yn().wl_1[4].mi_1,Yn().wl_1[4].ni_1,new bt(Yn().wl_1[4].ii_1,Yn().wl_1[4].ii_1,Yn().wl_1[4].ii_1)));Yt.hints=this.uk_1;var Zt=Yt,Kt=fe(kn().ak_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().nl_1),_e(new Float32Array(4))]),Z,new ce(Yn().wl_1[5].mi_1,Yn().wl_1[5].ni_1,new bt(Yn().wl_1[5].ii_1,Yn().wl_1[5].ii_1,Yn().wl_1[5].ii_1)));Kt.hints=this.uk_1;var Qt=Kt,xe=fe(kn().ak_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().nl_1),_e(new Float32Array(4))]),Z,new ce(Yn().wl_1[6].mi_1,Yn().wl_1[6].ni_1,new bt(Yn().wl_1[6].ii_1,Yn().wl_1[6].ii_1,Yn().wl_1[6].ii_1)));xe.hints=this.uk_1;var Re=xe,Fe=fe(kn().ak_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().nl_1),_e(new Float32Array(4))]),Z,new ce(Yn().wl_1[7].mi_1,Yn().wl_1[7].ni_1,new bt(Yn().wl_1[7].ii_1,Yn().wl_1[7].ii_1,Yn().wl_1[7].ii_1)));Fe.hints=this.uk_1,Ct.groupSealIdle=ge(!0,[It,jt,Gt,Wt,Zt,Qt,Re,Fe]);var Ce=this,Se=new me(kn().ak_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ol_1),_e(new Float32Array(4))]),Z,new ce);Se.hints=this.uk_1;var Me=Se,Ne=new me(kn().ak_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ol_1),_e(new Float32Array(4))]),Z,new ce);Ne.hints=this.uk_1;var $e=Ne,ke=new me(kn().ak_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture,we(new Int32Array(1)),_e(new Float32Array(1)),new ne(ci().ol_1),_e(new Float32Array(4))]),Z,new ce);ke.hints=this.uk_1,Ce.groupSealWalking=ge(!0,[Me,$e,ke]),this.groupAnimalsAnimated=ge(!0,[this.groupPenguinsIdle,this.groupPenguinsIdle2,this.groupSealIdle,this.groupSealWalking]);var Oe=this,Pe=fe(kn().bk_1,Pt([_e(new Float32Array(16)),this.uniformPaletteTexture]),s,h);Pe.hints=this.uk_1,Oe.groupAnimalsSleeping=ge(!0,[Pe]);var Ie=this,Le=new pe;Le.clearType=ve(),Ie.qk_1=ge(!0,[this.rk_1,Le]);var De=this,Ue=new Ae;Ue.color0=new St(.65,.65,.65,1),Ue.color1=new St(1,1,1,1),De.sk_1=Ue,this.nk_1=ge(!0,[Ee(!0,[this.qk_1,this.groupBirds,this.groupShips,this.groupAnimalsAnimated,this.groupAnimalsSleeping,d,A,E,this.commandStars,this.commandClouds,T,this.sk_1])]);var Be=this,qe=new be;qe.name="blurred-main",qe.enabled=!0,qe.minSize=220,qe.brightness=.91,qe.blurSize=Te(),qe.commands=Ht([this.qk_1,this.groupShips,this.groupAnimalsAnimated,this.groupAnimalsSleeping,d,A,E,this.commandStars,this.commandClouds,T,this.sk_1]),Be.pk_1=qe;var ze=this,je=new ye;je.name="draw blurred",je.blending=se(),ze.tk_1=je,this.ok_1=ge(!1,[this.pk_1,Ee(!0,[this.qk_1,this.tk_1])]),this.commands=Ht([this.nk_1,this.ok_1])}function Wn(){h=this;var t=this,e=new Tn;e.mi_1=new bt(-10197.612,-11412.881,163.703),e.ni_1=new bt(0,0,305),e.ii_1=21.6,e.ji_1=.1;var n=e,i=new Tn;i.mi_1=new bt(-11490.098,-10868.786,163.703),i.ni_1=new bt(0,0,180),i.ii_1=21,i.ji_1=.2;var r=i,s=new Tn;s.mi_1=new bt(-12481.07,-9990.127,163.703),s.ni_1=new bt(0,0,40),s.ii_1=24,s.ji_1=0;var a=s,o=new Tn;o.mi_1=new bt(-8848.467,-10551.67,163.703),o.ni_1=new bt(0,0,270),o.ii_1=23,o.ji_1=.66;var u=o,l=new Tn;l.mi_1=new bt(-11421.474,-8197.367,163.703),l.ni_1=new bt(0,0,155),l.ii_1=22,l.ji_1=.3;var c=l,_=new Tn;_.mi_1=new bt(-9098.065,-9784.568,163.703),_.ni_1=new bt(0,0,180),_.ii_1=21,_.ji_1=.7;var f=_,d=new Tn;d.mi_1=new bt(-8929.758,-9630.826,163.703),d.ni_1=new bt(0,0,260),d.ii_1=20,d.ji_1=.2;var m=d,w=new Tn;w.mi_1=new bt(-9159.626,-9498.492,163.703),w.ni_1=new bt(0,0,25),w.ii_1=22,w.ji_1=.4,t.wl_1=[n,r,a,u,c,f,m,w];var g=this,p=new yn,v=p,A=new Float64Array([0,0,-8594.068359375,-9185.310546875,-10173.7734375,-11037.0615234375,-11556.869140625,-11171.4091796875,-10388.73046875,-9319.6591796875,0,0]),E=new Float64Array([0,0,-11242.3720703125,-10794.060546875,-10646.896484375,-10959.65625,-11507.3251953125,-12299.8046875,-12791.134765625,-12134.208984375,0,0]),b=new Float64Array([0,0,204.815673828125,204.815673828125,204.815673828125,204.815673828125,204.815673828125,204.815673828125,204.815673828125,204.815673828125,0,0]);v.qi_1=Ce(!0,A,E,b),p.ii_1=25,p.ji_1=.4;var T=p,y=new yn,x=y,R=new Float64Array([0,0,-11045.8798828125,-11852.0166015625,-12877.1728515625,-13320.65625,-13395.7041015625,-12947.1123046875,-12279.501953125,-11478.47265625,0,0]),F=new Float64Array([0,0,-9073.04296875,-8490.494140625,-8394.025390625,-9009.2021484375,-9902.9755859375,-10920.896484375,-11452.736328125,-10402.1875,0,0]),C=new Float64Array([0,0,204.815673828125,204.815673828125,204.815673828125,204.815673828125,204.815673828125,204.815673828125,204.815673828125,204.815673828125,0,0]);x.qi_1=Ce(!0,R,F,C),y.ii_1=22,y.ji_1=.6;var S=y,M=new yn,N=M,$=new Float64Array([0,0,-10500.1298828125,-10924.8193359375,-10816.751953125,-9659.0244140625,-8474.8583984375,-8261.033203125,-8579.9658203125,-9526.828125,0,0]),k=new Float64Array([0,0,-9078.6171875,-9745.982421875,-10364.9296875,-10400.5146484375,-10125.8681640625,-9503.888671875,-8930.3291015625,-8849.357421875,0,0]),O=new Float64Array([0,0,204.815673828125,204.815673828125,204.815673828125,204.815673828125,204.815673828125,204.815673828125,204.815673828125,204.815673828125,0,0]);N.qi_1=Ce(!0,$,k,O),M.ii_1=23,M.ji_1=.88,g.xl_1=[T,S,M]}function Yn(){return null==h&&new Wn,h}function Zn(){return[ei(),ni(),ii(),ri()]}function Kn(t){switch(t){case"Day":return ei();case"Night":return ni();case"Sunrise":return ii();case"Sunset":return ri();default:Qn(),Se("No enum constant value.")}}function Qn(){if(f)return Zt;f=!0,u=new Jn("Day",0),l=new Jn("Night",1),c=new Jn("Sunrise",2),_=new Jn("Sunset",3)}function Jn(t,e,n){Me.call(this,t,e)}function ti(){this.cameraPeriod=1,this.vignette=!0,this.blurred=!1,this.autoSwitchCameras=!0,this.timeOfDay=ei(),this.clock=!1,this.lowQuality=!1}function ei(){return Qn(),u}function ni(){return Qn(),l}function ii(){return Qn(),c}function ri(){return Qn(),_}function si(){d=this,this.yl_1=new $e("Palette"),this.zl_1=new $e("Diffuse"),this.am_1=new $e("DiffuseZFog"),this.bm_1=new $e("CausticsWater"),this.cm_1=new $e("SkyDither"),this.dm_1=new $e("Color"),this.em_1=new $e("ColorAnimatedTextureChunked"),this.fm_1=new $e("Cloud"),this.gm_1=new $e("ColorAnimatedTextureChunked"),this.hm_1=new $e("DiffuseAnimatedTextureChunked"),this.im_1=Ht([this.zl_1,this.yl_1,this.am_1,this.bm_1,this.cm_1,this.dm_1,this.em_1,this.fm_1,this.gm_1,this.hm_1])}function ai(){return null==d&&new si,d}function oi(t,e,n){this.tl_1=t,this.ul_1=e,this.vl_1=n}function hi(){m=this;var t=this,e=new Float64Array([0,0,24566.40234375,26321.6640625,26708.22265625,25413.6328125,21720.98828125,16347.2109375,11130.576171875,-1738.1689453125,-5963.7197265625,-10164.759765625,-14386.349609375,-19112.7109375,-23859.62109375,-27219.46875,-28770.119140625,-28933.70703125,-27569.021484375,-24096.890625,-19096.490234375,-14164.109375,-9853.759765625,-5611.431640625,-1371.3896484375,2872.943359375,7115,11400.76953125,16216.3984375,21075.7578125,0,0]),n=new Float64Array([0,0,-2645.7470703125,-2308.08984375,-1332.42919921875,-524.489013671875,-188.111328125,-19.454345703125,87.28076171875,141.75341796875,128.7080078125,141.283447265625,426.818359375,1443.571166992188,2733.282470703125,3168.5166015625,1871.808227539063,-279.37744140625,-1780.083984375,-1864.28125,-1298.00048828125,-874.37158203125,-1001.830078125,-1271.9423828125,-1252.52978515625,-486.420654296875,569.2119140625,975.029541015625,-11.353515625,-1647.552734375,0,0]),i=new Float64Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),r=new oi(Ce(!0,e,n,i),1.1,.4),s=new Float64Array([0,0,5714.380859375,7315.091796875,8650.72265625,8823.93359375,7143.5078125,4300.67578125,1471.7890625,-841.138671875,-3140.115234375,-5754.8447265625,-8983.2392578125,-12527.380859375,-15823.2197265625,-18887.14453125,-21702.765625,-23656.859375,-24672.4296875,-24826.474609375,-23736.755859375,-20925.265625,-16870.01171875,-12622.77734375,-8198.072265625,-3581.3828125,219.033203125,2683.359375,4331.4140625,0,0]),a=new Float64Array([0,0,17442.65625,17650.91015625,18617.86328125,20306.828125,23014.0546875,26443.2890625,29669.087890625,32581.82421875,35291.12109375,37200.40625,37881.41015625,37762.40625,37531.61328125,37789.6640625,37935.92578125,36856.74609375,33521.96484375,28961.73828125,25152.900390625,22777.57421875,21153.63671875,20211.54296875,20346.490234375,21163.28125,21406.8046875,20214.69921875,18449.328125,0,0]),o=new Float64Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),h=new oi(Ce(!0,s,a,o),1.7,.6),u=new Float64Array([0,0,-16359.05859375,-14598.0546875,-13475.6875,-14188.6171875,-18206.640625,-24059.94921875,-28535.79296875,-30099.376953125,-30285.4921875,-30485.732421875,-30806.443359375,-31141.27734375,-32562.830078125,-35985.46875,-40494.81640625,-44420.37109375,-47366.64453125,-49729.125,-51023.7578125,-50949.22265625,-49806.84375,-48016.53125,-45479.21484375,-42293.97265625,-39177.921875,-36336.46875,-33564.20703125,-30962.0703125,-28666.095703125,-26540.240234375,-24277.328125,-21516.3984375,-18618.40234375,0,0]),l=new Float64Array([0,0,-28069.041015625,-26702.79296875,-23600.751953125,-20893.908203125,-19807.138671875,-19115.580078125,-17275.615234375,-13230.767578125,-8037.52099609375,-3321.68798828125,514.55712890625,3873.38818359375,6335.501953125,7855.1728515625,8478.1279296875,7922.24853515625,5656.2490234375,2211.415771484375,-1100.50830078125,-4002.49853515625,-6771.58056640625,-8927.087890625,-9960.884765625,-10381.111328125,-11231.494140625,-13150.048828125,-15498.767578125,-17407.33984375,-18208.109375,-18568.73828125,-19621.876953125,-22554.5234375,-26179.6875,0,0]),c=new Float64Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);t.sl_1=[r,h,new oi(Ce(!0,u,l,c),1.4,.88)]}function ui(){return null==m&&new hi,m}function li(){w=this;var t=this,e=new ke;e.name="palette-day",e.fileName="palette-day",e.format=Oe(),e.minFilter=Pe(),e.magFilter=Pe(),e.wrapping=Ie(),t.al_1=e;var n=this,i=new ke;i.name="palette-night",i.fileName="palette-night",i.format=Oe(),i.minFilter=Pe(),i.magFilter=Pe(),i.wrapping=Ie(),n.bl_1=i;var r=this,s=new ke;s.name="palette-sunrise",s.fileName="palette-sunrise",s.format=Oe(),s.minFilter=Pe(),s.magFilter=Pe(),s.wrapping=Ie(),r.cl_1=s;var a=this,o=new ke;o.name="palette-sunset",o.fileName="palette-sunset",o.format=Oe(),o.minFilter=Pe(),o.magFilter=Pe(),o.wrapping=Ie(),a.dl_1=o;var h=this,u=new ke;u.name="sky-day",u.fileName="sky-day",u.format=Oe(),u.minFilter=Le(),u.magFilter=Le(),u.wrapping=Ie(),h.el_1=u;var l=this,c=new ke;c.name="sky-night",c.fileName="sky-night",c.format=Oe(),c.minFilter=Le(),c.magFilter=Le(),c.wrapping=Ie(),l.fl_1=c;var _=this,f=new ke;f.name="sky-sunrise",f.fileName="sky-sunrise",f.format=Oe(),f.minFilter=Le(),f.magFilter=Le(),f.wrapping=Ie(),_.gl_1=f;var d=this,m=new ke;m.name="sky-sunset",m.fileName="sky-sunset",m.format=Oe(),m.minFilter=Le(),m.magFilter=Le(),m.wrapping=Ie(),d.hl_1=m;var g=this,p=new ke;p.name="blue-noise-16",p.fileName="blue-noise-16",p.format=De(),p.minFilter=Pe(),p.magFilter=Pe(),g.il_1=p;var v=this,A=new ke;A.name="caustics1",A.fileName="caustics1",A.format=De(),A.minFilter=Le(),A.magFilter=Ue(),A.mipmaps=6,v.jl_1=A;var E=this,b=new ke;b.name="bird",b.fileName="bird.rgba.fp16",b.format=Be(),b.minFilter=Pe(),b.magFilter=Pe(),b.width=Rn().ri_1.hb_1,b.height=Rn().ri_1.mb_1,E.kl_1=b;var T=this,y=new ke;y.name="penguin-idle",y.fileName="penguin/idle/animal.rgba.fp16",y.format=Be(),y.minFilter=Pe(),y.magFilter=Pe(),y.width=Rn().si_1.hb_1,y.height=Rn().si_1.mb_1,T.ll_1=y;var x=this,R=new ke;R.name="penguin-idle",R.fileName="penguin/idle2/animal.rgba.fp16",R.format=Be(),R.minFilter=Pe(),R.magFilter=Pe(),R.width=Rn().ti_1.hb_1,R.height=Rn().ti_1.mb_1,x.ml_1=R;var F=this,C=new ke;C.name="seal-idle",C.fileName="seal/idle/animal.rgba.fp16",C.format=Be(),C.minFilter=Pe(),C.magFilter=Pe(),C.width=Rn().ui_1.hb_1,C.height=Rn().ui_1.mb_1,F.nl_1=C;var S=this,M=new ke;M.name="seal-walk",M.fileName="seal/walk/animal.rgba.fp16",M.format=Be(),M.minFilter=Pe(),M.magFilter=Pe(),M.width=Rn().vi_1.hb_1,M.height=Rn().vi_1.mb_1,S.ol_1=M,this.pl_1=Ht([this.al_1,this.bl_1,this.cl_1,this.dl_1,this.el_1,this.fl_1,this.gl_1,this.hl_1,this.il_1,this.jl_1,this.kl_1,this.ll_1,this.ml_1,this.nl_1,this.ol_1]),this.ql_1=[this.al_1,this.bl_1,this.cl_1,this.dl_1],this.rl_1=[this.el_1,this.fl_1,this.gl_1,this.hl_1]}function ci(){return null==w&&new li,w}function _i(){}function fi(){if(N)return Zt;N=!0,new di("Camera",0),g=new di("Water",1),p=new di("WaterLarge",2),v=new di("CloudsAnimation",3),A=new di("CloudsRotation",4),E=new di("BirdsFly",5),b=new di("BirdWings1",6),T=new di("BirdWings2",7),y=new di("Ships",8),x=new di("PenguinIdle",9),R=new di("PenguinIdle2",10),F=new di("SealIdleAnim",11),C=new di("SealWalkAnim",12),S=new di("SealWalkSpline",13)}function di(t,e){Me.call(this,t,e)}function mi(){return fi(),g}function wi(){return fi(),p}function gi(){return fi(),v}function pi(){return fi(),A}function vi(){return fi(),E}function Ai(){return fi(),b}function Ei(){return fi(),T}function bi(){return fi(),y}function Ti(){return fi(),x}function yi(){return fi(),R}function xi(){return fi(),F}function Ri(){return fi(),C}function Fi(){return fi(),S}function Ci(){$=this;var t=this,e=[new Rt(new xt(new bt(1595.2762,-1516.1268,83.44518),new bt(-569.53894,-770.3358,151.01573)),new xt(new bt(1957.1698,1356.8844,83.44518),new bt(-515.5615,-151.354,151.01573)),1),new Rt(new xt(new bt(-829.46936,-908.0382,136.9292),new bt(-165.64581,1195.0557,251.3715)),new xt(new bt(1024.0853,-362.24524,136.9292),new bt(1414.9342,567.3635,251.3715)),1),new Rt(new xt(new bt(-243.95557,1205.2717,136.9292),new bt(362.46558,-880.0043,251.3715)),new xt(new bt(-819.9841,-194.45178,136.9292),new bt(991.0796,1096.154,251.3715)),1),new Rt(new xt(new bt(81.35687,-835.5989,39.98031),new bt(334.3451,-294.1427,394.6469)),new xt(new bt(895.4863,-925.46606,39.98031),new bt(1337.5438,-802.4769,725.81354)),1)];t.un_1=[e,[new Rt(new xt(new bt(-842.0926,-846.5076,129.98555),new bt(-674.4083,775.07825,47.71223)),new xt(new bt(-828.56775,790.18756,129.86708),new bt(940.84375,1304.5559,46.237785)),1),new Rt(new xt(new bt(-1442.4281,-137.39117,400.79602),new bt(98.2589,-729.51196,445.23422)),new xt(new bt(-165.14899,2.8690004,130.22337),new bt(1178.7565,470.28696,214.73752)),1),new Rt(new xt(new bt(-451.56958,-252.30167,587.1848),new bt(-898.23376,597.8059,38.427677)),new xt(new bt(1161.2458,-52.537415,721.2996),new bt(1249.9236,615.2596,46.237785)),1),new Rt(new xt(new bt(-1809.4268,206.302,822.04504),new bt(-704.4282,-1200.5166,570.46594)),new xt(new bt(485.292,.00439453,654.2626),new bt(740.58057,152.70099,570.47485)),1),new Rt(new xt(new bt(-1201.3511,-321.01813,1267.3562),new bt(-1091.3955,484.66968,-120.63285)),new xt(new bt(348.40283,333.19476,531.56305),new bt(1243.907,207.53552,454.83487)),1),new Rt(new xt(new bt(1280.2383,.00817871,765.05676),new bt(1020.4136,-.0057373,681.30115)),new xt(new bt(-542.4983,-.00439453,765.0978),new bt(-716.4851,.00195313,656.9107)),1),new Rt(new xt(new bt(684.19763,-906.22656,562.2279),new bt(293.5536,-235.00806,457.9884)),new xt(new bt(-355.00952,702.02734,585.4181),new bt(582.56335,400.67163,433.59796)),1),new Rt(new xt(new bt(255.49573,-216.34082,356.14874),new bt(621.0696,213.13354,377.2011)),new xt(new bt(-261.60974,210.44629,9.956253),new bt(444.66296,48.16748,614.7096)),1),new Rt(new xt(new bt(187.09607,-779.0669,151.3941),new bt(-729.9801,-1107.8511,366.46796)),new xt(new bt(181.64563,716.58813,151.3935),new bt(-921.05164,-237.90332,366.46844)),1)]]}function Si(){return null==$&&new Ci,$}function Mi(){qe.call(this),this.vn_1=ze()}function Ni(){Jt.call(this),this.timers=new te,this.bo_1=1e6,this.co_1=22e3,this.do_1=3500,this.FOV_TRANSITION=20,this.vo_1=Ht([je()]),this.Z_NEAR=20,this.Z_FAR=1e4,this.FOV_LANDSCAPE=85,this.FOV_PORTRAIT=100;var t=this,e=new $i;e.lowQuality=!1,e.cameraPeriod=1,e.vignette=!0,e.clock=!1,e.blurred=!1,e.colorMode=He(),e.autoSwitchCameras=!0,t.settings=e,this.cameraAnimator=new ie(this.bo_1,this.co_1,this.do_1,!0),this.cameraAnimator.setCameras(Si().un_1[1]),this.cameraAnimator.minDurationCoefficient=this.settings.cameraPeriod,this.to_1=new St(1,1,1,1),this.uo_1=new St(.74,.55,.3,1);var n=this,i=new re;i.color=this.to_1,i.name="clear color",i.enabled=!0,n.so_1=i;var r=new It(Pt([new $t(Mt(),Nt(),0),new $t(Dt(),Ut(),6)]),12),s=Ve();s.fileName="room1",s.attributes=r;var a=s,o=Ve();o.fileName="room2-optimized0",o.attributes=r;var h=o,u=Ve();u.fileName="room2-optimized1",u.attributes=r;var l=u,c=Ve();c.fileName="room2-optimized2",c.attributes=r;var _=c;this.meshes=Ht([a,h,l,_]);var f=new ke;f.name="room1",f.fileName="room1",f.format=De(),f.mipmaps=11,f.minFilter=Ue(),f.magFilter=Ue(),f.anisotropy=3;var d=f,m=new ke;m.name="room20",m.fileName="room20",m.format=De(),m.mipmaps=12,m.minFilter=Ue(),m.magFilter=Ue(),m.anisotropy=3,m.wrapping=Ie();var w=m,g=new ke;g.name="room21",g.fileName="room21",g.format=De();var p=g,v=new ke;v.name="room22",v.fileName="room22",v.format=De();var A=v;this.textures=Ht([d,w,p,A]);var E=new $e;E.name="Diffuse";var b=E;this.shaders=Ht([b]);var T=new le(b,se(),ae(),oe(),new ue(Pt([new he(Mt(),0,Nt(),0),new he(Dt(),1,Ut(),6)]),12)),y=new ce(new bt(0,0,0),new bt(0,0,0),new bt(1,1,1)),x=new ce(new bt(0,0,0),new bt(0,0,0),new bt(1,1,1)),R=this,F=new de;F.name="room1",F.enabled=!1;var C=F,S=new me(a,Pt([_e(new Float32Array(16)),new ne(d)]),T,y);S.hints=this.vo_1,C.commands=Ht([S]),R.eo_1=F;var M=this,N=new de;N.name="room1-blurred";var $=N,k=new me(a,Pt([_e(new Float32Array(16)),new ne(p)]),T,y);k.hints=Ht([ee()]),$.commands=Ht([k]),M.fo_1=N;var O=this,P=new de;P.name="room2",P.enabled=!0;var I=P,L=new me(h,Pt([_e(new Float32Array(16)),new ne(w)]),T,x);L.hints=this.vo_1;var D=L,U=new me(l,Pt([_e(new Float32Array(16)),new ne(p)]),T,x);U.hints=Ht([ee()]);var B=U,q=new me(_,Pt([_e(new Float32Array(16)),new ne(A)]),T,x);q.hints=Ht([ee()]),I.commands=Ht([D,B,q]),O.go_1=P;var z=this,j=new de;j.name="room2-blurred";var H=j,V=new me(h,Pt([_e(new Float32Array(16)),new ne(p)]),T,x);V.hints=Ht([ee()]);var G=V,X=new me(l,Pt([_e(new Float32Array(16)),new ne(p)]),T,x);X.hints=Ht([ee()]);var W=X,Y=new me(_,Pt([_e(new Float32Array(16)),new ne(A)]),T,x);Y.hints=Ht([ee()]),H.commands=Ht([G,W,Y]),z.ho_1=j;var Z=this,K=new de,Q=K,J=new pe;J.clearType=ve(),Q.commands=Ht([this.so_1,J]),Z.io_1=K;var tt=this,et=new be;et.name="bloom1",et.enabled=!1,et.minSize=170,et.brightness=1,et.blurSize=Ge(),et.commands=Ht([this.io_1,this.fo_1]),et.id=0,tt.jo_1=et;var nt=this,it=new be;it.name="bloom2",it.enabled=!0,it.minSize=170,it.brightness=1,it.blurSize=Ge(),it.commands=Ht([this.io_1,this.ho_1]),it.id=1,nt.ko_1=it;var rt=this,st=new ye;st.name="draw bloom";var at=st,ot=new Xe;ot.enabled=!0,ot.equationColor=We(),ot.sourceFactorColor=Ye(),ot.destinationFactorColor=Ye(),at.blending=ot,rt.lo_1=st;var ht=this,ut=new ye;ut.name="draw blurred",ut.blending=se(),ht.mo_1=ut;var lt=this,ct=new Ae;ct.color0=new St(.4,.4,.4,1),ct.color1=new St(1,1,1,1),lt.no_1=ct,this.oo_1=new Mi,this.po_1=ge(!0,[this.jo_1,this.ko_1,Ee(!0,[this.io_1,this.eo_1,this.go_1,this.lo_1,this.no_1,this.oo_1])]);var _t=this,ft=new be;ft.name="blurred-main",ft.enabled=!0,ft.minSize=200,ft.brightness=.93,ft.blurSize=Ze(),ft.commands=Ht([this.io_1,this.eo_1,this.go_1,this.no_1]),ft.id=2,_t.ro_1=ft,this.qo_1=ge(!0,[this.ro_1,Ee(!0,[this.io_1,this.mo_1])]),this.commands=Ht([this.po_1,this.qo_1])}function $i(){this.lowQuality=!1,this.cameraPeriod=1,this.vignette=!0,this.clock=!1,this.blurred=!1,this.colorMode=He(),this.autoSwitchCameras=!0}function ki(){k=this,this.yo_1=new It(Pt([new $t(Mt(),Nt(),0),new $t(Dt(),Ut(),6)]),12),this.zo_1=new It(Pt([new $t(Mt(),Nt(),0),new $t(Dt(),Ut(),6),new $t(Je(),Nt(),10)]),16),this.ap_1=jt("sky",this.yo_1),this.bp_1=jt("quad",this.yo_1),this.cp_1=jt("plane0",this.zo_1),this.dp_1=jt("plane1",this.zo_1),this.ep_1=Ht([this.ap_1,this.bp_1,this.cp_1,this.dp_1])}function Oi(){return null==k&&new ki,k}function Pi(){O=this;var t=this,e=[new bt(-950,0,29)],n=[new bt(-1113,0,343)],i=[new bt(-1080,0,116)],r=[new bt(-1113,0,105)],s=[new bt(-1129,-986,705),new bt(-1129,986,705)],a=[new bt(-967,0,-196)],o=[new bt(-1422,-21,64)],h=[new bt(-1032,0,46)],u=[new bt(220,0,116),new bt(-722,-368,151),new bt(-722,368,151)],l=[new bt(-1e3,-570,-58),new bt(-1e3,570,-58)],c=[new bt(-1e3,0,168)];t.fp_1=[e,n,i,r,s,a,o,h,u,l,c,[new bt(-224,-823,515),new bt(-224,823,515)]],this.gp_1=new Float32Array([1.4,1.1,1.2,1.5,1.2,1.8,1.6,1.1,.7,1.1,1.8,1.2])}function Ii(){return null==O&&new Pi,O}function Li(t){t.kq_1.s(0,t.settings.lowQuality?Ke():je()),t.tp_1.enabled=!t.settings.blurred,t.up_1.enabled=t.settings.blurred,t.yp_1.enabled=t.settings.vignette,t.vp_1.additionalBlur=!t.settings.lowQuality,t.yp_1.enabled=!t.settings.lowQuality;var e=t.settings.cameraPeriod*Y.vq_1;t.mp_1.gi(cr()).yh_1!==e&&(t.mp_1.di(cr(),e,!1),t.mp_1.fi(cr(),0))}function Di(t){Li(t),qi(t),t.calculateProjection(),zi(t,t.oq_1,0),Bi(t,!0),Bi(t,!1),Ui(t),t.updateMeshTransformations(t.commands)}function Ui(t){var e=t.mp_1.ei(fr());e>.1&&e<.9?(t.bq_1.enabled=!1,t.aq_1.enabled=!0,Xt(t.aq_1.uniforms.q(4),e),t.aq_1.transform.l9_1=t.uq_1):(t.bq_1.enabled=!0,t.aq_1.enabled=!1,t.bq_1.transform.l9_1=t.uq_1),e>.5&&(t.texSky.id=t.texSky2.id,t.texSky.fileName=t.texSky2.fileName);var n=e*t.PIf*2-.5*t.PIf,i=.5*(Math.sin(n)+1)*.5;t.yp_1.color0.x=.7-i,t.yp_1.color0.y=.7-i,t.yp_1.color0.z=.7-i}function Bi(t,e){var n=e?t.jq_1:t.iq_1,i=e?t.hq_1:t.gq_1,r=Ii().fp_1[e?t.settings.nextPlane:t.settings.currentPlane],s=0,a=Ii().gp_1[e?t.settings.nextPlane:t.settings.currentPlane]*t.rp_1,o=e?t.eq_1:t.cq_1,h=e?t.fq_1:t.dq_1,u=t.mp_1.ei(_r()),l=e?tn.xc(0,.3,u):1-tn.xc(0,1,u),c=tn.ng(0,1,u),_=e?18e3*(1-c):-12e3*c,f=e?.25*_:1.3*_;n.l9_1.x=t.mq_1.x+f,n.l9_1.y=t.mq_1.y,n.l9_1.z=t.mq_1.z+_,n.m9_1.x=tn.og(t.nq_1),n.n9_1.x=t.qp_1*l,n.n9_1.y=t.qp_1*l,n.n9_1.z=t.qp_1*l;for(var d=i.commands.h();d.o();)d.p().enabled=!1;if(0===l?(o.enabled=!1,h.enabled=!1):(o.enabled=!0,h.enabled=!0),l>.33)for(var m=0,w=r.length;m<w;){var g=m,p=r[m];m=m+1|0;var v=p.y,A=t.nq_1,E=v*Math.cos(A),b=p.z,T=t.nq_1,y=E-b*Math.sin(T),x=p.z,R=t.nq_1,F=x*Math.cos(R),C=p.y,S=t.nq_1,M=F+C*Math.sin(S),N=tn.og(t.mp_1.ei(ar())*t.PIf*2+g+s),$=t.mp_1.ei(or())*t.PIf*2+g+s,k=2+Math.sin($),O=i.commands.q(g),P=O instanceof me?O:Ct();P.enabled=!0,Xt(P.uniforms.q(2),k),P.transform.m9_1.x=tn.og(N),P.transform.m9_1.y=0,P.transform.m9_1.z=0,P.transform.l9_1.x=(t.mq_1.x+p.x)*l+f,P.transform.l9_1.y=(t.mq_1.y+y)*l,P.transform.l9_1.z=(t.mq_1.z+M)*l+_,P.transform.n9_1.x=a*l,P.transform.n9_1.y=a*l,P.transform.n9_1.z=a*l}}function qi(t){if(!t.useExternalViewMatrix){var e=t.mp_1.ei(cr());e=tn.xc(0,1,e);var n=t.pq_1+e*(t.rq_1-t.pq_1),i=t.qq_1+e*(t.sq_1-t.qq_1);t.uq_1.x=Math.sin(n)*t.tq_1,t.uq_1.y=Math.cos(n)*t.tq_1,t.uq_1.z=Math.sin(i)*t.tq_1,Re().ug(t.matView,0,t.uq_1.x,t.uq_1.y,t.uq_1.z,0,0,0,0,0,1),1===e&&(ji(t),t.mp_1.fi(cr(),0))}}function zi(t,e,n){var i=(t.mp_1.ei(hr())+n)%1,r=(t.mp_1.ei(ur())+n)%1,s=e.x,a=3*i*t.PIf*2,o=Math.sin(a);t.mq_1.x=s+o*t.op_1*3;var h=e.y,u=5*i*t.PIf*2,l=Math.cos(u);t.mq_1.y=h+l*t.op_1;var c=e.z,_=r*t.PIf*2,f=Math.cos(_);t.mq_1.z=c+f*t.pp_1;var d=t,m=t.mp_1.ei(lr())*t.PIf*2;d.nq_1=Math.sin(m)*t.np_1*1}function ji(t){0===t.mp_1.ei(cr())?(t.pq_1=xe().q5()*t.PIf*2,t.qq_1=(xe().q5()-.3)*t.PIf*.9,t.rq_1=xe().q5()*t.PIf*2,t.sq_1=(xe().q5()-.3)*t.PIf*.9):(t.pq_1=t.rq_1,t.qq_1=t.sq_1,t.rq_1=xe().q5()*t.PIf*2,t.sq_1=(xe().q5()-.3)*t.PIf*.9),t.tq_1=3300}function Hi(){Jt.call(this),this.mp_1=new te,this.np_1=.25,this.op_1=80,this.pp_1=100,this.qp_1=10,this.rp_1=500,this.sp_1=1.7,this.iq_1=new ce(new bt(0,0,0),new bt(0,0,0),new bt(this.qp_1,this.qp_1,this.qp_1)),this.jq_1=new ce(new bt(0,0,0),new bt(0,0,0),new bt(this.qp_1,this.qp_1,this.qp_1)),this.kq_1=Ht([je()]),this.PIf=3.1415927,this.lq_1=new Float32Array([.5]),this.mq_1=new bt,this.nq_1=0,this.oq_1=new bt(0,0,0),this.pq_1=0,this.qq_1=0,this.rq_1=0,this.sq_1=0,this.tq_1=3e3,this.uq_1=new bt,this.texSky=nr().zq_1,this.texSky1=nr().xq_1,this.texSky2=nr().yq_1,this.meshPlane1=Oi().cp_1,this.meshPlane2=Oi().dp_1,this.texPlane1=nr().ar_1,this.texPlane2=nr().br_1,this.meshes=Oi().ep_1,this.textures=nr().dr_1,this.shaders=tr().ir_1,Y.jr(this.mp_1),this.Z_NEAR=30,this.Z_FAR=3e4,this.FOV_LANDSCAPE=75,this.FOV_PORTRAIT=120;var t=this,e=new Yi;e.cameraPeriod=1,e.vignette=!0,e.blurred=!1,e.autoSwitchCameras=!0,e.lowQuality=!1,e.clock=!1,t.settings=e;var n=this,i=new re;i.color=new St(0,.7843137254901961,0,1),i.name="clear color",i.enabled=!0,n.xp_1=i,new ce(new bt(0,0,0),new bt(0,0,0),new bt(1,1,1));var r=new le(tr().fr_1,se(),ae(),oe(),new ue(Pt([new he(Mt(),0,Nt(),0),new he(Dt(),1,Ut(),6)]),12));this.aq_1=new me(Oi().ap_1,Pt([_e(new Float32Array(16)),new ne(nr().xq_1),new ne(nr().yq_1),new ne(nr().wq_1),_e(this.lq_1)]),r,new ce(new bt(0,0,0),new bt(0,0,0),new bt(350,350,350)));var s=new le(tr().er_1,se(),ae(),oe(),new ue(Pt([new he(Mt(),0,Nt(),0),new he(Dt(),1,Ut(),6)]),12)),a=this,o=new me(Oi().ap_1,Pt([_e(new Float32Array(16)),new ne(this.texSky)]),s,new ce(new bt(0,0,0),new bt(0,0,0),new bt(350,350,350)));o.hints=this.kq_1,a.bq_1=o;var h=new le(tr().er_1,se(),ae(),oe(),new ue(Pt([new he(Mt(),0,Nt(),0),new he(Dt(),1,Ut(),6)]),16)),u=this,l=new me(Oi().cp_1,Pt([_e(new Float32Array(16)),new ne(nr().ar_1)]),h,this.iq_1);l.hints=this.kq_1,u.cq_1=l;var c=this,_=new me(Oi().dp_1,Pt([_e(new Float32Array(16)),new ne(nr().br_1)]),h,this.jq_1);_.hints=this.kq_1,c.eq_1=_;var f=new le(tr().gr_1,se(),ae(),en(),new ue(Pt([new he(Mt(),0,Nt(),0),new he(Je(),1,Nt(),10)]),16)),d=this,m=Oi().cp_1,w=_e(new Float32Array(16)),g=new Float32Array([this.sp_1]),p=_e(g),v=new Float32Array([0,0,0,1]);d.dq_1=new me(m,Pt([w,p,_e(v)]),f,this.iq_1);var A=this,E=Oi().dp_1,b=_e(new Float32Array(16)),T=new Float32Array([this.sp_1]),y=_e(T),x=new Float32Array([0,0,0,1]);A.fq_1=new me(E,Pt([b,y,_e(x)]),f,this.jq_1);var R=tr().hr_1,F=new Xe;F.enabled=!0,F.equationColor=We(),F.sourceFactorColor=nn(),F.destinationFactorColor=Ye();var C=new le(R,F,rn(),sn(),new ue(Pt([new he(Mt(),0,Nt(),0),new he(Dt(),1,Ut(),6)]),12)),S=this,M=Oi().bp_1,N=_e(new Float32Array(16)),$=new ne(nr().cr_1),k=new Float32Array([1.5]),O=new me(M,Pt([N,$,_e(k)]),C,new ce(new bt(0,0,0),new bt(0,0,0),new bt(3*this.rp_1,3*this.rp_1,3*this.rp_1))),P=Oi().bp_1,I=_e(new Float32Array(16)),L=new ne(nr().cr_1),D=new Float32Array([1.5]),U=new me(P,Pt([I,L,_e(D)]),C,new ce(new bt(0,0,0),new bt(0,0,0),new bt(3*this.rp_1,3*this.rp_1,3*this.rp_1))),B=Oi().bp_1,q=_e(new Float32Array(16)),z=new ne(nr().cr_1),j=new Float32Array([1.5]);S.gq_1=ge(!0,[O,U,new me(B,Pt([q,z,_e(j)]),C,new ce(new bt(0,0,0),new bt(0,0,0),new bt(3*this.rp_1,3*this.rp_1,3*this.rp_1)))]);var H=this,V=Oi().bp_1,G=_e(new Float32Array(16)),X=new ne(nr().cr_1),W=new Float32Array([1.5]),Z=new me(V,Pt([G,X,_e(W)]),C,new ce(new bt(0,0,0),new bt(0,0,0),new bt(3*this.rp_1,3*this.rp_1,3*this.rp_1))),K=Oi().bp_1,Q=_e(new Float32Array(16)),J=new ne(nr().cr_1),tt=new Float32Array([1.5]),et=new me(K,Pt([Q,J,_e(tt)]),C,new ce(new bt(0,0,0),new bt(0,0,0),new bt(3*this.rp_1,3*this.rp_1,3*this.rp_1))),nt=Oi().bp_1,it=_e(new Float32Array(16)),rt=new ne(nr().cr_1),st=new Float32Array([1.5]);H.hq_1=ge(!0,[Z,et,new me(nt,Pt([it,rt,_e(st)]),C,new ce(new bt(0,0,0),new bt(0,0,0),new bt(3*this.rp_1,3*this.rp_1,3*this.rp_1)))]);var at=this,ot=new pe;ot.clearType=ve(),at.wp_1=ge(!0,[this.xp_1,ot]);var ht=this,ut=new Ae;ut.color0=new St(.7,.7,.7,1),ut.color1=new St(1,1,1,1),ht.yp_1=ut,this.tp_1=ge(!0,[Ee(!0,[this.wp_1,this.cq_1,this.dq_1,this.eq_1,this.fq_1,this.bq_1,this.aq_1,this.gq_1,this.hq_1,this.yp_1])]);var lt=this,ct=new be;ct.name="blurred-main",ct.enabled=!0,ct.minSize=180,ct.brightness=.95,ct.blurSize=Te(),ct.commands=Ht([this.wp_1,this.cq_1,this.dq_1,this.eq_1,this.fq_1,this.bq_1,this.aq_1,this.gq_1,this.hq_1,this.yp_1]),lt.vp_1=ct;var _t=this,ft=new ye;ft.name="draw blurred",ft.blending=se(),_t.zp_1=ft,this.up_1=ge(!1,[this.vp_1,Ee(!0,[this.wp_1,this.zp_1])]),this.commands=Ht([this.tp_1,this.up_1])}function Vi(){return[Zi(),Ki(),Qi()]}function Gi(t){switch(t){case"Day":return Zi();case"Night":return Ki();case"Sunrise":return Qi();default:Xi(),Se("No enum constant value.")}}function Xi(){if(D)return Zt;D=!0,P=new Wi("Day",0),I=new Wi("Night",1),L=new Wi("Sunrise",2)}function Wi(t,e,n){Me.call(this,t,e)}function Yi(){this.cameraPeriod=1,this.vignette=!0,this.blurred=!1,this.autoSwitchCameras=!0,this.lowQuality=!1,this.clock=!1,this.currentPlane=0,this.nextPlane=1,this.timeOfDay=Zi()}function Zi(){return Xi(),P}function Ki(){return Xi(),I}function Qi(){return Xi(),L}function Ji(){U=this,this.er_1=new $e("Diffuse"),this.fr_1=new $e("SkyTransition"),this.gr_1=new $e("Outline"),this.hr_1=new $e("Prop"),this.ir_1=Ht([this.er_1,this.fr_1,this.gr_1,this.hr_1])}function tr(){return null==U&&new Ji,U}function er(){B=this;var t=this,e=new ke;e.name="noise",e.fileName="noise",e.format=De(),e.minFilter=Le(),e.magFilter=Le(),e.wrapping=Ie(),t.wq_1=e;var n=this,i=new ke;i.name="sky-1",i.fileName="sky/day/1",i.format=De(),i.minFilter=Le(),i.magFilter=Le(),i.wrapping=Ie(),n.xq_1=i;var r=this,s=new ke;s.name="sky-2",s.fileName="sky/night/1",s.format=De(),s.minFilter=Le(),s.magFilter=Le(),s.wrapping=Ie(),r.yq_1=s;var a=this,o=new ke;o.name="sky",o.fileName="sky/night/1",o.format=De(),o.minFilter=Le(),o.magFilter=Le(),o.wrapping=Ie(),a.zq_1=o;var h=this,u=new ke;u.name="plane-1",u.fileName="plane0",u.format=De(),u.minFilter=Ue(),u.magFilter=Ue(),u.wrapping=an(),u.mipmaps=10,h.ar_1=u;var l=this,c=new ke;c.name="plane-2",c.fileName="plane1",c.format=De(),c.minFilter=Ue(),c.magFilter=Ue(),c.wrapping=an(),c.mipmaps=10,l.br_1=c;var _=this,f=new ke;f.name="prop",f.fileName="prop/2",f.format=De(),f.wrapping=Ie(),f.minFilter=Ue(),f.magFilter=Ue(),f.mipmaps=8,_.cr_1=f,this.dr_1=Ht([this.wq_1,this.zq_1,this.xq_1,this.yq_1,this.ar_1,this.br_1,this.cr_1])}function nr(){return null==B&&new er,B}function ir(){this.vq_1=27800}function rr(){if(Z)return Zt;Z=!0,q=new sr("PropRotate",0),z=new sr("PropFlicker",1),j=new sr("PlaneWonder1",2),H=new sr("PlaneWonder2",3),V=new sr("PlaneBanking",4),G=new sr("Camera",5),X=new sr("SwapPlanes",6),W=new sr("SwapSky",7)}function sr(t,e){Me.call(this,t,e)}function ar(){return rr(),q}function or(){return rr(),z}function hr(){return rr(),j}function ur(){return rr(),H}function lr(){return rr(),V}function cr(){return rr(),G}function _r(){return rr(),X}function fr(){return rr(),W}function dr(){K=this,this.fs_1=[gr(new xt(new bt(4.84,-644.785,-25.362),new bt(4.673,-1.741,4.447)),new xt(new bt(2.56,-126,-8.595),new bt(2.533,-1.741,3.993)),1,"",!1),gr(new xt(new bt(-137,-115,-12),new bt(3.485,-.679,-16.321)),new xt(new bt(138,-110,20),new bt(3.485,-.679,-16.321)),1,"",!0),gr(new xt(new bt(208,-208,-21),new bt(0,0,0)),new xt(new bt(265,77,22),new bt(0,0,-35)),1,"",!0),gr(new xt(new bt(347,73,15),new bt(161,-220,-19)),new xt(new bt(69,365,15),new bt(-100,162,-18)),1,"",!0),gr(new xt(new bt(147,212,0),new bt(20,-10,7)),new xt(new bt(-146,182,30),new bt(-20,4,-35)),1,"",!0),gr(new xt(new bt(-244,139,77),new bt(-3,-27,-37)),new xt(new bt(-151,-357,11),new bt(20,-45,0)),1,"",!0),gr(new xt(new bt(-265,-158,-20),new bt(0,0,32)),new xt(new bt(-95,-70,0),new bt(9,-13,-10)),1,"",!1)]}function mr(){return null==K&&new dr,K}function wr(t,e,n,i,r,s){return Rt.call(s,t,e,n),pr.call(s),s.js_1=i,s.ks_1=r,s}function gr(t,e,n,i,r){return wr(t,e,n,i,r,on(pt(pr)))}function pr(){this.js_1="",this.ks_1=!1}function vr(){Q=this,this.ls_1=new St(.55859375,.7578125,.87890625,1);var t=this,e=new re;e.color=Ar().ls_1,e.name="clear color",e.enabled=!0,t.ms_1=e}function Ar(){return null==Q&&new vr,Q}function Er(){Ar(),Jt.call(this),this.timers=new te,this.ss_1=6.2831855,this.ts_1=1e6,this.us_1=11e3,this.vs_1=1100,this.FOV_TRANSITION=20,this.arr1=new Float32Array(16);for(var t=this,e=0,n=hn(Array(16),null);e<16;)n[e]=0,e=e+1|0;t.arr2=n,this.arr3=new Float32Array([0,0,0]),this.arr4=[1,1,1],this.map8=ln([un(1,"x"),un(2,"y"),un(-1,"zz")]);var i=this,r=_e(new Float32Array(16)),s=new Float32Array([.55078125,.703125,.77734375,1]);i.uniformsMountainsBright=Pt([r,_e(s)]);var a=this,o=_e(new Float32Array(16)),h=new Float32Array([.42578125,.62890625,.73828125,1]);a.uniformsMountainsDark=Pt([o,_e(h)]);var u=this,l=_e(new Float32Array(16)),c=new Float32Array([.37890625,.375,.33984375,1]);u.uniformsCenterRockBright=Pt([l,_e(c)]);var _=this,f=_e(new Float32Array(16)),d=new Float32Array([.26953125,.265625,.23828125,1]);_.uniformsCenterRockDark=Pt([f,_e(d)]);var m=this,w=_e(new Float32Array(16)),g=new Float32Array([.08984375,.26953125,.23828125,1]);m.uniformsHills=Pt([w,_e(g)]);var p=this,v=_e(new Float32Array(16)),A=new Float32Array([.15625,.359375,.25390625,1]);p.uniformsGround1=Pt([v,_e(A)]);var E=this,b=_e(new Float32Array(16)),T=new Float32Array([.33203125,.578125,.62890625,1]);E.uniformsGround2=Pt([b,_e(T)]);var y=this,x=_e(new Float32Array(16)),R=new Float32Array([.55859375,.7578125,.81640625,1]);y.uniformsWater=Pt([x,_e(R)]);var F=this,C=_e(new Float32Array(16)),S=new Float32Array([.74609375,.85546875,.921875,1]);F.uniformsWaterHighlights=Pt([C,_e(S),_e(new Float32Array(1))]);var M=this,N=_e(new Float32Array(16)),$=new Float32Array([.99609375,.99609375,.86328125,1]);M.uniformsSkyObjects=Pt([N,_e($)]);var k=this,O=new ke;O.name="static",O.fileName="static",O.format=De(),O.mipmaps=9,k.texStatic=O,this.uniformsDiffuseTest=Pt([_e(new Float32Array(16)),new ne(this.texStatic)]);var P=this,I=new ke;I.name="testfp16",I.fileName="Alpaca/Eating/animal.rgba.fp16",I.format=Be(),I.minFilter=Pe(),I.magFilter=Pe(),I.width=362,I.height=19,P.texFp16=I,this.uniformsAnimated=Pt([_e(new Float32Array(16)),_e(new Float32Array(4)),we(new Int32Array(1)),_e(new Float32Array(1)),new ne(this.texFp16),_e(new Float32Array(4))]),this.animationAnimal=new Tt(362,362,18),this.ws_1=25e3,this.xs_1=34e3,this.ys_1=25e4,this.zs_1=3e5,this.at_1=2500,this.bt_1=1e3,this.ct_1=900,this.dt_1=6e3,this.et_1=1e3,this.Z_NEAR=50,this.Z_FAR=1e4,this.FOV_LANDSCAPE=35,this.FOV_PORTRAIT=60,this.timers.ci(yr(),this.ys_1),this.timers.ci(xr(),this.zs_1),this.timers.ci(Cr(),this.at_1),this.timers.ci(Sr(),this.bt_1),this.timers.ci(Mr(),this.ct_1),this.timers.ci(Nr(),this.dt_1),this.timers.ci($r(),this.et_1),this.timers.ci(Rr(),this.ws_1),this.timers.ci(Fr(),this.xs_1),this.cameraAnimator=new ie(this.ts_1,this.us_1,this.vs_1,!0),this.cameraAnimator.setCameras(mr().fs_1),this.cameraAnimator.minDurationCoefficient=2;var L=Ve();L.fileName="static";var D=L,U=Ve();U.fileName="Alpaca-Idle";var B=U,q=Ve();q.fileName="sun";var z=q,j=Ve();j.fileName="sun_small";var H=j,V=Ve();V.fileName="stars";var G=V,X=Ve();X.fileName="mountains_bright";var W=X,Y=Ve();Y.fileName="mountains_dark";var Z=Y,K=Ve();K.fileName="center_rock_bright";var Q=K,J=Ve();J.fileName="center_rock_dark";var tt=J,et=Ve();et.fileName="ground_1";var nt=et,it=Ve();it.fileName="ground_2";var rt=it,st=Ve();st.fileName="hills";var at=st,ot=Ve();ot.fileName="water";var ht=ot,ut=Ve();ut.fileName="water_highlights",this.meshes=Ht([W,Z,Q,tt,nt,rt,at,ht,ut,D,B,z,H,G]),this.textures=Ht([this.texStatic,this.texFp16]);var lt=new $e;lt.name="Color";var ct=lt,_t=new $e;_t.name="Diffuse";var ft=_t,dt=new $e;dt.name="ColorAnimatedTextureChunked";var mt=dt,wt=new $e;wt.name="Water";var gt=wt;this.shaders=Ht([ct,ft,mt,gt]);var pt=new le(ct,se(),ae(),oe(),new ue(Bt(new he(Mt(),0,Nt(),0)),8)),vt=new le(ct,se(),rn(),oe(),new ue(Bt(new he(Mt(),0,Nt(),0)),8)),At=new le(ft,se(),ae(),oe(),new ue(Pt([new he(Mt(),0,Lt(),0),new he(Dt(),1,zt(),12)]),20)),Et=new le(mt,se(),ae(),oe(),null),yt=new le(gt,se(),ae(),oe(),new ue(Bt(new he(Mt(),0,Nt(),0)),8)),xt=new ce(new bt(0,0,0),new bt(0,0,0),new bt(1,1,1)),Rt=new cn,Ft=new de,Ct=Ft,$t=Ar().ms_1,kt=new pe;kt.clearType=ve(),Ct.commands=Ht([$t,kt]);var Ot=Ft,It=new _n(B,this.uniformsAnimated,Et),Ut=new de;Ut.name="hill",Ut.commands=Ht([new me(this.meshes.q(2),this.uniformsCenterRockBright,pt,xt),new me(this.meshes.q(3),this.uniformsCenterRockDark,pt,xt)]);var qt=Ut,jt=new de;jt.name="grounds",jt.commands=Ht([new me(this.meshes.q(4),this.uniformsGround1,pt,xt),new me(this.meshes.q(6),this.uniformsHills,pt,xt),new me(this.meshes.q(5),this.uniformsGround2,pt,xt)]);var Vt=jt,Gt=new de;Gt.name="mountains",Gt.commands=Ht([new me(this.meshes.q(0),this.uniformsMountainsBright,pt,xt),new me(this.meshes.q(1),this.uniformsMountainsDark,pt,xt)]);var Xt=Gt,Wt=new de;Wt.name="water",Wt.commands=Ht([new me(this.meshes.q(7),this.uniformsWater,vt,xt),new me(this.meshes.q(8),this.uniformsWaterHighlights,yt,xt)]);var Yt=Wt,Zt=new de;Zt.name="birds",Zt.commands=fn();var Kt=Zt,Qt=new de;Qt.name="clouds",Qt.commands=fn();var ee=Qt,re=new de;re.name="sky objects";var fe=re,ge=new me(z,this.uniformsSkyObjects,pt,xt);ge.enabled=!1;var Ee=ge,be=new me(H,this.uniformsSkyObjects,pt,xt),Te=new me(G,this.uniformsSkyObjects,pt,xt);Te.enabled=!1,fe.commands=Ht([Ee,be,Te]);var ye=re,xe=new de;xe.name="shooting stars",xe.commands=fn();var Re=xe,Fe=new _n(D,this.uniformsDiffuseTest,At),Ce=new Ae;Ce.color0=new St(.5,.5,.5,1),Ce.color1=new St(1,1,1,1),this.commands=Ht([Rt,Ot,It,qt,Vt,Xt,Yt,Kt,ee,ye,Re,Fe,Ce])}function br(){if(ht)return Zt;ht=!0,J=new Tr("Clouds1",0),tt=new Tr("Clouds2",1),et=new Tr("BirdsFly",2),nt=new Tr("Camera",3),it=new Tr("Water",4),rt=new Tr("BirdWings1",5),st=new Tr("BirdWings2",6),at=new Tr("AnimalAnimation",7),ot=new Tr("ShootingStar",8)}function Tr(t,e){Me.call(this,t,e)}function yr(){return br(),J}function xr(){return br(),tt}function Rr(){return br(),et}function Fr(){return br(),nt}function Cr(){return br(),it}function Sr(){return br(),rt}function Mr(){return br(),st}function Nr(){return br(),at}function $r(){return br(),ot}function kr(){ut=this,this.au_1=[new Rt(new xt(new bt(182.522,451.945,100.426994),new bt(95.628395,-240.9175,179.154)),new xt(new bt(-343.592,309.3397,121.102),new bt(-48.3742,-284.307,183.019)),1),new Rt(new xt(new bt(466.2929,-304.8695,30.390701),new bt(-343.613,27.9626,220.6635)),new xt(new bt(563.2295,19.3432,24.534698),new bt(-218.45789,183.19339,193.65689)),1),new Rt(new xt(new bt(-17.8381,-512.5913,60.937397),new bt(-276.7568,195.7981,179.154)),new xt(new bt(502.0434,-225.924,73.5525),new bt(-59.8787,269.7749,205.40071)),1),new Rt(new xt(new bt(-620.36957,-208.8635,52.049202),new bt(216.4319,-70.2999,243.01979)),new xt(new bt(-536.29553,-347.5239,66.9248),new bt(245.4221,141.5389,220.25499)),1),new Rt(new xt(new bt(-405.834,809.1909,140.3126),new bt(195.42691,-167.5669,264.4845)),new xt(new bt(-586.92596,-130.8418,24.389801),new bt(195.42691,-167.5669,220.6635)),1)]}function Or(){return null==ut&&new kr,ut}function Pr(){lt=this,this.bu_1=new It(Pt([new $t(Mt(),Nt(),0),new $t(Dt(),Ut(),6)]),12),this.cu_1=new It(Bt(new $t(Mt(),Nt(),0)),8),this.du_1=new It(Bt(new $t(Mt(),Lt(),0)),12),this.eu_1=new It(Pt([new $t(Mt(),Nt(),0),new $t(Dt(),Ut(),6),new $t(Je(),Nt(),10)]),16),this.fu_1=new It(Pt([new $t(Mt(),Nt(),0),new $t(Dt(),wn(),6)]),8),this.gu_1=new It(Bt(new $t(Mt(),Lt(),0)),12),this.hu_1=jt("sky",this.bu_1),this.iu_1=jt("stars",this.du_1),this.ju_1=jt("building-1",this.eu_1),this.ku_1=jt("buildings-distant",this.fu_1),this.lu_1=jt("red-lamps",this.cu_1),this.mu_1=jt("islands",this.cu_1),this.nu_1=jt("water",this.cu_1),this.ou_1=jt("neon-signs",this.fu_1),this.pu_1=jt("red-lights",this.gu_1),this.qu_1=Ht([this.hu_1,this.iu_1,this.ju_1,this.ku_1,this.lu_1,this.mu_1,this.nu_1,this.ou_1,this.pu_1])}function Ir(){return null==lt&&new Pr,lt}function Lr(){Jt.call(this),this.wu_1=new te,this.xu_1=1e6,this.yu_1=29e3,this.zu_1=2600,this.jv_1=Ht([Ke()]),this.kv_1=100,this.PIf=3.1415927,this.lv_1=new Float32Array([.145,.137,.141,1]),this.mv_1=2300,this.nv_1=2500;var t=this,e=_e(this.lv_1),n=new Float32Array([this.mv_1]),i=_e(n),r=new Float32Array([this.nv_1]);t.ov_1=[e,i,_e(r)],this.pv_1=990;var s=this,a=new Float32Array([3]),o=_e(a),h=new ne(zr().fw_1),u=new Float32Array([1.2,1.2,1.2,1]);s.wv_1=[o,h,_e(u)],this.meshes=Ir().qu_1,this.textures=zr().hw_1,this.shaders=Br().qw_1,mt.rw(this.wu_1),this.Z_NEAR=100,this.Z_FAR=2e4,this.FOV_LANDSCAPE=25,this.FOV_PORTRAIT=25;var l=this,c=new Dr;c.cameraPeriod=1,c.vignette=!0,c.blurred=!1,c.autoSwitchCameras=!0,c.lowQuality=!1,c.clock=!1,l.settings=c,this.cameraAnimator=new ie(this.xu_1,this.yu_1,this.zu_1,!0),this.cameraAnimator.setCameras(Or().au_1),this.cameraAnimator.minDurationCoefficient=this.settings.cameraPeriod;var _=this,f=new re;f.color=new St(0,.0392156862745098,.0784313725490196,1),f.name="clear color",f.enabled=!0,_.fv_1=f;var d=new re;d.color=new St(0,0,0,1),d.name="clear color bloom",d.enabled=!0;var m=d,w=new ce(new bt(0,0,0),new bt(0,0,0),new bt(this.kv_1,this.kv_1,this.kv_1)),g=new le(Br().jw_1,se(),ae(),oe(),new ue(Pt([new he(Mt(),0,Nt(),0),new he(Dt(),1,Ut(),6)]),12)),p=fe(Ir().hu_1,Pt([_e(new Float32Array(16)),new ne(zr().xv_1),new ne(zr().yv_1)]),g,w),v=new le(Br().kw_1,se(),ae(),oe(),new ue(Bt(new he(Mt(),0,Lt(),0)),12)),A=this,E=Ir().iu_1,b=_e(new Float32Array(16)),T=new Float32Array([.35,.35,.35,1]),y=new me(E,Pt([b,_e(T)]),v,new ce(new bt(0,0,0),new bt(0,0,0),new bt(.055,.055,.055)));y.hints=this.jv_1,A.commandStars=y;var x=new le(Br().lw_1,se(),ae(),oe(),new ue(Pt([new he(Mt(),0,Nt(),0),new he(Dt(),1,Ut(),6),new he(Je(),2,Nt(),10)]),16)),R=this,F=Ir().ju_1,C=_e(new Float32Array(16)),S=_e(new Float32Array(16)),M=new Float32Array([.707106,.707106,0]),N=_e(M),$=new Float32Array([.05,.6]),k=_e($),O=_e(new Float32Array(3)),P=new ne(zr().zv_1),I=new ne(zr().aw_1),L=new ne(zr().bw_1),D=new Float32Array([.33,.33,.33,1]),U=_e(D),B=new Float32Array([.3,.3,.3,1]),q=_e(B),z=new Float32Array([1.8]),j=_e(z),H=new Float32Array([0]),V=fe(F,Pt([C,S,N,k,O,P,I,L,U,q,j,_e(H)]),x,w);V.indexUniformModel=1,R.commandBuildings=V;var G=this,X=Ir().ju_1,W=_e(new Float32Array(16)),Y=_e(new Float32Array(16)),Z=new Float32Array([.707106,.707106,0]),K=_e(Z),Q=new Float32Array([.05,.6]),J=_e(Q),tt=_e(new Float32Array(3)),et=new ne(zr().zv_1),nt=new ne(zr().aw_1),it=new ne(zr().bw_1),rt=new Float32Array([0,0,0,1]),st=_e(rt),at=new Float32Array([0,0,0,1]),ot=_e(at),ht=new Float32Array([2]),ut=_e(ht),lt=new Float32Array([0]),ct=fe(X,Pt([W,Y,K,J,tt,et,nt,it,st,ot,ut,_e(lt)]),x,w);ct.indexUniformModel=1,G.commandBuildingsBloom=ct;var _t=new le(Br().kw_1,se(),ae(),oe(),new ue(Bt(new he(Mt(),0,Nt(),0)),8)),ft=Ir().lu_1,dt=_e(new Float32Array(16)),wt=new Float32Array([1,.3,.3,1]),gt=new me(ft,Pt([dt,_e(wt)]),_t,w);gt.hints=this.jv_1;var pt=gt,vt=new le(Br().mw_1,se(),ae(),oe(),new ue(Pt([new he(Mt(),0,Nt(),0),new he(Dt(),1,gn(),6)]),8)),At=fe(Ir().ku_1,Pt(pn([[_e(new Float32Array(16)),new ne(zr().cw_1)],this.ov_1])),vt,w),Et=fe(Ir().ku_1,Pt(pn([[_e(new Float32Array(16)),new ne(zr().cw_1)],this.ov_1])),vt,new ce(new bt(0,0,0),new bt(0,0,180),new bt(this.kv_1,this.kv_1,this.kv_1))),Tt=new le(Br().nw_1,se(),ae(),oe(),new ue(Bt(new he(Mt(),0,Nt(),0)),8)),yt=Ir().mu_1,xt=_e(new Float32Array(16)),Rt=new Float32Array([.1171875,.1171875,.1171875,1]),Ft=fe(yt,Pt(pn([[xt,_e(Rt)],this.ov_1])),Tt,w),Ct=Ir().nu_1,$t=_e(new Float32Array(16)),kt=new Float32Array([0,.01953125,.01953125,1]),Ot=fe(Ct,Pt(pn([[$t,_e(kt)],this.ov_1])),Tt,w),It=Br().iw_1,qt=new Xe;qt.enabled=!0,qt.sourceFactorColor=Ye(),qt.destinationFactorColor=Ye(),qt.isSeparateAlpha=!1;var zt=new le(It,qt,rn(),oe(),new ue(Pt([new he(Mt(),0,Nt(),0),new he(Dt(),1,wn(),6)]),8)),jt=fe(Ir().ou_1,Pt([_e(new Float32Array(16)),new ne(zr().dw_1)]),zt,w),Vt=fe(Ir().ou_1,Pt([_e(new Float32Array(16)),new ne(zr().gw_1)]),zt,w),Gt=Br().ow_1,Xt=new Xe;Xt.enabled=!0,Xt.sourceFactorColor=Ye(),Xt.destinationFactorColor=Ye(),Xt.isSeparateAlpha=!1;var Wt=new le(Gt,Xt,rn(),sn(),new ue(Bt(new he(Mt(),0,Lt(),0)),12)),Yt=Ir().pu_1,Zt=_e(new Float32Array(16)),Kt=new Float32Array([4]),Qt=_e(Kt),ee=new ne(zr().ew_1),de=new Float32Array([1,.2,.2,1]),we=fe(Yt,Pt([Zt,Qt,ee,_e(de)]),Wt,w);we.primitiveType=vn();var xe=we,Re=Br().pw_1,Fe=new Xe;Fe.enabled=!0,Fe.sourceFactorColor=Ye(),Fe.destinationFactorColor=Ye(),Fe.isSeparateAlpha=!1;var Ce=new le(Re,Fe,rn(),sn(),null),Se=this,Me=new me(null,Pt(pn([[_e(new Float32Array(16))],this.wv_1])),Ce,new ce(new bt(0,0,380),new bt(0,0,0),new bt(this.kv_1,this.kv_1,this.kv_1)));Me.primitiveType=vn(),Me.primitiveCount=1,Se.qv_1=Me;var Ne=this,$e=new me(null,Pt(pn([[_e(new Float32Array(16))],this.wv_1])),Ce,new ce(new bt(0,0,400),new bt(0,0,0),new bt(this.kv_1,this.kv_1,this.kv_1)));$e.primitiveType=vn(),$e.primitiveCount=1,Ne.rv_1=$e;var ke=this,Oe=new me(null,Pt(pn([[_e(new Float32Array(16))],this.wv_1])),Ce,new ce(new bt(0,0,350),new bt(0,0,0),new bt(this.kv_1,this.kv_1,this.kv_1)));Oe.primitiveType=vn(),Oe.primitiveCount=1,ke.sv_1=Oe;var Pe=this,Ie=new me(null,Pt(pn([[_e(new Float32Array(16))],this.wv_1])),Ce,new ce(new bt(0,0,450),new bt(0,0,0),new bt(this.kv_1,this.kv_1,this.kv_1)));Ie.primitiveType=vn(),Ie.primitiveCount=1,Pe.tv_1=Ie;var Le=this,De=new me(null,Pt(pn([[_e(new Float32Array(16))],this.wv_1])),Ce,new ce(new bt(0,0,430),new bt(0,0,0),new bt(this.kv_1,this.kv_1,this.kv_1)));De.primitiveType=vn(),De.primitiveCount=1,Le.uv_1=De;var Ue=this,Be=new me(null,Pt(pn([[_e(new Float32Array(16))],this.wv_1])),Ce,new ce(new bt(0,0,500),new bt(0,0,0),new bt(this.kv_1,this.kv_1,this.kv_1)));Be.primitiveType=vn(),Be.primitiveCount=1,Ue.vv_1=Be;var qe=this,ze=new pe;ze.clearType=ve(),qe.ev_1=ge(!0,[this.fv_1,ze]);var je=new pe;je.clearType=ve();var He=ge(!0,[m,je]),Ve=this,Ge=new Ae;Ge.color0=new St(.45,.45,.45,1),Ge.color1=new St(1,1,1,1),Ve.gv_1=Ge;var Ze=ge(!0,[this.commandBuildingsBloom,xe,Vt]),Qe=this,tn=new be;tn.name="bloom-objects",tn.enabled=!0,tn.minSize=180,tn.brightness=1,tn.blurSize=Te(),tn.commands=Ht([He,Ze]),tn.id=0,Qe.dv_1=tn;var en=this,nn=new ye;nn.name="draw bloom";var an=nn,on=new Xe;on.enabled=!0,on.equationColor=We(),on.sourceFactorColor=Ye(),on.destinationFactorColor=Ye(),an.blending=on,en.iv_1=nn,this.av_1=ge(!0,[this.dv_1,Ee(!0,[this.ev_1,this.commandBuildings,pt,At,Et,Ft,Ot,this.commandStars,p,this.qv_1,this.rv_1,this.sv_1,this.tv_1,this.uv_1,this.vv_1,jt,this.iv_1,this.gv_1])]);var hn=this,un=new be;un.name="blurred-main",un.enabled=!0,un.minSize=180,un.brightness=.95,un.blurSize=Te(),un.commands=Ht([He,this.commandBuildings,At,Et,Ft,Ot,p,jt,this.gv_1]),hn.cv_1=un;var ln=this,cn=new ye;cn.name="draw blurred",cn.blending=se(),ln.hv_1=cn,this.bv_1=ge(!1,[this.cv_1,Ee(!0,[this.ev_1,this.hv_1])]),this.commands=Ht([this.av_1,this.bv_1])}function Dr(){this.cameraPeriod=1,this.vignette=!0,this.blurred=!1,this.autoSwitchCameras=!0,this.lowQuality=!1,this.clock=!1,this.lights=1}function Ur(){ct=this,this.iw_1=new $e("Diffuse"),this.jw_1=new $e("SkyDither"),this.kw_1=new $e("Color"),this.lw_1=new $e("Building"),this.mw_1=new $e("DiffuseFog"),this.nw_1=new $e("ColorFog"),this.ow_1=new $e("PointSpritesColored"),this.pw_1=new $e("PointSpriteColored"),this.qw_1=Ht([this.iw_1,this.jw_1,this.kw_1,this.lw_1,this.mw_1,this.nw_1,this.ow_1,this.pw_1])}function Br(){return null==ct&&new Ur,ct}function qr(){_t=this;var t=this,e=new ke;e.name="sky-night",e.fileName="sky-night",e.format=De(),e.minFilter=Le(),e.magFilter=Le(),e.wrapping=Ie(),t.xv_1=e;var n=this,i=new ke;i.name="blue-noise-16",i.fileName="blue-noise-16",i.format=De(),i.minFilter=Pe(),i.magFilter=Pe(),n.yv_1=i;var r=this,s=new ke;s.name="diffuse2",s.fileName="diffuse2",s.format=De(),s.minFilter=Ue(),s.magFilter=Ue(),s.mipmaps=11,r.zv_1=s;var a=this,o=new ke;o.name="emission2",o.fileName="emission2",o.format=De(),o.minFilter=Ue(),o.magFilter=Ue(),o.mipmaps=11,a.aw_1=o;var h=this,u=new ke;u.type=En(),u.name="cubemaps/1/sky",u.fileName="cubemaps/1/sky",u.format=De(),u.minFilter=Le(),u.magFilter=Le(),h.bw_1=u;var l=this,c=new ke;c.name="distant",c.fileName="distant",c.format=De(),c.minFilter=Ue(),c.magFilter=Ue(),c.mipmaps=8,l.cw_1=c;var _=this,f=new ke;f.name="neon",f.fileName="neon",f.format=De(),f.minFilter=Ue(),f.magFilter=Ue(),f.mipmaps=9,_.dw_1=f;var d=this,m=new ke;m.name="flare",m.fileName="flare",m.format=De(),m.minFilter=Ue(),m.magFilter=Ue(),m.mipmaps=3,d.ew_1=m;var w=this,g=new ke;g.name="dust",g.fileName="dust",g.format=De(),g.minFilter=Pe(),g.magFilter=Pe(),w.fw_1=g;var p=this,v=new ke;v.name="neon2",v.fileName="neon2",v.format=De(),v.minFilter=Ue(),v.magFilter=Ue(),v.mipmaps=5,p.gw_1=v,this.hw_1=Ht([this.xv_1,this.yv_1,this.zv_1,this.aw_1,this.bw_1,this.cw_1,this.dw_1,this.ew_1,this.fw_1,this.gw_1])}function zr(){return null==_t&&new qr,_t}function jr(){}function Hr(){if(wt)return Zt;wt=!0,ft=new Vr("Planes1",0),dt=new Vr("Planes2",1)}function Vr(t,e){Me.call(this,t,e)}function Gr(){return Hr(),ft}function Xr(){return Hr(),dt}function Wr(t){var e,n;(e=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).arctic||(r.arctic={})).ArcticScene=Xn,e.ArcticScene.setAnimationUniforms$default=Hn,(e=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).arctic||(r.arctic={})).TimeOfDay=Jn,e.TimeOfDay.values=Zn,e.TimeOfDay.valueOf=Kn,Ne(e.TimeOfDay,"Day",ei),Ne(e.TimeOfDay,"Night",ni),Ne(e.TimeOfDay,"Sunrise",ii),Ne(e.TimeOfDay,"Sunset",ri),e.ArcticSettings=ti,((r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).brutalism||(r.brutalism={})).DrawClockCommand=Mi,((r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).brutalism||(r.brutalism={})).BrutalismScene=Ni,((r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).brutalism||(r.brutalism={})).BrutalismSettings=$i,(n=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).cartoonplanes||(r.cartoonplanes={})).CartoonPlanesScene=Hi,(n=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).cartoonplanes||(r.cartoonplanes={})).TimeOfDay=Wi,n.TimeOfDay.values=Vi,n.TimeOfDay.valueOf=Gi,Ne(n.TimeOfDay,"Day",Zi),Ne(n.TimeOfDay,"Night",Ki),Ne(n.TimeOfDay,"Sunrise",Qi),n.CartoonPlanesSettings=Yi;var i,r,s=(r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).example||(r.example={});s.ExampleScene=Er,Ne(s.ExampleScene,"Companion",Ar),((r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).skyscrapers||(r.skyscrapers={})).SkyscrapersScene=Lr,((r=(i=t.org||(t.org={})).androidworks||(i.androidworks={})).skyscrapers||(r.skyscrapers={})).SkyscrapersSettings=Dr}At(bn,"AnimatedObjectInfoBase",vt,Et,Et,bn),At(Tn,"AnimatedObjectInfo",vt,bn,Et,Tn),At(yn,"SplineAnimatedObjectInfo",vt,bn,Et,yn),At(xn,"Animations",yt),At(Fn,"Cameras",yt),At(Sn,"SceneColors",vt),At(Mn,"Colors",yt),At($n,"Meshes",yt),At(On,"Penguins",yt),At(Xn,"ArcticScene",vt,Jt,Et,Xn),At(Wn,"Seals",yt),At(Jn,"TimeOfDay",vt,Me),At(ti,"ArcticSettings",vt,Et,Et,ti),At(si,"Shaders",yt),At(oi,"ShipConfig",vt),At(hi,"ShipsConfig",yt),At(li,"Textures",yt),At(_i,"Companion",yt),At(di,"Timers",vt,Me),At(Ci,"Cameras",yt),At(Mi,"DrawClockCommand",vt,qe,Et,Mi),At(Ni,"BrutalismScene",vt,Jt,Et,Ni),At($i,"BrutalismSettings",vt,Et,Et,$i),At(ki,"Meshes",yt),At(Pi,"Props",yt),At(Hi,"CartoonPlanesScene",vt,Jt,Et,Hi),At(Wi,"TimeOfDay",vt,Me),At(Yi,"CartoonPlanesSettings",vt,Et,Et,Yi),At(Ji,"Shaders",yt),At(er,"Textures",yt),At(ir,"Companion",yt),At(sr,"Timers",vt,Me),At(dr,"Cameras",yt),At(pr,"InteractiveCameraPositionPair",vt,Rt),At(vr,"Companion",yt),At(Er,"ExampleScene",vt,Jt,Et,Er),At(Tr,"Timers",vt,Me),At(kr,"Cameras",yt),At(Pr,"Meshes",yt),At(Lr,"SkyscrapersScene",vt,Jt,Et,Lr),At(Dr,"SkyscrapersSettings",vt,Et,Et,Dr),At(Ur,"Shaders",yt),At(qr,"Textures",yt),At(jr,"Companion",yt),At(Vr,"Timers",vt,Me),pt(Sn).toString=function(){return"SceneColors(isDay="+this.xi_1+", isLowSun="+this.yi_1+", drawBirds="+this.zi_1+", birds="+this.aj_1+", clouds="+this.bj_1+", stars="+this.cj_1+", waterColorNear="+this.dj_1+", waterColorFar="+this.ej_1+", distantZFogColor="+this.fj_1+")"},pt(Sn).hashCode=function(){var t=Ft(this.xi_1);return t=gt(t,31)+Ft(this.yi_1)|0,t=gt(t,31)+Ft(this.zi_1)|0,t=gt(t,31)+this.aj_1.hashCode()|0,t=gt(t,31)+this.bj_1.hashCode()|0,t=gt(t,31)+this.cj_1.hashCode()|0,t=gt(t,31)+this.dj_1.hashCode()|0,t=gt(t,31)+this.ej_1.hashCode()|0,t=gt(t,31)+this.fj_1.hashCode()|0},pt(Sn).equals=function(t){if(this===t)return!0;if(!(t instanceof Sn))return!1;var e=t instanceof Sn?t:Ct();return!!(this.xi_1===e.xi_1&&this.yi_1===e.yi_1&&this.zi_1===e.zi_1&&this.aj_1.equals(e.aj_1)&&this.bj_1.equals(e.bj_1)&&this.cj_1.equals(e.cj_1)&&this.dj_1.equals(e.dj_1)&&this.ej_1.equals(e.ej_1)&&this.fj_1.equals(e.fj_1))},pt(Xn).km=function(){return this.timers},pt(Xn).lm=function(){return this.cameraAnimator},pt(Xn).mm=function(){return this.FOV_TRANSITION},pt(Xn).nm=function(){return this.settings},pt(Xn).om=function(){return this.uniformPaletteTexture},pt(Xn).pm=function(){return this.uniformSkyTexture},pt(Xn).qm=function(){return this.commandClouds},pt(Xn).rm=function(){return this.commandStars},pt(Xn).sm=function(){return this.groupBirds},pt(Xn).tm=function(){return this.BIRD_FLIGHT_RADIUS},pt(Xn).um=function(){return this.groupShips},pt(Xn).vm=function(){return this.groupAnimalsAnimated},pt(Xn).wm=function(){return this.groupAnimalsSleeping},pt(Xn).xm=function(){return this.groupPenguinsIdle},pt(Xn).ym=function(){return this.groupPenguinsIdle2},pt(Xn).zm=function(){return this.groupSealIdle},pt(Xn).an=function(){return this.groupSealWalking},pt(Xn).bn=function(){return this.commandSun},pt(Xn).cn=function(){return this.commandSunLow},pt(Xn).dn=function(){return this.PIf},pt(Xn).updateTimers=function(t){this.timers.hi(t),this.cameraAnimator.animate(t),this.animate(),pt(Jt).updateTimers.call(this,t)},pt(Xn).updateViewportSize=function(t,e){pt(Jt).updateViewportSize.call(this,t,e)},pt(Xn).initialize=function(){},pt(Xn).applySettings=function(){this.nk_1.enabled=!this.settings.blurred,this.ok_1.enabled=this.settings.blurred,this.sk_1.enabled=this.settings.vignette,this.cameraAnimator.minDurationCoefficient!==this.settings.cameraPeriod&&(this.cameraAnimator.minDurationCoefficient=this.settings.cameraPeriod),this.cameraAnimator.timer>.99&&this.settings.autoSwitchCameras&&xe().q5()<.5&&this.randomCamera()},pt(Xn).animate=function(){this.applySettings(),this.calculateProjection();var t=this.cameraAnimator.positionInterpolator,e=t.cameraPosition,n=t.cameraRotation;this.useExternalViewMatrix||Re().ug(this.matView,0,e.x,e.y,e.z,n.x,n.y,n.z,0,0,1),In(this),Un(this),Bn(this),qn(this),Vn(this),Gn(this),Dn(this),Ln(this),this.updateMeshTransformations(this.commands)},pt(Xn).nextCamera=function(){this.cameraAnimator.nextCamera()},pt(Xn).randomCamera=function(){if(this.cameraAnimator.state.equals(Fe()))return Zt;this.cameraAnimator.positionInterpolator.reverse=xe().q5()<.5,this.cameraAnimator.randomCamera()},pt(ti).gn=function(t){this.cameraPeriod=t},pt(ti).hn=function(){return this.cameraPeriod},pt(ti).in=function(t){this.vignette=t},pt(ti).jn=function(){return this.vignette},pt(ti).kn=function(t){this.blurred=t},pt(ti).ln=function(){return this.blurred},pt(ti).mn=function(t){this.autoSwitchCameras=t},pt(ti).nn=function(){return this.autoSwitchCameras},pt(ti).on=function(t){this.timeOfDay=t},pt(ti).pn=function(){return this.timeOfDay},pt(ti).qn=function(t){this.clock=t},pt(ti).rn=function(){return this.clock},pt(ti).sn=function(t){this.lowQuality=t},pt(ti).tn=function(){return this.lowQuality},pt(_i).jm=function(t){t.ci(mi(),72e4),t.ci(wi(),6e4),t.ci(pi(),3e5),t.ci(gi(),15e3),t.ci(Ai(),1e3),t.ci(Ei(),900),t.ci(vi(),75e3),t.ci(bi(),2e5),t.ci(Ti(),5e3),t.ci(yi(),5e3),t.ci(xi(),4e3),t.ci(Ri(),1900),t.ci(Fi(),114e3)},pt(Mi).aa=function(){return this.vn_1},pt(Ni).km=function(){return this.timers},pt(Ni).lm=function(){return this.cameraAnimator},pt(Ni).mm=function(){return this.FOV_TRANSITION},pt(Ni).nm=function(){return this.settings},pt(Ni).updateTimers=function(t){this.timers.hi(t),this.cameraAnimator.animate(t),this.animate(),pt(Jt).updateTimers.call(this,t)},pt(Ni).updateViewportSize=function(t,e){pt(Jt).updateViewportSize.call(this,t,e)},pt(Ni).initialize=function(){},pt(Ni).applySettings=function(){this.po_1.enabled=!this.settings.blurred,this.qo_1.enabled=this.settings.blurred,this.jo_1.blurSize=this.settings.lowQuality?Ze():Ge(),this.ko_1.blurSize=this.settings.lowQuality?Ze():Ge(),this.vo_1.s(0,this.settings.lowQuality?Ke():je()),this.no_1.enabled=this.settings.vignette,this.cameraAnimator.minDurationCoefficient!==this.settings.cameraPeriod&&(this.cameraAnimator.minDurationCoefficient=this.settings.cameraPeriod),this.oo_1.enabled=this.settings.clock,this.cameraAnimator.timer>.98&&this.settings.autoSwitchCameras&&xe().q5()<.5&&this.randomCameraOrNextRoom(),this.so_1.color=this.settings.colorMode.equals(Qe())?this.uo_1:this.to_1},pt(Ni).animate=function(){this.applySettings(),this.calculateProjection();var t=this.cameraAnimator.positionInterpolator,e=t.cameraPosition,n=t.cameraRotation;this.useExternalViewMatrix||Re().ug(this.matView,0,e.x,e.y,e.z,n.x,n.y,n.z,0,0,1),this.updateMeshTransformations(this.commands)},pt(Ni).nextCamera=function(){this.cameraAnimator.nextCamera()},pt(Ni).nextRoom=function(){this.eo_1.enabled?(this.eo_1.enabled=!1,this.go_1.enabled=!0,this.jo_1.enabled=!1,this.ko_1.enabled=!0,this.cameraAnimator.setCameras(Si().un_1[1],!0)):this.go_1.enabled&&(this.eo_1.enabled=!0,this.go_1.enabled=!1,this.jo_1.enabled=!0,this.ko_1.enabled=!1,this.cameraAnimator.setCameras(Si().un_1[0],!0))},pt(Ni).nextCameraOrRoom=function(){if(this.cameraAnimator.state.equals(Fe()))return Zt;var t=this.eo_1.enabled?.75:.25;xe().q5()<t?this.nextRoom():this.nextCamera()},pt(Ni).randomCameraOrNextRoom=function(){if(this.cameraAnimator.state.equals(Fe()))return Zt;var t=this.eo_1.enabled?.75:.25;xe().q5()<t?this.nextRoom():(this.cameraAnimator.positionInterpolator.reverse=xe().q5()<.5,this.cameraAnimator.randomCamera())},pt($i).sn=function(t){this.lowQuality=t},pt($i).tn=function(){return this.lowQuality},pt($i).gn=function(t){this.cameraPeriod=t},pt($i).hn=function(){return this.cameraPeriod},pt($i).in=function(t){this.vignette=t},pt($i).jn=function(){return this.vignette},pt($i).qn=function(t){this.clock=t},pt($i).rn=function(){return this.clock},pt($i).kn=function(t){this.blurred=t},pt($i).ln=function(){return this.blurred},pt($i).wo=function(t){this.colorMode=t},pt($i).xo=function(){return this.colorMode},pt($i).mn=function(t){this.autoSwitchCameras=t},pt($i).nn=function(){return this.autoSwitchCameras},pt(Hi).nm=function(){return this.settings},pt(Hi).dn=function(){return this.PIf},pt(Hi).kr=function(t){this.texSky=t},pt(Hi).lr=function(){return this.texSky},pt(Hi).mr=function(t){this.texSky1=t},pt(Hi).nr=function(){return this.texSky1},pt(Hi).or=function(t){this.texSky2=t},pt(Hi).pr=function(){return this.texSky2},pt(Hi).qr=function(t){this.meshPlane1=t},pt(Hi).rr=function(){return this.meshPlane1},pt(Hi).sr=function(t){this.meshPlane2=t},pt(Hi).tr=function(){return this.meshPlane2},pt(Hi).ur=function(t){this.texPlane1=t},pt(Hi).vr=function(){return this.texPlane1},pt(Hi).wr=function(t){this.texPlane2=t},pt(Hi).xr=function(){return this.texPlane2},pt(Hi).updateTimers=function(t){this.mp_1.hi(t),Di(this),pt(Jt).updateTimers.call(this,t)},pt(Hi).updateViewportSize=function(t,e){pt(Jt).updateViewportSize.call(this,t,e)},pt(Hi).initialize=function(){ji(this)},pt(Hi).changeSky=function(){this.mp_1.fi(fr(),0)},pt(Hi).preventChangeSky=function(){this.mp_1.fi(fr(),1)},pt(Hi).randomizePropTexture=function(){var t=xe().p5(2,6);nr().cr_1.fileName="prop/"+t},pt(Hi).setPropTexture=function(t){nr().cr_1.fileName="prop/"+t},pt(Hi).canChangePlanes=function(){return 1===this.mp_1.ei(_r())},pt(Hi).canChangeSky=function(){return 1===this.mp_1.ei(fr())},pt(Hi).changePlanes=function(t,e){this.settings.currentPlane=t,this.settings.nextPlane=e,Oi().cp_1.fileName="plane"+t,Oi().dp_1.fileName="plane"+e,nr().ar_1.fileName="plane"+t,nr().br_1.fileName="plane"+e,t!==e||xe().q5()>.75?this.mp_1.fi(_r(),0):this.mp_1.fi(_r(),1),Di(this)},pt(Yi).gn=function(t){this.cameraPeriod=t},pt(Yi).hn=function(){return this.cameraPeriod},pt(Yi).in=function(t){this.vignette=t},pt(Yi).jn=function(){return this.vignette},pt(Yi).kn=function(t){this.blurred=t},pt(Yi).ln=function(){return this.blurred},pt(Yi).mn=function(t){this.autoSwitchCameras=t},pt(Yi).nn=function(){return this.autoSwitchCameras},pt(Yi).sn=function(t){this.lowQuality=t},pt(Yi).tn=function(){return this.lowQuality},pt(Yi).qn=function(t){this.clock=t},pt(Yi).rn=function(){return this.clock},pt(Yi).as=function(t){this.currentPlane=t},pt(Yi).bs=function(){return this.currentPlane},pt(Yi).cs=function(t){this.nextPlane=t},pt(Yi).ds=function(){return this.nextPlane},pt(Yi).es=function(t){this.timeOfDay=t},pt(Yi).pn=function(){return this.timeOfDay},pt(ir).jr=function(t){t.ci(ar(),741e3),t.ci(or(),10),t.ci(hr(),25e3),t.ci(ur(),6e3),t.ci(lr(),22800),t.di(cr(),this.vq_1,!1),t.di(_r(),4e3,!1),t.di(fr(),3e3,!1)},pt(Er).km=function(){return this.timers},pt(Er).lm=function(){return this.cameraAnimator},pt(Er).mm=function(){return this.FOV_TRANSITION},pt(Er).ft=function(){return this.arr1},pt(Er).gt=function(){return this.arr2},pt(Er).ht=function(){return this.arr3},pt(Er).it=function(t){this.arr4=t},pt(Er).jt=function(){return this.arr4},pt(Er).kt=function(){return this.map8},pt(Er).lt=function(){return this.uniformsMountainsBright},pt(Er).mt=function(){return this.uniformsMountainsDark},pt(Er).nt=function(){return this.uniformsCenterRockBright},pt(Er).ot=function(){return this.uniformsCenterRockDark},pt(Er).pt=function(){return this.uniformsHills},pt(Er).qt=function(){return this.uniformsGround1},pt(Er).rt=function(){return this.uniformsGround2},pt(Er).st=function(){return this.uniformsWater},pt(Er).tt=function(){return this.uniformsWaterHighlights},pt(Er).ut=function(){return this.uniformsSkyObjects},pt(Er).vt=function(){return this.texStatic},pt(Er).wt=function(){return this.uniformsDiffuseTest},pt(Er).xt=function(){return this.texFp16},pt(Er).yt=function(){return this.uniformsAnimated},pt(Er).zt=function(){return this.animationAnimal},pt(Er).updateTimers=function(t){this.timers.hi(t),this.cameraAnimator.animate(t),this.animate(),pt(Jt).updateTimers.call(this,t)},pt(Er).updateViewportSize=function(t,e){pt(Jt).updateViewportSize.call(this,t,e)},pt(Er).initialize=function(){},pt(Er).animate=function(){this.calculateProjection();var t=this.cameraAnimator.positionInterpolator,e=t.cameraPosition,n=t.cameraRotation;this.useExternalViewMatrix||Re().ug(this.matView,0,e.x,e.y,e.z,n.x,n.y,n.z,0,0,1),this.updateMeshTransformations(this.commands);var i=this.uniformsDiffuseTest.q(0);this.setMvpUniform(i instanceof dn?i:Ct(),0,0,0,0,0,0,8,8,8);var r=1.1*this.timers.ei(Nr()),s=Math.min(r,1);this.setMvpUniform(this.uniformsAnimated.q(0),1.554,-.796,-2.327,0,0,0,.4,.4,.4),Vt(this.uniformsAnimated.q(1),.1640625,.1484375,.1171875,1),Kt(this.uniformsAnimated.q(2),this.animationAnimal.hb_1),Xt(this.uniformsAnimated.q(3),1/this.animationAnimal.mb_1),Vt(this.uniformsAnimated.q(5),this.animationAnimal.hb_1,this.animationAnimal.jb_1,this.animationAnimal.ob(s),this.animationAnimal.nb_1),Xt(this.uniformsWaterHighlights.q(2),this.timers.ei(Cr())*mn()*2)},pt(Lr).lm=function(){return this.cameraAnimator},pt(Lr).nm=function(){return this.settings},pt(Lr).rm=function(){return this.commandStars},pt(Lr).sw=function(){return this.commandBuildings},pt(Lr).tw=function(){return this.commandBuildingsBloom},pt(Lr).dn=function(){return this.PIf},pt(Lr).updateTimers=function(t){this.wu_1.hi(t),this.cameraAnimator.animate(t),this.animate(),pt(Jt).updateTimers.call(this,t)},pt(Lr).updateViewportSize=function(t,e){pt(Jt).updateViewportSize.call(this,t,e)},pt(Lr).initialize=function(){},pt(Lr).applySettings=function(){this.av_1.enabled=!this.settings.blurred,this.bv_1.enabled=this.settings.blurred,this.gv_1.enabled=this.settings.vignette,this.cv_1.additionalBlur=!this.settings.lowQuality,this.dv_1.additionalBlur=!this.settings.lowQuality,Xt(this.commandBuildings.uniforms.q(11),1-this.settings.lights),Xt(this.commandBuildingsBloom.uniforms.q(11),1-this.settings.lights),this.cameraAnimator.minDurationCoefficient!==this.settings.cameraPeriod&&(this.cameraAnimator.minDurationCoefficient=this.settings.cameraPeriod),this.cameraAnimator.timer>.99&&this.settings.autoSwitchCameras&&xe().q5()<.5&&this.randomCamera()},pt(Lr).animate=function(){this.applySettings(),this.calculateProjection();var t=this.cameraAnimator.positionInterpolator,e=t.cameraPosition,n=t.cameraRotation;this.useExternalViewMatrix||Re().ug(this.matView,0,e.x,e.y,e.z,n.x,n.y,n.z,0,0,1),this.updatePlanes(),this.updateMeshTransformations(this.commands),An(this.commandBuildings.uniforms.q(4),e),An(this.commandBuildingsBloom.uniforms.q(4),e)},pt(Lr).updatePlanes=function(){var t=this.wu_1.ei(Gr())*this.PIf*2,e=this.wu_1.ei(Xr())*this.PIf*2;this.updatePlanePosition(t,0,0,this.qv_1.transform.l9_1),this.updatePlanePosition(-e-this.PIf,0,-400,this.rv_1.transform.l9_1),this.updatePlanePosition(-t-this.PIf,0,300,this.sv_1.transform.l9_1),this.updatePlanePosition(e,100,300,this.tv_1.transform.l9_1),this.updatePlanePosition(t+this.PIf/2,100,300,this.uv_1.transform.l9_1),this.updatePlanePosition(e+this.PIf/1.5,100,300,this.vv_1.transform.l9_1);var n=this.viewportWidth,i=this.viewportHeight,r=Math.min(n,i)/300,s=Math.max(2.5,r);Xt(this.qv_1.uniforms.q(1),s)},pt(Lr).updatePlanePosition=function(t,e,n,i){i.x=Math.sin(t)*this.pv_1+e,i.y=Math.cos(t)*this.pv_1+n},pt(Lr).nextCamera=function(){this.cameraAnimator.nextCamera()},pt(Lr).randomCamera=function(){if(this.cameraAnimator.state.equals(Fe()))return Zt;this.cameraAnimator.positionInterpolator.reverse=xe().q5()<.5,this.cameraAnimator.randomCamera()},pt(Lr).changeSpeed=function(t){this.cameraAnimator.changeDirection(t)},pt(Dr).gn=function(t){this.cameraPeriod=t},pt(Dr).hn=function(){return this.cameraPeriod},pt(Dr).in=function(t){this.vignette=t},pt(Dr).jn=function(){return this.vignette},pt(Dr).kn=function(t){this.blurred=t},pt(Dr).ln=function(){return this.blurred},pt(Dr).mn=function(t){this.autoSwitchCameras=t},pt(Dr).nn=function(){return this.autoSwitchCameras},pt(Dr).sn=function(t){this.lowQuality=t},pt(Dr).tn=function(){return this.lowQuality},pt(Dr).qn=function(t){this.clock=t},pt(Dr).rn=function(){return this.clock},pt(Dr).uw=function(t){this.lights=t},pt(Dr).vw=function(){return this.lights},pt(jr).rw=function(t){t.ci(Gr(),8e4),t.ci(Xr(),7e4)},Ne(pt(Jn),"name",pt(Jn).c4),Ne(pt(Jn),"ordinal",pt(Jn).d4),Ne(pt(Wi),"name",pt(Wi).c4),Ne(pt(Wi),"ordinal",pt(Wi).d4),M=new _i,Y=new ir,mt=new jr,Wr(t),n.$jsExportAll$(t)}(t.exports,p,v)}));const E=A.org.androidworks.engine;A.org.androidworks.example;const b=A.org.androidworks.cartoonplanes;class T extends r{constructor(){super(...arguments),this.rm_Vertex=0,this.rm_AO=1}fillCode(){this.vertexShaderCode="#version 300 es\n            precision highp float;\n            layout(location = 0) in vec2 rm_Vertex;\n            layout(location = 1) in mediump float aAO;\n\n            uniform mediump vec4 color0;\n            uniform mediump vec4 color1;\n            out mediump vec4 vAO;\n            void main() {\n              gl_Position.xy = rm_Vertex;\n              gl_Position.z = 0.5;\n              gl_Position.w = 1.0;\n              vAO = mix(color0, color1, aAO);\n            }",this.fragmentShaderCode="#version 300 es\n            precision mediump float;\n            out vec4 fragColor;\n            in mediump vec4 vAO;\n\n            const float MIN = 0.0;\n            const float MAX = 1.0;\n\n            void main() {\n              fragColor = smoothstep(MIN, MAX, vAO);\n            }"}fillUniformsAttributes(){this.color0=this.getUniform("color0"),this.color1=this.getUniform("color1")}drawVignette(t,e){const n=t.gl;e.bindBuffers(n),n.enableVertexAttribArray(this.rm_Vertex),n.enableVertexAttribArray(this.rm_AO),n.vertexAttribPointer(this.rm_Vertex,2,n.HALF_FLOAT,!1,8,0),n.vertexAttribPointer(this.rm_AO,1,n.UNSIGNED_BYTE,!0,8,6),n.drawElements(n.TRIANGLES,3*e.getNumIndices(),n.UNSIGNED_SHORT,0),t.checkGlError("VertexVignetteShader2 drawVignette")}}class y{constructor(){this.fmVignette=new i,this.color0=[0,0,0,1],this.color1=[1,1,1,1]}async initialize(t){this.shader=new T(t),await this.fmVignette.load("data/models/vignette-round-vntao",t)}setColor0(t,e,n,i){this.color0[0]=t,this.color0[1]=e,this.color0[2]=n,this.color0[3]=i}setColor1(t,e,n,i){this.color1[0]=t,this.color1[1]=e,this.color1[2]=n,this.color1[3]=i}draw(t){if(void 0===this.shader)return;const e=t.gl;e.disable(e.DEPTH_TEST),e.enable(e.BLEND),e.blendFunc(e.ZERO,e.SRC_COLOR),this.shader.use(),e.uniform4fv(this.shader.color0,this.color0),e.uniform4fv(this.shader.color1,this.color1),this.shader.drawVignette(t,this.fmVignette),e.enable(e.DEPTH_TEST),e.disable(e.BLEND)}}const x={ZERO:WebGL2RenderingContext.ZERO,ONE:WebGL2RenderingContext.ONE,SRC_COLOR:WebGL2RenderingContext.SRC_COLOR,ONE_MINUS_SRC_COLOR:WebGL2RenderingContext.ONE_MINUS_SRC_COLOR,DST_COLOR:WebGL2RenderingContext.DST_COLOR,ONE_MINUS_DST_COLOR:WebGL2RenderingContext.ONE_MINUS_DST_COLOR,SRC_ALPHA:WebGL2RenderingContext.SRC_ALPHA,ONE_MINUS_SRC_ALPHA:WebGL2RenderingContext.ONE_MINUS_SRC_ALPHA,DST_ALPHA:WebGL2RenderingContext.DST_ALPHA,ONE_MINUS_DST_ALPHA:WebGL2RenderingContext.ONE_MINUS_DST_ALPHA,CONSTANT_COLOR:WebGL2RenderingContext.CONSTANT_COLOR,ONE_MINUS_CONSTANT_COLOR:WebGL2RenderingContext.ONE_MINUS_CONSTANT_COLOR,CONSTANT_ALPHA:WebGL2RenderingContext.CONSTANT_ALPHA,ONE_MINUS_CONSTANT_ALPHA:WebGL2RenderingContext.ONE_MINUS_CONSTANT_ALPHA,SRC_ALPHA_SATURATE:WebGL2RenderingContext.SRC_ALPHA_SATURATE},R={ADD:WebGL2RenderingContext.FUNC_ADD,SUBTRACT:WebGL2RenderingContext.FUNC_SUBTRACT,REVERSE_SUBTRACT:WebGL2RenderingContext.FUNC_REVERSE_SUBTRACT},F={BACK:WebGL2RenderingContext.BACK,FRONT:WebGL2RenderingContext.FRONT,FRONT_AND_BACK:WebGL2RenderingContext.FRONT_AND_BACK},C={UBYTE:{type:WebGL2RenderingContext.UNSIGNED_BYTE,size:1,normalized:!1},UBYTE2:{type:WebGL2RenderingContext.UNSIGNED_BYTE,size:2,normalized:!1},UBYTE3:{type:WebGL2RenderingContext.UNSIGNED_BYTE,size:3,normalized:!1},UBYTE4:{type:WebGL2RenderingContext.UNSIGNED_BYTE,size:4,normalized:!1},BYTE:{type:WebGL2RenderingContext.BYTE,size:1,normalized:!1},BYTE2:{type:WebGL2RenderingContext.BYTE,size:2,normalized:!1},BYTE3:{type:WebGL2RenderingContext.BYTE,size:3,normalized:!1},BYTE4:{type:WebGL2RenderingContext.BYTE,size:4,normalized:!1},UBYTE_NORMALIZED:{type:WebGL2RenderingContext.UNSIGNED_BYTE,size:1,normalized:!0},UBYTE2_NORMALIZED:{type:WebGL2RenderingContext.UNSIGNED_BYTE,size:2,normalized:!0},UBYTE3_NORMALIZED:{type:WebGL2RenderingContext.UNSIGNED_BYTE,size:3,normalized:!0},UBYTE4_NORMALIZED:{type:WebGL2RenderingContext.UNSIGNED_BYTE,size:4,normalized:!0},BYTE_NORMALIZED:{type:WebGL2RenderingContext.BYTE,size:1,normalized:!0},BYTE2_NORMALIZED:{type:WebGL2RenderingContext.BYTE,size:2,normalized:!0},BYTE3_NORMALIZED:{type:WebGL2RenderingContext.BYTE,size:3,normalized:!0},BYTE4_NORMALIZED:{type:WebGL2RenderingContext.BYTE,size:4,normalized:!0},USHORT:{type:WebGL2RenderingContext.UNSIGNED_SHORT,size:1,normalized:!1},USHORT2:{type:WebGL2RenderingContext.UNSIGNED_SHORT,size:2,normalized:!1},USHORT3:{type:WebGL2RenderingContext.UNSIGNED_SHORT,size:3,normalized:!1},USHORT4:{type:WebGL2RenderingContext.UNSIGNED_SHORT,size:4,normalized:!1},SHORT:{type:WebGL2RenderingContext.SHORT,size:1,normalized:!1},SHORT2:{type:WebGL2RenderingContext.SHORT,size:2,normalized:!1},SHORT3:{type:WebGL2RenderingContext.SHORT,size:3,normalized:!1},SHORT4:{type:WebGL2RenderingContext.SHORT,size:4,normalized:!1},USHORT_NORMALIZED:{type:WebGL2RenderingContext.UNSIGNED_SHORT,size:1,normalized:!0},USHORT2_NORMALIZED:{type:WebGL2RenderingContext.UNSIGNED_SHORT,size:2,normalized:!0},USHORT3_NORMALIZED:{type:WebGL2RenderingContext.UNSIGNED_SHORT,size:3,normalized:!0},USHORT4_NORMALIZED:{type:WebGL2RenderingContext.UNSIGNED_SHORT,size:4,normalized:!0},SHORT_NORMALIZED:{type:WebGL2RenderingContext.SHORT,size:1,normalized:!0},SHORT2_NORMALIZED:{type:WebGL2RenderingContext.SHORT,size:2,normalized:!0},SHORT3_NORMALIZED:{type:WebGL2RenderingContext.SHORT,size:3,normalized:!0},SHORT4_NORMALIZED:{type:WebGL2RenderingContext.SHORT,size:4,normalized:!0},HALF:{type:WebGL2RenderingContext.HALF_FLOAT,size:1,normalized:!1},HALF2:{type:WebGL2RenderingContext.HALF_FLOAT,size:2,normalized:!1},HALF3:{type:WebGL2RenderingContext.HALF_FLOAT,size:3,normalized:!1},HALF4:{type:WebGL2RenderingContext.HALF_FLOAT,size:4,normalized:!1},FLOAT:{type:WebGL2RenderingContext.FLOAT,size:1,normalized:!1},FLOAT2:{type:WebGL2RenderingContext.FLOAT,size:2,normalized:!1},FLOAT3:{type:WebGL2RenderingContext.FLOAT,size:3,normalized:!1},FLOAT4:{type:WebGL2RenderingContext.FLOAT,size:4,normalized:!1},UINT:{type:WebGL2RenderingContext.UNSIGNED_INT,size:1,normalized:!1},UINT2:{type:WebGL2RenderingContext.UNSIGNED_INT,size:2,normalized:!1},UINT3:{type:WebGL2RenderingContext.UNSIGNED_INT,size:3,normalized:!1},UINT4:{type:WebGL2RenderingContext.UNSIGNED_INT,size:4,normalized:!1},INT:{type:WebGL2RenderingContext.INT,size:1,normalized:!1},INT2:{type:WebGL2RenderingContext.INT,size:2,normalized:!1},INT3:{type:WebGL2RenderingContext.INT,size:3,normalized:!1},INT4:{type:WebGL2RenderingContext.INT,size:4,normalized:!1},INT_1010102_NORMALIZED:{type:WebGL2RenderingContext.INT_2_10_10_10_REV,size:1,normalized:!0},UINT_1010102_NORMALIZED:{type:WebGL2RenderingContext.INT_2_10_10_10_REV,size:1,normalized:!0}},S={NEAREST:WebGL2RenderingContext.NEAREST,LINEAR:WebGL2RenderingContext.LINEAR,NEAREST_MIPMAP_NEAREST:WebGL2RenderingContext.NEAREST_MIPMAP_NEAREST,LINEAR_MIPMAP_NEAREST:WebGL2RenderingContext.LINEAR_MIPMAP_NEAREST,NEAREST_MIPMAP_LINEAR:WebGL2RenderingContext.NEAREST_MIPMAP_LINEAR,LINEAR_MIPMAP_LINEAR:WebGL2RenderingContext.LINEAR_MIPMAP_LINEAR};async function M(t){const e=await fetch(t);return await e.arrayBuffer()}function N(t,e,n,i,r,s=n.LINEAR,a=n.LINEAR,o=!1,h="fp16",u=3){const l=n.createTexture();if(null===l)throw new Error("Error creating WebGL texture");const c="fp16"===h?new Uint16Array(e):"fp32"===h?new Float32Array(e):new Int8Array(e);n.bindTexture(n.TEXTURE_2D,l),t.checkGlError("loadFloatingPointTexture 0"),n.pixelStorei(n.UNPACK_ALIGNMENT,1);let _=n.RGB16F,f=n.RGB,d=n.HALF_FLOAT;return 2===u?(_=n.RG16F,f=n.RG):1===u?(_=n.R16F,f=n.RED):4===u&&(_=n.RGBA16F,f=n.RGBA),"snorm8"===h?(_=n.RGB8_SNORM,f=n.RGB,d=n.BYTE,2===u?(_=n.RG8_SNORM,f=n.RG):1===u?(_=n.R8_SNORM,f=n.RED):4===u&&(_=n.RGBA8_SNORM,f=n.RGBA)):"sbyte"===h?(_=n.RGB8I,f=n.RGB_INTEGER,d=n.BYTE,2===u?(_=n.RG8I,f=n.RG_INTEGER):1===u?(_=n.R8I,f=n.RED_INTEGER):4===u&&(_=n.RGBA8I,f=n.RGBA_INTEGER)):"fp32"===h&&(_=n.RGB32F,f=n.RGB,d=n.FLOAT,2===u?(_=n.RG32F,f=n.RG):1===u?(_=n.R32F,f=n.RED):4===u&&(_=n.RGBA32F,f=n.RGBA)),n.texImage2D(n.TEXTURE_2D,0,_,i,r,0,f,d,c),t.checkGlError("loadFloatingPointTexture 1"),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,s),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,a),!0===o?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.REPEAT),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.REPEAT)),t.checkGlError("loadFloatingPointTexture 2"),n.bindTexture(n.TEXTURE_2D,null),l}var $,k,O,P="undefined"!=typeof Float32Array?Float32Array:Array;function I(){var t=new P(16);return P!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function L(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function D(t,e){var n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],h=e[6],u=e[7],l=e[8],c=e[9],_=e[10],f=e[11],d=e[12],m=e[13],w=e[14],g=e[15],p=n*o-i*a,v=n*h-r*a,A=n*u-s*a,E=i*h-r*o,b=i*u-s*o,T=r*u-s*h,y=l*m-c*d,x=l*w-_*d,R=l*g-f*d,F=c*w-_*m,C=c*g-f*m,S=_*g-f*w,M=p*S-v*C+A*F+E*R-b*x+T*y;return M?(M=1/M,t[0]=(o*S-h*C+u*F)*M,t[1]=(r*C-i*S-s*F)*M,t[2]=(m*T-w*b+g*E)*M,t[3]=(_*b-c*T-f*E)*M,t[4]=(h*R-a*S-u*x)*M,t[5]=(n*S-r*R+s*x)*M,t[6]=(w*A-d*T-g*v)*M,t[7]=(l*T-_*A+f*v)*M,t[8]=(a*C-o*R+u*y)*M,t[9]=(i*R-n*C-s*y)*M,t[10]=(d*b-m*A+g*p)*M,t[11]=(c*A-l*b-f*p)*M,t[12]=(o*x-a*F-h*y)*M,t[13]=(n*F-i*x+r*y)*M,t[14]=(m*v-d*E-w*p)*M,t[15]=(l*E-c*v+_*p)*M,t):null}function U(t,e,n){var i=Math.sin(n),r=Math.cos(n),s=e[4],a=e[5],o=e[6],h=e[7],u=e[8],l=e[9],c=e[10],_=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*r+u*i,t[5]=a*r+l*i,t[6]=o*r+c*i,t[7]=h*r+_*i,t[8]=u*r-s*i,t[9]=l*r-a*i,t[10]=c*r-o*i,t[11]=_*r-h*i,t}function B(t,e,n){var i=Math.sin(n),r=Math.cos(n),s=e[0],a=e[1],o=e[2],h=e[3],u=e[4],l=e[5],c=e[6],_=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*r+u*i,t[1]=a*r+l*i,t[2]=o*r+c*i,t[3]=h*r+_*i,t[4]=u*r-s*i,t[5]=l*r-a*i,t[6]=c*r-o*i,t[7]=_*r-h*i,t}function q(){var t=new P(3);return P!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)}),function(){var t=q()}();class z{get angles(){return this._angles}set angles(t){this._angles=t,this._dirty=!0}get position(){return this._position}set position(t){this._position=t,this._dirty=!0}get dirty(){return this._dirty}set dirty(t){this._dirty=t}get viewMat(){if(this._dirty){var t=this._viewMat;L(t),U(t,t,this.angles[0]-Math.PI/2),B(t,t,this.angles[1]),function(t,e,n){var i=Math.sin(n),r=Math.cos(n),s=e[0],a=e[1],o=e[2],h=e[3],u=e[8],l=e[9],c=e[10],_=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*r-u*i,t[1]=a*r-l*i,t[2]=o*r-c*i,t[3]=h*r-_*i,t[8]=s*i+u*r,t[9]=a*i+l*r,t[10]=o*i+c*r,t[11]=h*i+_*r}(t,t,this.angles[2]),function(t,e,n){var i,r,s,a,o,h,u,l,c,_,f,d,m=n[0],w=n[1],g=n[2];e===t?(t[12]=e[0]*m+e[4]*w+e[8]*g+e[12],t[13]=e[1]*m+e[5]*w+e[9]*g+e[13],t[14]=e[2]*m+e[6]*w+e[10]*g+e[14],t[15]=e[3]*m+e[7]*w+e[11]*g+e[15]):(i=e[0],r=e[1],s=e[2],a=e[3],o=e[4],h=e[5],u=e[6],l=e[7],c=e[8],_=e[9],f=e[10],d=e[11],t[0]=i,t[1]=r,t[2]=s,t[3]=a,t[4]=o,t[5]=h,t[6]=u,t[7]=l,t[8]=c,t[9]=_,t[10]=f,t[11]=d,t[12]=i*m+o*w+c*g+e[12],t[13]=r*m+h*w+_*g+e[13],t[14]=s*m+u*w+f*g+e[14],t[15]=a*m+l*w+d*g+e[15])}(t,t,[-this.position[0],-this.position[1],-this.position[2]]),this._dirty=!1}return this._viewMat}constructor(t){var e,n;this.options=t,this._dirty=!0,this._angles=q(),this._position=q(),this.speed=100,this.rotationSpeed=.025,this._cameraMat=I(),this._viewMat=I(),this.projectionMat=I(),this.pressedKeys=new Array,this.vec3Temp1=q(),this.vec3Temp2=q(),this.canvas=t.canvas,this.speed=null!==(e=t.movementSpeed)&&void 0!==e?e:100,this.rotationSpeed=null!==(n=t.rotationSpeed)&&void 0!==n?n:.025;let i,r,s=!1;window.addEventListener("keydown",(t=>this.pressedKeys[t.keyCode]=!0)),window.addEventListener("keyup",(t=>this.pressedKeys[t.keyCode]=!1)),this.canvas.addEventListener("contextmenu",(t=>t.preventDefault())),this.canvas.addEventListener("mousedown",(t=>{3===t.which&&(s=!0),i=t.pageX,r=t.pageY})),this.canvas.addEventListener("mousemove",(t=>{if(s){let e=t.pageX-i,n=t.pageY-r;i=t.pageX,r=t.pageY,this.angles[1]+=e*this.rotationSpeed,this.angles[1]<0&&(this.angles[1]+=2*Math.PI),this.angles[1]>=2*Math.PI&&(this.angles[1]-=2*Math.PI),this.angles[0]+=n*this.rotationSpeed,this.angles[0]<.5*-Math.PI&&(this.angles[0]=.5*-Math.PI),this.angles[0]>.5*Math.PI&&(this.angles[0]=.5*Math.PI),this._dirty=!0}})),this.canvas.addEventListener("mouseup",(t=>s=!1))}update(t){this.vec3Temp1[0]=0,this.vec3Temp1[1]=0,this.vec3Temp1[2]=0;let e=this.speed/1e3*t;if(this.pressedKeys[16]&&(e*=5),this.pressedKeys["W".charCodeAt(0)]&&(this.vec3Temp1[1]+=e),this.pressedKeys["S".charCodeAt(0)]&&(this.vec3Temp1[1]-=e),this.pressedKeys["A".charCodeAt(0)]&&(this.vec3Temp1[0]-=e),this.pressedKeys["D".charCodeAt(0)]&&(this.vec3Temp1[0]+=e),this.pressedKeys[32]&&(this.vec3Temp1[2]+=e),this.pressedKeys["C".charCodeAt(0)]&&(this.vec3Temp1[2]-=e),0!==this.vec3Temp1[0]||0!==this.vec3Temp1[1]||0!==this.vec3Temp1[2]){let t=this._cameraMat;if(L(t),U(t,t,this.angles[0]),B(t,t,this.angles[1]),D(t,t),function(t,e,n){var i=e[0],r=e[1],s=e[2],a=n[3]*i+n[7]*r+n[11]*s+n[15];a=a||1,t[0]=(n[0]*i+n[4]*r+n[8]*s+n[12])/a,t[1]=(n[1]*i+n[5]*r+n[9]*s+n[13])/a,t[2]=(n[2]*i+n[6]*r+n[10]*s+n[14])/a}(this.vec3Temp1,this.vec3Temp1,t),function(t,e,n){t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2]}(this.position,this.position,this.vec3Temp1),this.options.boundingBox){const{boundingBox:t}=this.options;this.position[0]<t.minX&&(this.position[0]=t.minX),this.position[0]>t.maxX&&(this.position[0]=t.maxX),this.position[1]<t.minY&&(this.position[1]=t.minY),this.position[1]>t.maxY&&(this.position[1]=t.maxY),this.position[2]<t.minZ&&(this.position[2]=t.minZ),this.position[2]>t.maxZ&&(this.position[2]=t.maxZ)}this._dirty=!0}}}!function(t){t[t.Free=0]="Free",t[t.Predefined=1]="Predefined"}($||($={}));class j{constructor(t,e){this.renderer=t,this.options=e,this.matCamera=I(),this.matInvCamera=new Float32Array(16),this.vec3Eye=new Float32Array(3),this.vec3Rotation=new Float32Array(3),this.enabled=!1,this.mode=$.Predefined,this.setupControls()}enable(){this.enabled=!0}disable(){this.enabled=!1,this.renderer.setCustomCamera(void 0)}setupControls(){var t;this.matCamera=function(t){var e=new P(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}(this.renderer.getViewMatrix()),this.mode=$.Free,D(this.matInvCamera,this.matCamera),function(t,e){t[0]=e[12],t[1]=e[13],t[2]=e[14]}(this.vec3Eye,this.matInvCamera),function(t,e){var n=e[0],i=e[1],r=e[2],s=n*n+i*i+r*r;s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s}(this.vec3Rotation,this.vec3Eye),function(t,e,n){t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n}(this.vec3Rotation,this.vec3Rotation,-1),this.fpsCamera=null!==(t=this.fpsCamera)&&void 0!==t?t:new z(this.options),this.fpsCamera.position=this.vec3Eye;const e=t=>{this.mode===$.Free&&(this.fpsCamera.update(16),this.matCamera=this.fpsCamera.viewMat,this.enabled&&this.renderer.setCustomCamera(this.matCamera,this.fpsCamera.position,this.fpsCamera.angles),requestAnimationFrame(e))};e()}updatePosition(t){this.fpsCamera&&(this.fpsCamera.position[0]=t[0],this.fpsCamera.position[1]=t[1],this.fpsCamera.position[2]=t[2],this.fpsCamera.dirty=!0,this.fpsCamera.update(0))}updateRotation(t){this.fpsCamera&&(this.fpsCamera.angles[0]=t[0],this.fpsCamera.angles[1]=t[1],this.fpsCamera.angles[2]=t[2],this.fpsCamera.dirty=!0,this.fpsCamera.update(0))}}!function(t){t[t.Rotating=0]="Rotating",t[t.Random=1]="Random",t[t.Orbiting=2]="Orbiting",t[t.FPS=3]="FPS",t[t.FrontEnd=4]="FrontEnd"}(k||(k={}));class H extends r{getKernel(){return"const int SAMPLE_COUNT = 6;\nconst float OFFSETS[6] = float[6](\n    -4.455269417428358,\n    -2.4751038298192056,\n    -0.4950160492928827,\n    1.485055021558738,\n    3.465172537482815,\n    5.0\n);\nconst float WEIGHTS[6] = float[6](\n    0.14587920530480702,\n    0.19230308352110734,\n    0.21647621943673803,\n    0.20809835496561988,\n    0.17082879595769634,\n    0.06641434081403137\n);"}fillCode(){this.vertexShaderCode="#version 300 es\n            precision highp float;\n            out vec2 vTextureCoord;\n\n            const vec2 vertices[4] = vec2[4](\n              vec2(-1.0f, -1.0f),\n              vec2( 1.0f, -1.0f),\n              vec2(-1.0f,  1.0f),\n              vec2( 1.0f,  1.0f)\n            );\n            const vec2 uvs[4] = vec2[4](\n              vec2(0.0f, 0.0f),\n              vec2(1.0f, 0.0f),\n              vec2(0.0f, 1.0f),\n              vec2(1.0f, 1.0f)\n            );\n\n            void main() {\n              gl_Position = vec4(vertices[gl_VertexID], 0.0f, 1.0f);\n              vTextureCoord = uvs[gl_VertexID];\n            }",this.fragmentShaderCode=`#version 300 es\n            precision highp float;\n\n            ${this.getKernel()}\n\n            // blurDirection is:\n            //     vec2(1,0) for horizontal pass\n            //     vec2(0,1) for vertical pass\n            // The sourceTexture to be blurred MUST use linear filtering!\n            // pixelCoord is in [0..1]\n            mediump vec4 blur(in sampler2D sourceTexture, vec2 blurDirection, vec2 pixelCoord)\n            {\n                mediump vec4 result = vec4(0.0);\n                vec2 size = vec2(textureSize(sourceTexture, 0));\n                for (int i = 0; i < SAMPLE_COUNT; ++i)\n                {\n                    vec2 offset = blurDirection * OFFSETS[i] / size;\n                    float weight = WEIGHTS[i];\n                    result += texture(sourceTexture, pixelCoord + offset) * weight;\n                }\n                return result;\n            }\n\n            in vec2 vTextureCoord;\n            uniform sampler2D sTexture;\n            uniform vec2 direction;\n            uniform mediump float brightness;\n            out mediump vec4 fragColor;\n\n            void main() {\n                fragColor = blur(sTexture, direction, vTextureCoord);\n                fragColor *= brightness;\n            }`}fillUniformsAttributes(){this.sTexture=this.getUniform("sTexture"),this.brightness=this.getUniform("brightness"),this.direction=this.getUniform("direction")}}class V extends H{getKernel(){return"const int SAMPLE_COUNT = 5;\nconst float OFFSETS[5] = float[5](\n    -3.4048471718931532,\n    -1.4588111840004858,\n    0.48624268466894843,\n    2.431625915613778,\n    4.\n);\nconst float WEIGHTS[5] = float[5](\n    0.15642123799829394,\n    0.26718801880015064,\n    0.29738065394682034,\n    0.21568339342709997,\n    0.06332669582763516\n);"}}class G extends H{getKernel(){return"const int SAMPLE_COUNT = 4;\nconst float OFFSETS[4] = float[4](\n    -2.431625915613778,\n    -0.4862426846689484,\n    1.4588111840004858,\n    3.\n);\nconst float WEIGHTS[4] = float[4](\n    0.24696196374528634,\n    0.34050702333458593,\n    0.30593582919679174,\n    0.10659518372333592\n);"}}class X extends H{getKernel(){return"const int SAMPLE_COUNT = 3;\nconst float OFFSETS[3] = float[3](\n    -1.4588111840004858,\n    0.48624268466894843,\n    2.\n);\nconst float WEIGHTS[3] = float[3](\n    0.38883081312055,\n    0.43276926113573877,\n    0.17839992574371122\n);"}}!function(t){t[t.KERNEL_5=0]="KERNEL_5",t[t.KERNEL_4=1]="KERNEL_4",t[t.KERNEL_3=2]="KERNEL_3",t[t.KERNEL_2=3]="KERNEL_2"}(O||(O={}));class W{constructor(t,e,n){this.gl=t,this.width=0,this.height=0,this.width=n>1?Math.round(e*n):e,this.height=n>1?e:Math.round(e/n),this.blurShader5=new H(t),this.blurShader4=new V(t),this.blurShader3=new G(t),this.blurShader2=new X(t),this.textureOffscreen=w.createNpotTexture(t,this.width,this.height,!1),this.fboOffscreen=new d(t),this.fboOffscreen.textureHandle=this.textureOffscreen,this.fboOffscreen.width=this.width,this.fboOffscreen.height=this.height,this.fboOffscreen.createGLData(this.width,this.height),this.textureOffscreenMsaa=w.createNpotTexture(t,this.width,this.height,!1),this.fboOffscreenMsaa=new m(t),this.fboOffscreenMsaa.textureHandle=this.textureOffscreenMsaa,this.fboOffscreenMsaa.width=this.width,this.fboOffscreenMsaa.height=this.height,this.fboOffscreenMsaa.createGLData(this.width,this.height),this.textureOffscreenVert=w.createNpotTexture(t,this.width,this.height,!1),this.fboOffscreenVert=new d(t),this.fboOffscreenVert.textureHandle=this.textureOffscreenVert,this.fboOffscreenVert.width=this.width,this.fboOffscreenVert.height=this.height,this.fboOffscreenVert.createGLData(this.width,this.height),this.textureOffscreenVertMsaa=w.createNpotTexture(t,this.width,this.height,!1),this.fboOffscreenVertMsaa=new d(t),this.fboOffscreenVertMsaa.textureHandle=this.textureOffscreenVertMsaa,this.fboOffscreenVertMsaa.width=this.width,this.fboOffscreenVertMsaa.height=this.height,this.fboOffscreenVertMsaa.createGLData(this.width,this.height),console.log(`Created GaussianBlurRenderPass with dimensions ${this.width}x${this.height}`)}switchToOffscreenFBO(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fboOffscreen.framebufferHandle),this.gl.viewport(0,0,this.width,this.height)}switchToOffscreenFBOMsaa(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fboOffscreenMsaa.framebufferMsaaHandle),this.gl.viewport(0,0,this.width,this.height)}blitToTexture(){this.gl.bindFramebuffer(this.gl.READ_FRAMEBUFFER,this.fboOffscreenMsaa.framebufferMsaaHandle),this.gl.bindFramebuffer(this.gl.DRAW_FRAMEBUFFER,this.fboOffscreen.framebufferHandle),this.gl.clearBufferfv(this.gl.COLOR,0,[0,0,0,1]),this.gl.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,this.gl.COLOR_BUFFER_BIT,this.gl.NEAREST)}get texture(){return this.textureOffscreen}getShader(t){switch(t){case O.KERNEL_2:return this.blurShader2;case O.KERNEL_3:return this.blurShader3;default:case O.KERNEL_4:return this.blurShader4;case O.KERNEL_5:return this.blurShader5}}setTexture2D(t,e,n){this.gl.activeTexture(this.gl.TEXTURE0+t),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.uniform1i(n,t)}blur(t,e){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null),this.gl.disable(this.gl.BLEND);let n=this.getShader(e);n.use(),this.gl.uniform1f(n.brightness,t),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fboOffscreenVert.framebufferHandle),this.gl.viewport(0,0,this.width,this.height),this.gl.uniform2f(n.direction,0,1),this.setTexture2D(0,this.textureOffscreen,n.sTexture),this.gl.disable(this.gl.DEPTH_TEST),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fboOffscreen.framebufferHandle),this.gl.viewport(0,0,this.width,this.height),this.gl.uniform2f(n.direction,1,0),this.setTexture2D(0,this.textureOffscreenVert,n.sTexture),this.gl.disable(this.gl.DEPTH_TEST),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}checkGlError(t){let e;for(;(e=this.gl.getError())!==this.gl.NO_ERROR;)console.error(`${t}: glError ${e}`)}}class Y{constructor(t){this.gl=t,this.matrix=I(),L(this.matrix),this.initBuffer()}initBuffer(){this.quadTriangles=new Float32Array([-1,-1,0,0,0,1,-1,0,1,0,-1,1,0,0,1,1,1,0,1,1]),this.vertexDataBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexDataBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.quadTriangles,this.gl.STATIC_DRAW)}draw(t){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexDataBuffer),this.gl.enableVertexAttribArray(t.rm_Vertex),this.gl.vertexAttribPointer(t.rm_Vertex,3,this.gl.FLOAT,!1,20,0),this.gl.enableVertexAttribArray(t.rm_TexCoord0),this.gl.vertexAttribPointer(t.rm_TexCoord0,2,this.gl.FLOAT,!1,20,12),this.gl.uniformMatrix4fv(t.view_proj_matrix,!1,this.matrix),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}}const Z={KERNEL_2:O.KERNEL_2,KERNEL_3:O.KERNEL_3,KERNEL_4:O.KERNEL_4,KERNEL_5:O.KERNEL_5};class K extends r{constructor(t,e=[],n=[]){super(t),this.preprocessingVertex=e,this.preprocessingFragment=n,this.initShader()}initShader(){void 0!==this.preprocessingVertex&&void 0!==this.preprocessingFragment&&(this.preprocessCode(),super.initShader())}preprocessCode(){var t,e;for(const e of null!==(t=this.preprocessingVertex)&&void 0!==t?t:[])this.vertexShaderCode=this.vertexShaderCode.replace(e.stringToReplace,e.valueToReplaceWith);for(const t of null!==(e=this.preprocessingFragment)&&void 0!==e?e:[])this.fragmentShaderCode=this.fragmentShaderCode.replace(t.stringToReplace,t.valueToReplaceWith)}}class Q extends K{fillCode(){this.vertexShaderCode="precision highp float;\n            uniform mat4 view_proj_matrix;\n            attribute vec4 rm_Vertex;\n            attribute vec2 rm_TexCoord0;\n            varying vec2 vTextureCoord;\n            /*UNIFORMS*/\n\n            void main() {\n              gl_Position = view_proj_matrix * rm_Vertex;\n              vTextureCoord = rm_TexCoord0;\n              /*POST_VERTEX*/;\n            }",this.fragmentShaderCode="precision mediump float;\n            varying vec2 vTextureCoord;\n            uniform sampler2D sTexture;\n            /*UNIFORMS*/\n\n            void main() {\n              gl_FragColor = texture2D(sTexture, vTextureCoord);\n              /*POST_FRAGMENT*/;\n            }"}fillUniformsAttributes(){this.rm_Vertex=this.getAttrib("rm_Vertex"),this.rm_TexCoord0=this.getAttrib("rm_TexCoord0"),this.view_proj_matrix=this.getUniform("view_proj_matrix"),this.sTexture=this.getUniform("sTexture"),this.attributes=[this.rm_Vertex,this.rm_TexCoord0],this.typedAttributes={[E.AttributeType.VERTEX.ordinal]:this.rm_Vertex,[E.AttributeType.UV0.ordinal]:this.rm_TexCoord0},this.uniforms=[this.view_proj_matrix,this.sTexture]}}class J extends f{constructor(){super(),this.framesCount=0,this.models=[],this.textures=[],this.shaders=[],this.cameraMode=k.FrontEnd,this.cameraPosition=q(),this.cameraRotation=q(),this.SCENE_BOUNDING_BOX={minX:-25e3,maxX:25e3,minY:-25e3,maxY:25e3,minZ:-11e3,maxZ:23e3},this.FREE_MOVEMENT_SPEED=1e3,this.scene=this.createScene()}onBeforeInit(){}onAfterInit(){this.freeMovement=new j(this,{canvas:this.canvas,movementSpeed:this.FREE_MOVEMENT_SPEED,rotationSpeed:.006,boundingBox:this.SCENE_BOUNDING_BOX})}onInitError(){var t,e;null===(t=document.getElementById("canvasGL"))||void 0===t||t.classList.add("hidden"),null===(e=document.getElementById("alertError"))||void 0===e||e.classList.remove("hidden")}initShaders(){if(void 0===this.scene)return;this.gl;const t=this.scene.shaders.toArray();this.shaders.length=0;for(const e of t)e.id=this.shaders.length,this.shaders.push(this.createShader(e.name));console.log("Created scene shaders.")}async loadSceneModels(){if(void 0===this.scene)return;const t=this.scene.meshes.toArray();this.models.length=0;for(const e of t){e.id=this.models.length;const t=new i;await t.load(`data/models/${e.fileName}`,this.gl),this.models.push(t)}}async loadSceneTextures(){if(void 0===this.scene)return;for(const t of this.textures)this.gl.deleteTexture(t);this.textures.length=0;const t=[],e=this.scene.textures.toArray();for(const n of e)t.push(this.loadTexture(n));this.textures=await Promise.all(t);for(let t=0;t<this.textures.length;t++)e[t].id=t}async loadTexture(t){const e=this.gl,i=t.format.name;if("TEX_2D"===t.type.name){if("RGBA8"===i||"RGB8"===i||"ASTC"===i)return async function(t,e){t.format.name;const i=S[t.minFilter.name],r=S[t.magFilter.name],s="CLAMP_TO_EDGE"===t.wrapping.name,a=await n.load(`data/textures/${t.fileName}.webp`,e,t.mipmaps>0?e.LINEAR:i,t.mipmaps>0?e.LINEAR:r,s);if(t.mipmaps>0&&(e.bindTexture(e.TEXTURE_2D,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)),0!==t.anisotropy){const n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");if(n){const i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT);e.texParameterf(e.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(i,t.anisotropy))}}return a}(t,e);if("RGB16F"===i)return async function(t,e,n){t.format.name;const i=S[t.minFilter.name],r=S[t.magFilter.name],s="CLAMP_TO_EDGE"===t.wrapping.name,a=`data/textures/${t.fileName}`,o=N(n,await M(a),e,t.width,t.height,i,r,s,"fp16",3);return console.log(`Loaded texture ${a} [${t.width}x${t.height}]`),o}(t,e,this);if("RGBA16F"===i)return async function(t,e,n){t.format.name;const i=S[t.minFilter.name],r=S[t.magFilter.name],s="CLAMP_TO_EDGE"===t.wrapping.name,a=`data/textures/${t.fileName}`,o=N(n,await M(a),e,t.width,t.height,i,r,s,"fp16",4);return console.log(`Loaded texture ${a} [${t.width}x${t.height}]`),o}(t,e,this);if("RGB32F"===i)return async function(t,e,n){t.format.name;const i=S[t.minFilter.name],r=S[t.magFilter.name],s="CLAMP_TO_EDGE"===t.wrapping.name,a=`data/textures/${t.fileName}`,o=N(n,await M(a),e,t.width,t.height,i,r,s,"fp32",3);return console.log(`Loaded texture ${a} [${t.width}x${t.height}]`),o}(t,e,this)}else if("CUBEMAP"===t.type.name)return async function(t,e){return await n.loadCubemap(`data/textures/${t.fileName}`,e,"webp")}(t,e);throw new Error(`Unsupported texture type ${t.type.name}`)}async loadData(){var t,e,n;void 0!==this.scene&&(this.vignette=new y,await this.vignette.initialize(this.gl),await Promise.all([this.loadSceneModels(),this.loadSceneTextures()]),console.log("Loaded scene data."),this.canvas&&(null===(t=this.scene)||void 0===t||t.updateViewportSize(this.canvas.width,this.canvas.height),null===(e=this.scene)||void 0===e||e.initialize()),this.fullscreenQuad=new Y(this.gl),this.shaderDiffuse=new Q(this.gl),this.scene.loaded=!0,null===(n=this.readyCallback)||void 0===n||n.call(this))}resizeCanvas(){var t;if(void 0===this.canvas)return;null===(t=this.scene)||void 0===t||t.updateViewportSize(this.canvas.width,this.canvas.height);const e=this.canvas.width,n=this.canvas.height;super.resizeCanvas(),e===this.canvas.width&&n===this.canvas.height||(this.blurredPass=void 0)}animate(){var t;const e=(new Date).getTime();null===(t=this.scene)||void 0===t||t.updateTimers(e)}drawScene(){var t;(null===(t=this.scene)||void 0===t?void 0:t.loaded)&&(this.gl.colorMask(!0,!0,!0,!0),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.depthMask(!0),this.gl.enable(this.gl.DEPTH_TEST),this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.BACK),this.gl.disable(this.gl.BLEND),this.processCommands(this.commands),this.framesCount++)}get commands(){return this.scene.commands.toArray()}processCommands(t){for(const e of t)if(e.enabled)if(e instanceof E.commands.BlurredPassCommand)this.processBlurredPassCommands(e);else if(e instanceof E.commands.GroupCommand)this.processCommands(e.commands.toArray());else if(e instanceof E.commands.ClearColorCommand){const{color:t}=e;this.gl.clearColor(t.r,t.g,t.b,t.a)}else if(e instanceof E.commands.ClearCommand)switch(e.clearType){case E.commands.ClearCommandClearType.COLOR:this.gl.clear(this.gl.COLOR_BUFFER_BIT);break;case E.commands.ClearCommandClearType.DEPTH:this.gl.clear(this.gl.DEPTH_BUFFER_BIT);break;case E.commands.ClearCommandClearType.COLOR_AND_DEPTH:this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}else e instanceof E.commands.VignetteCommand?this.drawVignette(e):e instanceof E.commands.DrawMeshCommand?this.drawMesh(e):e instanceof E.commands.DrawBlurredCommand?this.processDrawBlurred(e):this.processCustomCommand(e)}processBlurredPassCommands(t){var e,n,i,r;null!==(e=this.blurredPass)&&void 0!==e||(this.blurredPass=new W(this.gl,t.minSize,this.canvas.width/this.canvas.height)),null===(n=this.blurredPass)||void 0===n||n.switchToOffscreenFBOMsaa(),this.processCommands(t.commands.toArray()),this.blurredPass.blitToTexture(),null===(i=this.blurredPass)||void 0===i||i.blur(t.brightness,Z[t.blurSize.name]),t.additionalBlur&&(null===(r=this.blurredPass)||void 0===r||r.blur(1,Z.KERNEL_2)),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.viewport(0,0,this.canvas.width,this.canvas.height)}processDrawBlurred(t){var e;this.updateBlending(t.blending),this.gl.disable(this.gl.DEPTH_TEST),this.gl.depthMask(!1),this.unbindBuffers(),this.shaderDiffuse.use(),this.setTexture2D(0,this.blurredPass.texture,this.shaderDiffuse.sTexture),null===(e=this.fullscreenQuad)||void 0===e||e.draw(this.shaderDiffuse)}drawVignette(t){var e,n,i;const{color0:r,color1:s}=t;null===(e=this.vignette)||void 0===e||e.setColor0(r.r,r.g,r.b,r.a),null===(n=this.vignette)||void 0===n||n.setColor1(s.r,s.g,s.b,s.a),null===(i=this.vignette)||void 0===i||i.draw(this)}drawMesh(t){const e=this.shaders[t.state.shader.id];if(void 0!==e)if(t.mesh){const n=this.models[t.mesh.id];void 0!==n&&(this.updateBlending(t.state.blending),this.updateDepthMode(t.state.depthMode),this.updateCulling(t.state.culling),e.use(),n.bindBuffers(this.gl),this.setAttributes(e,t.state.vertexAttributes),this.setUniforms(e,t.uniforms.toArray()),this.gl.drawElements(this.gl[t.primitiveType.name],3*n.getNumIndices(),this.gl.UNSIGNED_SHORT,0))}else this.updateBlending(t.state.blending),this.updateDepthMode(t.state.depthMode),this.updateCulling(t.state.culling),e.use(),this.setUniforms(e,t.uniforms.toArray()),this.gl.drawElements(this.gl[t.primitiveType.name],t.primitiveCount,this.gl.UNSIGNED_SHORT,0)}setAttributes(t,e){var n,i,r;if(null===e)return;const s=e.attributes.toArray();for(const a of s){const s=null!==(i=null===(n=t.typedAttributes)||void 0===n?void 0:n[a.type.ordinal])&&void 0!==i?i:null===(r=t.attributes)||void 0===r?void 0:r[a.index];if(void 0===s)continue;const{type:o,size:h,normalized:u}=C[a.format.name];this.gl.enableVertexAttribArray(s),this.gl.vertexAttribPointer(s,h,o,u,e.stride,a.offset)}}setUniforms(t,e){if(void 0===t.uniforms)return;let n=0;const i=this.gl;for(let r=0;r<e.length;r++){const s=e[r],a=t.uniforms[r];if(s instanceof E.UniformFloatValue)switch(s.value.length){case 1:i.uniform1fv(a,s.value);break;case 2:i.uniform2fv(a,s.value);break;case 3:i.uniform3fv(a,s.value);break;case 4:i.uniform4fv(a,s.value);break;case 16:i.uniformMatrix4fv(a,!1,s.value)}else if(s instanceof E.UniformTextureValue)"TEX_2D"===s.value.type.name?this.setTexture2D(n++,this.textures[s.value.id],a):"CUBEMAP"===s.value.type.name&&this.setTextureCubemap(n++,this.textures[s.value.id],a);else if(s instanceof E.UniformIntValue)switch(s.value.length){case 1:i.uniform1iv(a,s.value);break;case 2:i.uniform2iv(a,s.value);break;case 3:i.uniform3iv(a,s.value);break;case 4:i.uniform4iv(a,s.value)}}}updateBlending(t){const e=this.gl;t.enabled?(e.enable(e.BLEND),t.isSeparateAlpha?(e.blendEquationSeparate(R[t.equationColor.name],R[t.equationAlpha.name]),e.blendFuncSeparate(x[t.sourceFactorColor.name],x[t.destinationFactorColor.name],x[t.sourceFactorAlpha.name],x[t.destinationFactorAlpha.name])):(e.blendEquation(R[t.equationColor.name]),e.blendFunc(x[t.sourceFactorColor.name],x[t.destinationFactorColor.name]))):e.disable(e.BLEND)}updateCulling(t){const e=this.gl;"DISABLED"===t.name?e.disable(e.CULL_FACE):(e.enable(e.CULL_FACE),e.cullFace(F[t.name]))}updateDepthMode(t){const e=this.gl;t.depthTest?(e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clearDepth(1)):e.disable(e.DEPTH_TEST),t.depthWrite?e.depthMask(!0):e.depthMask(!1)}processCustomCommand(t){}checkGlError(t){}set ready(t){this.readyCallback=t}setCustomCamera(t,e,n){if(void 0!==this.scene)if(this.customCamera=t,this.cameraPosition=null!=e?e:this.cameraPosition,this.cameraRotation=null!=n?n:this.cameraRotation,void 0!==this.customCamera){this.scene.useExternalViewMatrix=!0;for(let t=0;t<16;t++)this.scene.matView[t]=this.customCamera[t]}else this.scene.useExternalViewMatrix=!1}setCameraMode(t){var e,n,i,r;t===k.FPS?(null===(e=this.freeMovement)||void 0===e||e.updatePosition([0,0,0]),null===(n=this.freeMovement)||void 0===n||n.updateRotation([0,0,0]),null===(i=this.freeMovement)||void 0===i||i.enable()):t===k.FrontEnd&&(null===(r=this.freeMovement)||void 0===r||r.disable()),this.cameraMode=t}get currentCameraMode(){return this.cameraMode}set currentCameraMode(t){this.setCameraMode(t)}}class tt extends K{fillCode(){this.vertexShaderCode="precision highp float;\n            uniform mat4 view_proj_matrix;\n            attribute vec4 rm_Vertex;\n            attribute vec2 rm_TexCoord0;\n            varying vec2 vTextureCoord;\n            /*UNIFORMS*/\n\n            void main() {\n              gl_Position = view_proj_matrix * rm_Vertex;\n              vTextureCoord = rm_TexCoord0;\n              /*POST_VERTEX*/;\n            }",this.fragmentShaderCode="precision mediump float;\n            varying vec2 vTextureCoord;\n            uniform sampler2D sTexture;\n            uniform sampler2D sTexture2;\n            uniform sampler2D sNoise;\n            uniform float transition;\n            /*UNIFORMS*/\n\n            void main() {\n                vec4 color1 = texture2D(sTexture, vTextureCoord);\n                vec4 color2 = texture2D(sTexture2, vTextureCoord);\n                float r = texture2D(sNoise, vTextureCoord).r;\n\n                r -= 0.5;\n                r += transition;\n                r = smoothstep(0.49, 0.51, r);\n                // r = step(0.5, r);\n\n                vec4 mixed = mix(color1, color2, r);\n                mixed *= smoothstep(0.15, 0.25, abs(r - 0.5));\n\n                gl_FragColor = mixed;\n                /*POST_FRAGMENT*/;\n            }"}fillUniformsAttributes(){const t=this.getAttrib("rm_Vertex"),e=this.getAttrib("rm_TexCoord0"),n=this.getUniform("view_proj_matrix"),i=this.getUniform("sTexture"),r=this.getUniform("sTexture2"),s=this.getUniform("sNoise"),a=this.getUniform("transition");this.attributes=[t,e],this.typedAttributes={[E.AttributeType.VERTEX.ordinal]:t,[E.AttributeType.UV0.ordinal]:e},this.uniforms=[n,i,r,s,a]}}class et extends K{fillCode(){this.vertexShaderCode="precision highp float;\n        attribute vec4 rm_Vertex;\n        attribute vec4 rm_Normal;\n\n        uniform mat4 view_proj_matrix;\n        uniform float uThickness1; // 0.002\n\n        void main() {\n            vec4 pos = vec4(rm_Vertex.xyz, 1.0);\n            float dist = (view_proj_matrix * pos).w / 3000.;\n            pos += rm_Normal * uThickness1 * dist;\n            // pos += rm_Normal * uThickness1;\n            pos.w = 1.0;\n\n            gl_Position = view_proj_matrix * pos;\n        }",this.fragmentShaderCode="precision mediump float;\n        uniform vec4 color;\n\n        void main() {\n            gl_FragColor = color;\n        }"}fillUniformsAttributes(){const t=this.getAttrib("rm_Vertex"),e=this.getAttrib("rm_Normal"),n=this.getUniform("view_proj_matrix"),i=this.getUniform("uThickness1"),r=this.getUniform("color");this.attributes=[t,e],this.typedAttributes={[E.AttributeType.VERTEX.ordinal]:t,[E.AttributeType.NORMAL.ordinal]:e},this.uniforms=[n,i,r]}}class nt extends K{fillCode(){this.vertexShaderCode="precision highp float;\n            uniform mat4 view_proj_matrix;\n            attribute vec4 rm_Vertex;\n            attribute vec2 rm_TexCoord0;\n            varying vec2 vTextureCoord;\n            /*UNIFORMS*/\n\n            void main() {\n              gl_Position = view_proj_matrix * rm_Vertex;\n              vTextureCoord = rm_TexCoord0;\n              /*POST_VERTEX*/;\n            }",this.fragmentShaderCode="precision mediump float;\n            varying vec2 vTextureCoord;\n            uniform sampler2D sTexture;\n            uniform float brightness;\n\n            void main() {\n              vec4 color = texture2D(sTexture, vTextureCoord);\n              gl_FragColor = vec4(color.rgb * brightness, 1. - color.r);\n            }"}fillUniformsAttributes(){const t=this.getAttrib("rm_Vertex"),e=this.getAttrib("rm_TexCoord0"),n=this.getUniform("view_proj_matrix"),i=this.getUniform("sTexture"),r=this.getUniform("brightness");this.attributes=[t,e],this.typedAttributes={[E.AttributeType.VERTEX.ordinal]:t,[E.AttributeType.UV0.ordinal]:e},this.uniforms=[n,i,r]}}class it extends J{constructor(){super(),this.SCENE_BOUNDING_BOX={minX:-5e3,maxX:5e3,minY:-5e3,maxY:5e3,minZ:-5e3,maxZ:5e3},this.FREE_MOVEMENT_SPEED=800,this.initCommands()}initCommands(){}createScene(){const t=new b.CartoonPlanesScene;return t.changePlanes(0,0),t.randomizePropTexture(),t}createShader(t){if("Diffuse"===t)return new Q(this.gl,[]);if("SkyTransition"===t)return new tt(this.gl,[]);if("Outline"===t)return new et(this.gl,[]);if("Prop"===t)return new nt(this.gl,[]);throw new Error(`Unknown shader type ${t}`)}get settings(){return this.scene.settings}async randomizeSky(){var t;if(void 0===this.scene)return;const e=(+this.scene.texSky.fileName.charAt(this.scene.texSky.fileName.length-1)+1+Math.trunc(5*Math.random()))%7,n=["day","night","morning"][Math.trunc(3*Math.random())];this.scene.texSky.id;const i=this.scene.texSky1.id,r=this.scene.texSky2.id;this.scene.texSky1.fileName;const s=this.scene.texSky2.fileName,a=`sky/${n}/${e+1}`;this.scene.texSky2.fileName=a;const o=await this.loadTexture(this.scene.texSky2);this.scene.texSky.id=r,this.scene.texSky.fileName=s,this.scene.texSky1.id=r,this.scene.texSky1.fileName=s,this.gl.deleteTexture(this.textures[i]),this.textures[i]=o,this.scene.texSky2.id=i,null===(t=this.scene)||void 0===t||t.changeSky()}async randomizePlane(){var t;if(!(null===(t=this.scene)||void 0===t?void 0:t.canChangePlanes()))return;const{currentPlane:e,nextPlane:n}=this.scene.settings;this.scene;const r=this.scene.texPlane1.id,s=this.scene.texPlane2.id,a=this.scene.meshPlane1.id,o=this.scene.meshPlane2.id,h=(n+1+Math.trunc(8*Math.random()))%10,u=new i;await u.load(`data/models/plane${h}`,this.gl),this.scene.texPlane2.fileName=`plane${h}`;const l=await this.loadTexture(this.scene.texPlane2);this.scene.meshPlane1.id=o;const c=this.textures[r];this.textures[r]=this.textures[s],this.gl.deleteTexture(c),this.textures[s]=l,this.models[a]=u,this.scene.meshPlane2.id=a,this.scene.changePlanes(n,h),this.processCommands(this.commands)}}
/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.19.2
 * @author George Michael Brower
 * @license MIT
 */class rt{constructor(t,e,n,i,r="div"){this.parent=t,this.object=e,this.property=n,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement(r),this.domElement.classList.add("controller"),this.domElement.classList.add(i),this.$name=document.createElement("div"),this.$name.classList.add("name"),rt.nextNameID=rt.nextNameID||0,this.$name.id="lil-gui-name-"+ ++rt.nextNameID,this.$widget=document.createElement("div"),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.domElement.addEventListener("keydown",(t=>t.stopPropagation())),this.domElement.addEventListener("keyup",(t=>t.stopPropagation())),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(n)}name(t){return this._name=t,this.$name.textContent=t,this}onChange(t){return this._onChange=t,this}_callOnChange(){this.parent._callOnChange(this),void 0!==this._onChange&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),void 0!==this._onFinishChange&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(t=!0){return this.disable(!t)}disable(t=!0){return t===this._disabled||(this._disabled=t,this.domElement.classList.toggle("disabled",t),this.$disable.toggleAttribute("disabled",t)),this}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(t){const e=this.parent.add(this.object,this.property,t);return e.name(this._name),this.destroy(),e}min(t){return this}max(t){return this}step(t){return this}decimals(t){return this}listen(t=!0){return this._listening=t,void 0!==this._listenCallbackID&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const t=this.save();t!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=t}getValue(){return this.object[this.property]}setValue(t){return this.getValue()!==t&&(this.object[this.property]=t,this._callOnChange(),this.updateDisplay()),this}updateDisplay(){return this}load(t){return this.setValue(t),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class st extends rt{constructor(t,e,n){super(t,e,n,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",(()=>{this.setValue(this.$input.checked),this._callOnFinishChange()})),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function at(t){let e,n;return(e=t.match(/(#|0x)?([a-f0-9]{6})/i))?n=e[2]:(e=t.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?n=parseInt(e[1]).toString(16).padStart(2,0)+parseInt(e[2]).toString(16).padStart(2,0)+parseInt(e[3]).toString(16).padStart(2,0):(e=t.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),!!n&&"#"+n}const ot={isPrimitive:!0,match:t=>"string"==typeof t,fromHexString:at,toHexString:at},ht={isPrimitive:!0,match:t=>"number"==typeof t,fromHexString:t=>parseInt(t.substring(1),16),toHexString:t=>"#"+t.toString(16).padStart(6,0)},ut={isPrimitive:!1,match:t=>Array.isArray(t),fromHexString(t,e,n=1){const i=ht.fromHexString(t);e[0]=(i>>16&255)/255*n,e[1]=(i>>8&255)/255*n,e[2]=(255&i)/255*n},toHexString:([t,e,n],i=1)=>ht.toHexString(t*(i=255/i)<<16^e*i<<8^n*i)},lt={isPrimitive:!1,match:t=>Object(t)===t,fromHexString(t,e,n=1){const i=ht.fromHexString(t);e.r=(i>>16&255)/255*n,e.g=(i>>8&255)/255*n,e.b=(255&i)/255*n},toHexString:({r:t,g:e,b:n},i=1)=>ht.toHexString(t*(i=255/i)<<16^e*i<<8^n*i)},ct=[ot,ht,ut,lt];class _t extends rt{constructor(t,e,n,i){var r;super(t,e,n,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=(r=this.initialValue,ct.find((t=>t.match(r)))),this._rgbScale=i,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",(()=>{this._setValueFromHexString(this.$input.value)})),this.$input.addEventListener("blur",(()=>{this._callOnFinishChange()})),this.$text.addEventListener("input",(()=>{const t=at(this.$text.value);t&&this._setValueFromHexString(t)})),this.$text.addEventListener("focus",(()=>{this._textFocused=!0,this.$text.select()})),this.$text.addEventListener("blur",(()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()})),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(t){if(this._format.isPrimitive){const e=this._format.fromHexString(t);this.setValue(e)}else this._format.fromHexString(t,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(t){return this._setValueFromHexString(t),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class ft extends rt{constructor(t,e,n){super(t,e,n,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",(t=>{t.preventDefault(),this.getValue().call(this.object),this._callOnChange()})),this.$button.addEventListener("touchstart",(()=>{}),{passive:!0}),this.$disable=this.$button}}class dt extends rt{constructor(t,e,n,i,r,s){super(t,e,n,"number"),this._initInput(),this.min(i),this.max(r);const a=void 0!==s;this.step(a?s:this._getImplicitStep(),a),this.updateDisplay()}decimals(t){return this._decimals=t,this.updateDisplay(),this}min(t){return this._min=t,this._onUpdateMinMax(),this}max(t){return this._max=t,this._onUpdateMinMax(),this}step(t,e=!0){return this._step=t,this._stepExplicit=e,this}updateDisplay(){const t=this.getValue();if(this._hasSlider){let e=(t-this._min)/(this._max-this._min);e=Math.max(0,Math.min(e,1)),this.$fill.style.width=100*e+"%"}return this._inputFocused||(this.$input.value=void 0===this._decimals?t:t.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id);window.matchMedia("(pointer: coarse)").matches&&(this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any")),this.$widget.appendChild(this.$input),this.$disable=this.$input;const t=t=>{const e=parseFloat(this.$input.value);isNaN(e)||(this._snapClampSetValue(e+t),this.$input.value=this.getValue())};let e,n,i,r,s,a=!1;const o=t=>{if(a){const i=t.clientX-e,r=t.clientY-n;Math.abs(r)>5?(t.preventDefault(),this.$input.blur(),a=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(i)>5&&h()}if(!a){const e=t.clientY-i;s-=e*this._step*this._arrowKeyMultiplier(t),r+s>this._max?s=this._max-r:r+s<this._min&&(s=this._min-r),this._snapClampSetValue(r+s)}i=t.clientY},h=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",h)};this.$input.addEventListener("input",(()=>{let t=parseFloat(this.$input.value);isNaN(t)||(this._stepExplicit&&(t=this._snap(t)),this.setValue(this._clamp(t)))})),this.$input.addEventListener("keydown",(e=>{"Enter"===e.key&&this.$input.blur(),"ArrowUp"===e.code&&(e.preventDefault(),t(this._step*this._arrowKeyMultiplier(e))),"ArrowDown"===e.code&&(e.preventDefault(),t(this._step*this._arrowKeyMultiplier(e)*-1))})),this.$input.addEventListener("wheel",(e=>{this._inputFocused&&(e.preventDefault(),t(this._step*this._normalizeMouseWheel(e)))}),{passive:!1}),this.$input.addEventListener("mousedown",(t=>{e=t.clientX,n=i=t.clientY,a=!0,r=this.getValue(),s=0,window.addEventListener("mousemove",o),window.addEventListener("mouseup",h)})),this.$input.addEventListener("focus",(()=>{this._inputFocused=!0})),this.$input.addEventListener("blur",(()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()}))}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const t=t=>{const e=this.$slider.getBoundingClientRect();let n=(i=t,r=e.left,s=e.right,a=this._min,o=this._max,(i-r)/(s-r)*(o-a)+a);var i,r,s,a,o;this._snapClampSetValue(n)},e=e=>{t(e.clientX)},n=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",n)};let i,r,s=!1;const a=e=>{e.preventDefault(),this._setDraggingStyle(!0),t(e.touches[0].clientX),s=!1},o=e=>{if(s){const t=e.touches[0].clientX-i,n=e.touches[0].clientY-r;Math.abs(t)>Math.abs(n)?a(e):(window.removeEventListener("touchmove",o),window.removeEventListener("touchend",h))}else e.preventDefault(),t(e.touches[0].clientX)},h=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",o),window.removeEventListener("touchend",h)},u=this._callOnFinishChange.bind(this);let l;this.$slider.addEventListener("mousedown",(i=>{this._setDraggingStyle(!0),t(i.clientX),window.addEventListener("mousemove",e),window.addEventListener("mouseup",n)})),this.$slider.addEventListener("touchstart",(t=>{t.touches.length>1||(this._hasScrollBar?(i=t.touches[0].clientX,r=t.touches[0].clientY,s=!0):a(t),window.addEventListener("touchmove",o,{passive:!1}),window.addEventListener("touchend",h))}),{passive:!1}),this.$slider.addEventListener("wheel",(t=>{if(Math.abs(t.deltaX)<Math.abs(t.deltaY)&&this._hasScrollBar)return;t.preventDefault();const e=this._normalizeMouseWheel(t)*this._step;this._snapClampSetValue(this.getValue()+e),this.$input.value=this.getValue(),clearTimeout(l),l=setTimeout(u,400)}),{passive:!1})}_setDraggingStyle(t,e="horizontal"){this.$slider&&this.$slider.classList.toggle("active",t),document.body.classList.toggle("lil-gui-dragging",t),document.body.classList.toggle(`lil-gui-${e}`,t)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(t){let{deltaX:e,deltaY:n}=t;Math.floor(t.deltaY)!==t.deltaY&&t.wheelDelta&&(e=0,n=-t.wheelDelta/120,n*=this._stepExplicit?1:10);return e+-n}_arrowKeyMultiplier(t){let e=this._stepExplicit?1:10;return t.shiftKey?e*=10:t.altKey&&(e/=10),e}_snap(t){const e=Math.round(t/this._step)*this._step;return parseFloat(e.toPrecision(15))}_clamp(t){return t<this._min&&(t=this._min),t>this._max&&(t=this._max),t}_snapClampSetValue(t){this.setValue(this._clamp(this._snap(t)))}get _hasScrollBar(){const t=this.parent.root.$children;return t.scrollHeight>t.clientHeight}get _hasMin(){return void 0!==this._min}get _hasMax(){return void 0!==this._max}}class mt extends rt{constructor(t,e,n,i){super(t,e,n,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$select.addEventListener("change",(()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()})),this.$select.addEventListener("focus",(()=>{this.$display.classList.add("focus")})),this.$select.addEventListener("blur",(()=>{this.$display.classList.remove("focus")})),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.options(i)}options(t){return this._values=Array.isArray(t)?t:Object.values(t),this._names=Array.isArray(t)?t:Object.keys(t),this.$select.replaceChildren(),this._names.forEach((t=>{const e=document.createElement("option");e.textContent=t,this.$select.appendChild(e)})),this.updateDisplay(),this}updateDisplay(){const t=this.getValue(),e=this._values.indexOf(t);return this.$select.selectedIndex=e,this.$display.textContent=-1===e?t:this._names[e],this}}class wt extends rt{constructor(t,e,n){super(t,e,n,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("spellcheck","false"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",(()=>{this.setValue(this.$input.value)})),this.$input.addEventListener("keydown",(t=>{"Enter"===t.code&&this.$input.blur()})),this.$input.addEventListener("blur",(()=>{this._callOnFinishChange()})),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}let gt=!1;class pt{constructor({parent:t,autoPlace:e=void 0===t,container:n,width:i,title:r="Controls",closeFolders:s=!1,injectStyles:a=!0,touchStyles:o=!0}={}){if(this.parent=t,this.root=t?t.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",(()=>this.openAnimated(this._closed))),this.$title.addEventListener("keydown",(t=>{"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.$title.click())})),this.$title.addEventListener("touchstart",(()=>{}),{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(r),this.parent)return this.parent.children.push(this),this.parent.folders.push(this),void this.parent.$children.appendChild(this.domElement);this.domElement.classList.add("root"),o&&this.domElement.classList.add("allow-touch-styles"),!gt&&a&&(!function(t){const e=document.createElement("style");e.innerHTML=t;const n=document.querySelector("head link[rel=stylesheet], head style");n?document.head.insertBefore(e,n):document.head.appendChild(e)}('.lil-gui {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  text-align: left;\n  color: var(--text-color);\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  --background-color: #1f1f1f;\n  --text-color: #ebebeb;\n  --title-background-color: #111111;\n  --title-text-color: #ebebeb;\n  --widget-color: #424242;\n  --hover-color: #4f4f4f;\n  --focus-color: #595959;\n  --number-color: #2cc9ff;\n  --string-color: #a2db3c;\n  --font-size: 11px;\n  --input-font-size: 11px;\n  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;\n  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;\n  --padding: 4px;\n  --spacing: 4px;\n  --widget-height: 20px;\n  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);\n  --name-width: 45%;\n  --slider-knob-width: 2px;\n  --slider-input-width: 27%;\n  --color-input-width: 27%;\n  --slider-input-min-width: 45px;\n  --color-input-min-width: 45px;\n  --folder-indent: 7px;\n  --widget-padding: 0 0 0 3px;\n  --widget-border-radius: 2px;\n  --checkbox-size: calc(0.75 * var(--widget-height));\n  --scrollbar-width: 5px;\n}\n.lil-gui, .lil-gui * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n.lil-gui.root {\n  width: var(--width, 245px);\n  display: flex;\n  flex-direction: column;\n  background: var(--background-color);\n}\n.lil-gui.root > .title {\n  background: var(--title-background-color);\n  color: var(--title-text-color);\n}\n.lil-gui.root > .children {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.lil-gui.root > .children::-webkit-scrollbar {\n  width: var(--scrollbar-width);\n  height: var(--scrollbar-width);\n  background: var(--background-color);\n}\n.lil-gui.root > .children::-webkit-scrollbar-thumb {\n  border-radius: var(--scrollbar-width);\n  background: var(--focus-color);\n}\n@media (pointer: coarse) {\n  .lil-gui.allow-touch-styles, .lil-gui.allow-touch-styles .lil-gui {\n    --widget-height: 28px;\n    --padding: 6px;\n    --spacing: 6px;\n    --font-size: 13px;\n    --input-font-size: 16px;\n    --folder-indent: 10px;\n    --scrollbar-width: 7px;\n    --slider-input-min-width: 50px;\n    --color-input-min-width: 65px;\n  }\n}\n.lil-gui.force-touch-styles, .lil-gui.force-touch-styles .lil-gui {\n  --widget-height: 28px;\n  --padding: 6px;\n  --spacing: 6px;\n  --font-size: 13px;\n  --input-font-size: 16px;\n  --folder-indent: 10px;\n  --scrollbar-width: 7px;\n  --slider-input-min-width: 50px;\n  --color-input-min-width: 65px;\n}\n.lil-gui.autoPlace {\n  max-height: 100%;\n  position: fixed;\n  top: 0;\n  right: 15px;\n  z-index: 1001;\n}\n\n.lil-gui .controller {\n  display: flex;\n  align-items: center;\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n}\n.lil-gui .controller.disabled {\n  opacity: 0.5;\n}\n.lil-gui .controller.disabled, .lil-gui .controller.disabled * {\n  pointer-events: none !important;\n}\n.lil-gui .controller > .name {\n  min-width: var(--name-width);\n  flex-shrink: 0;\n  white-space: pre;\n  padding-right: var(--spacing);\n  line-height: var(--widget-height);\n}\n.lil-gui .controller .widget {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  min-height: var(--widget-height);\n}\n.lil-gui .controller.string input {\n  color: var(--string-color);\n}\n.lil-gui .controller.boolean {\n  cursor: pointer;\n}\n.lil-gui .controller.color .display {\n  width: 100%;\n  height: var(--widget-height);\n  border-radius: var(--widget-border-radius);\n  position: relative;\n}\n@media (hover: hover) {\n  .lil-gui .controller.color .display:hover:before {\n    content: " ";\n    display: block;\n    position: absolute;\n    border-radius: var(--widget-border-radius);\n    border: 1px solid #fff9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n}\n.lil-gui .controller.color input[type=color] {\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n.lil-gui .controller.color input[type=text] {\n  margin-left: var(--spacing);\n  font-family: var(--font-family-mono);\n  min-width: var(--color-input-min-width);\n  width: var(--color-input-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.option select {\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  max-width: 100%;\n}\n.lil-gui .controller.option .display {\n  position: relative;\n  pointer-events: none;\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  line-height: var(--widget-height);\n  max-width: 100%;\n  overflow: hidden;\n  word-break: break-all;\n  padding-left: 0.55em;\n  padding-right: 1.75em;\n  background: var(--widget-color);\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .display.focus {\n    background: var(--focus-color);\n  }\n}\n.lil-gui .controller.option .display.active {\n  background: var(--focus-color);\n}\n.lil-gui .controller.option .display:after {\n  font-family: "lil-gui";\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding-right: 0.375em;\n}\n.lil-gui .controller.option .widget,\n.lil-gui .controller.option select {\n  cursor: pointer;\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .widget:hover .display {\n    background: var(--hover-color);\n  }\n}\n.lil-gui .controller.number input {\n  color: var(--number-color);\n}\n.lil-gui .controller.number.hasSlider input {\n  margin-left: var(--spacing);\n  width: var(--slider-input-width);\n  min-width: var(--slider-input-min-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.number .slider {\n  width: 100%;\n  height: var(--widget-height);\n  background: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  padding-right: var(--slider-knob-width);\n  overflow: hidden;\n  cursor: ew-resize;\n  touch-action: pan-y;\n}\n@media (hover: hover) {\n  .lil-gui .controller.number .slider:hover {\n    background: var(--hover-color);\n  }\n}\n.lil-gui .controller.number .slider.active {\n  background: var(--focus-color);\n}\n.lil-gui .controller.number .slider.active .fill {\n  opacity: 0.95;\n}\n.lil-gui .controller.number .fill {\n  height: 100%;\n  border-right: var(--slider-knob-width) solid var(--number-color);\n  box-sizing: content-box;\n}\n\n.lil-gui-dragging .lil-gui {\n  --hover-color: var(--widget-color);\n}\n.lil-gui-dragging * {\n  cursor: ew-resize !important;\n}\n\n.lil-gui-dragging.lil-gui-vertical * {\n  cursor: ns-resize !important;\n}\n\n.lil-gui .title {\n  height: var(--title-height);\n  line-height: calc(var(--title-height) - 4px);\n  font-weight: 600;\n  padding: 0 var(--padding);\n  -webkit-tap-highlight-color: transparent;\n  cursor: pointer;\n  outline: none;\n  text-decoration-skip: objects;\n}\n.lil-gui .title:before {\n  font-family: "lil-gui";\n  content: "";\n  padding-right: 2px;\n  display: inline-block;\n}\n.lil-gui .title:active {\n  background: var(--title-background-color);\n  opacity: 0.75;\n}\n@media (hover: hover) {\n  body:not(.lil-gui-dragging) .lil-gui .title:hover {\n    background: var(--title-background-color);\n    opacity: 0.85;\n  }\n  .lil-gui .title:focus {\n    text-decoration: underline var(--focus-color);\n  }\n}\n.lil-gui.root > .title:focus {\n  text-decoration: none !important;\n}\n.lil-gui.closed > .title:before {\n  content: "";\n}\n.lil-gui.closed > .children {\n  transform: translateY(-7px);\n  opacity: 0;\n}\n.lil-gui.closed:not(.transition) > .children {\n  display: none;\n}\n.lil-gui.transition > .children {\n  transition-duration: 300ms;\n  transition-property: height, opacity, transform;\n  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);\n  overflow: hidden;\n  pointer-events: none;\n}\n.lil-gui .children:empty:before {\n  content: "Empty";\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n  display: block;\n  height: var(--widget-height);\n  font-style: italic;\n  line-height: var(--widget-height);\n  opacity: 0.5;\n}\n.lil-gui.root > .children > .lil-gui > .title {\n  border: 0 solid var(--widget-color);\n  border-width: 1px 0;\n  transition: border-color 300ms;\n}\n.lil-gui.root > .children > .lil-gui.closed > .title {\n  border-bottom-color: transparent;\n}\n.lil-gui + .controller {\n  border-top: 1px solid var(--widget-color);\n  margin-top: 0;\n  padding-top: var(--spacing);\n}\n.lil-gui .lil-gui .lil-gui > .title {\n  border: none;\n}\n.lil-gui .lil-gui .lil-gui > .children {\n  border: none;\n  margin-left: var(--folder-indent);\n  border-left: 2px solid var(--widget-color);\n}\n.lil-gui .lil-gui .controller {\n  border: none;\n}\n\n.lil-gui label, .lil-gui input, .lil-gui button {\n  -webkit-tap-highlight-color: transparent;\n}\n.lil-gui input {\n  border: 0;\n  outline: none;\n  font-family: var(--font-family);\n  font-size: var(--input-font-size);\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  background: var(--widget-color);\n  color: var(--text-color);\n  width: 100%;\n}\n@media (hover: hover) {\n  .lil-gui input:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui input:active {\n    background: var(--focus-color);\n  }\n}\n.lil-gui input:disabled {\n  opacity: 1;\n}\n.lil-gui input[type=text],\n.lil-gui input[type=number] {\n  padding: var(--widget-padding);\n  -moz-appearance: textfield;\n}\n.lil-gui input[type=text]:focus,\n.lil-gui input[type=number]:focus {\n  background: var(--focus-color);\n}\n.lil-gui input[type=checkbox] {\n  appearance: none;\n  width: var(--checkbox-size);\n  height: var(--checkbox-size);\n  border-radius: var(--widget-border-radius);\n  text-align: center;\n  cursor: pointer;\n}\n.lil-gui input[type=checkbox]:checked:before {\n  font-family: "lil-gui";\n  content: "";\n  font-size: var(--checkbox-size);\n  line-height: var(--checkbox-size);\n}\n@media (hover: hover) {\n  .lil-gui input[type=checkbox]:focus {\n    box-shadow: inset 0 0 0 1px var(--focus-color);\n  }\n}\n.lil-gui button {\n  outline: none;\n  cursor: pointer;\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  color: var(--text-color);\n  width: 100%;\n  height: var(--widget-height);\n  text-transform: none;\n  background: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  border: none;\n}\n@media (hover: hover) {\n  .lil-gui button:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui button:focus {\n    box-shadow: inset 0 0 0 1px var(--focus-color);\n  }\n}\n.lil-gui button:active {\n  background: var(--focus-color);\n}\n\n@font-face {\n  font-family: "lil-gui";\n  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");\n}'),gt=!0),n?n.appendChild(this.domElement):e&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),i&&this.domElement.style.setProperty("--width",i+"px"),this._closeFolders=s}add(t,e,n,i,r){if(Object(n)===n)return new mt(this,t,e,n);const s=t[e];switch(typeof s){case"number":return new dt(this,t,e,n,i,r);case"boolean":return new st(this,t,e);case"string":return new wt(this,t,e);case"function":return new ft(this,t,e)}console.error("gui.add failed\n\tproperty:",e,"\n\tobject:",t,"\n\tvalue:",s)}addColor(t,e,n=1){return new _t(this,t,e,n)}addFolder(t){const e=new pt({parent:this,title:t});return this.root._closeFolders&&e.close(),e}load(t,e=!0){return t.controllers&&this.controllers.forEach((e=>{e instanceof ft||e._name in t.controllers&&e.load(t.controllers[e._name])})),e&&t.folders&&this.folders.forEach((e=>{e._title in t.folders&&e.load(t.folders[e._title])})),this}save(t=!0){const e={controllers:{},folders:{}};return this.controllers.forEach((t=>{if(!(t instanceof ft)){if(t._name in e.controllers)throw new Error(`Cannot save GUI with duplicate property "${t._name}"`);e.controllers[t._name]=t.save()}})),t&&this.folders.forEach((t=>{if(t._title in e.folders)throw new Error(`Cannot save GUI with duplicate folder "${t._title}"`);e.folders[t._title]=t.save()})),e}open(t=!0){return this._setClosed(!t),this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}_setClosed(t){this._closed!==t&&(this._closed=t,this._callOnOpenClose(this))}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(t=!0){return this._setClosed(!t),this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame((()=>{const e=this.$children.clientHeight;this.$children.style.height=e+"px",this.domElement.classList.add("transition");const n=t=>{t.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",n))};this.$children.addEventListener("transitionend",n);const i=t?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!t),requestAnimationFrame((()=>{this.$children.style.height=i+"px"}))})),this}title(t){return this._title=t,this.$title.textContent=t,this}reset(t=!0){return(t?this.controllersRecursive():this.controllers).forEach((t=>t.reset())),this}onChange(t){return this._onChange=t,this}_callOnChange(t){this.parent&&this.parent._callOnChange(t),void 0!==this._onChange&&this._onChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(t){this.parent&&this.parent._callOnFinishChange(t),void 0!==this._onFinishChange&&this._onFinishChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onOpenClose(t){return this._onOpenClose=t,this}_callOnOpenClose(t){this.parent&&this.parent._callOnOpenClose(t),void 0!==this._onOpenClose&&this._onOpenClose.call(this,t)}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach((t=>t.destroy()))}controllersRecursive(){let t=Array.from(this.controllers);return this.folders.forEach((e=>{t=t.concat(e.controllersRecursive())})),t}foldersRecursive(){let t=Array.from(this.folders);return this.folders.forEach((e=>{t=t.concat(e.foldersRecursive())})),t}}var vt=pt;let At;var Et;Et=()=>{At=new it,At.ready=()=>{!function(){var e,n;null===(e=document.getElementById("message"))||void 0===e||e.classList.add("hidden"),null===(n=document.getElementById("canvasGL"))||void 0===n||n.classList.remove("transparent");const i=new vt,r={github:()=>window.open("https://github.com/keaukraine/webgl-kmp-cartoonplanes-"),android:()=>window.open("https://play.google.com/store/apps/details?id=org.androidworks.livewallpaper.cartoonairplanes")},s=new t,a={toggleFullscreen:()=>{s.isFullScreen()?s.exitFullScreen():s.enterFullScreen()}};i.add(At,"currentCameraMode",{FrontEnd:k.FrontEnd,FPS:k.FPS}).name("Camera"),i.add(At.settings,"cameraPeriod",.1,2,.1),i.add(At.settings,"lowQuality"),i.add(At,"randomizeSky"),i.add(At,"randomizePlane"),i.add(a,"toggleFullscreen"),i.add(r,"github"),i.add(r,"android"),document.getElementById("canvasGL")&&document.addEventListener("keypress",(t=>{"f"===t.key&&(At.currentCameraMode=At.currentCameraMode===k.FPS?k.FrontEnd:k.FPS)}))}()},At.init("canvasGL",!0)},"loading"!==document.readyState?Et():document.addEventListener("DOMContentLoaded",Et);
//# sourceMappingURL=index.min.js.map
